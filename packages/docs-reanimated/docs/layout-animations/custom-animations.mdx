---
sidebar_position: 4
---

# Custom animations

import EnteringExitingAnimationSrc from '!!raw-loader!@site/src/examples/CustomEnteringExiting';
import LayoutAnimationSrc from '!!raw-loader!@site/src/examples/CustomLayoutAnimation';

If the predefined animations provided don't meet your needs, this guide will show you how to create custom animations. Under the hood, animation builders generate a worklet function that returns the essential data required to start a specific animation.

## Reference

```js
function CustomAnimation(values) {
  'worklet';
  const animations = {
    // your animations
  };
  const initialValues = {
    // initial values for animations
  };
  const callback = (finished: boolean) => {
    // optional callback that will fire when layout animation ends
  };
  return {
    initialValues,
    animations,
    callback,
  };
}
```

## Custom Exiting Animation

### Arguments

- `values` - contains information about where view was displayed and what were its dimensions
  - `values.currentOriginX` - X coordinate of top left corner in parent's coordinate system
  - `values.currentOriginY` - Y coordinate of top left corner in parent's coordinate system
  - `values.currentWidth` - view's width
  - `values.currentHeight` - view's height
  - `values.currentGlobalOriginX` - X coordinate of top left corner in global coordinate system
  - `values.currentGlobalOriginY` - Y coordinate of top left corner in global coordinate system

### Example

<ExampleVideo
  sources={{
    android:
      '/react-native-reanimated/recordings/custom_animations/android_exiting_custom.mov',
    ios: '/react-native-reanimated/recordings/custom_animations/ios_exiting_custom.mov',
  }}
/>

<CollapsibleCode src={EnteringExitingAnimationSrc} showLines={[32, 47]} />

## Custom Entering Animation

### Arguments

- `values` - contains information about where view wants to be displayed and what are its dimensions
  - `values.targetOriginX` - X coordinate of top left corner in parent's coordinate system
  - `values.targetOriginY` - Y coordinate of top left corner in parent's coordinate system
  - `values.targetWidth` - view's width
  - `values.targetHeight` - view's height
  - `values.targetGlobalOriginX` - X coordinate of top left corder in global coordinate system
  - `values.targetGlobalOriginY` - Y coordinate of top left corder in global coordinate system

### Example

<ExampleVideo
  sources={{
    android:
      '/react-native-reanimated/recordings/custom_animations/android_entering_custom.mov',
    ios: '/react-native-reanimated/recordings/custom_animations/ios_entering_custom.mov',
  }}
/>

<CollapsibleCode src={EnteringExitingAnimationSrc} showLines={[9, 30]} />

## Custom Layout Transition

### Arguments

- `values` - contains before and after information about the view's origin and dimensions
  - `values.targetOriginX` - X coordinate of top left corner in parent's coordinate system
  - `values.targetOriginY` - Y coordinate of top left corner in parent's coordinate system
  - `values.targetWidth` - view's width
  - `values.targetHeight` - view's height
  - `values.targetGlobalOriginX` - X coordinate of top left corder in global coordinate system
  - `values.targetGlobalOriginY` - Y coordinate of top left corder in global coordinate system
  - `values.currentOriginX` - X coordinate of top left corner in parent's coordinate system (before)
  - `values.currentOriginY` - Y coordinate of top left corner in parent's coordinate system (before)
  - `values.currentWidth` - view's width (before)
  - `values.currentHeight` - view's height (before)
  - `values.currentGlobalOriginX` - X coordinate of top left corner in global coordinate system (before)
  - `values.currentGlobalOriginY` - Y coordinate of top left corner in global coordinate system (before)

### Example

<ExampleVideo
  sources={{
    android:
      '/react-native-reanimated/recordings/custom_animations/android_layout_custom.mov',
    ios: '/react-native-reanimated/recordings/custom_animations/ios_layout_custom.mov',
  }}
/>

<CollapsibleCode src={LayoutAnimationSrc} showLines={[8, 28]} />

## Remarks

-Each Reanimated component has a shared value that keeps the current animations assigned to that particular component. If you start a new animation for a specific property without providing an initial value for that property, the initial value will be taken from the last animation assigned to the component. The only exception is the `Entering` animation, as we have no way to get the previous animation values.

## Platform compatibility

<div className="platform-compatibility">

| Android | iOS | Web |
| ------- | --- | --- |
| ✅      | ✅  | ❌  |

</div>
