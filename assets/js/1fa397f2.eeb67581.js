"use strict";(self.webpackChunkreact_native_reanimated_docs=self.webpackChunkreact_native_reanimated_docs||[]).push([[6897],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>d});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=r.createContext({}),c=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},s=function(e){var t=c(e.components);return r.createElement(u.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,u=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),p=c(n),f=a,d=p["".concat(u,".").concat(f)]||p[f]||m[f]||o;return n?r.createElement(d,l(l({ref:t},s),{},{components:n})):r.createElement(d,l({ref:t},s))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=f;var i={};for(var u in t)hasOwnProperty.call(t,u)&&(i[u]=t[u]);i.originalType=e,i[p]="string"==typeof e?e:a,l[1]=i;for(var c=2;c<o;c++)l[c]=n[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},78217:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>N,contentTitle:()=>x,default:()=>j,frontMatter:()=>C,metadata:()=>_,toc:()=>O});var r=n(83117),a=n(67294),o=n(3905),l=n(55651);const i="smallBox_qqYn",u="animatedBox_wi5f",c="row_aFiC",s="gap_YdoT",p="marginTop_v4Zy",m="marginLeft_CbJh",f="form_yNIp",d=e=>("#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16)}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16)}),h=(e,t)=>({r:Math.pow(e.r/255,t),g:Math.pow(e.g/255,t),b:Math.pow(e.b/255,t)}),g=(e,t,n,r)=>(t=h(t,r),n=h(n,r),((e,t)=>({r:Math.round(255*Math.pow(e.r,1/t)),g:Math.round(255*Math.pow(e.g,1/t)),b:Math.round(255*Math.pow(e.b,1/t))}))({r:t.r+(n.r-t.r)*e,g:t.g+(n.g-t.g)*e,b:t.b+(n.b-t.b)*e},r)),v=e=>{const{r:t,g:n,b:r}=e,a=Math.max(t,n,r),o=Math.min(t,n,r),l=a-o,i=0===a?0:l/a,u=a/255;let c;switch(a){default:case o:c=0;break;case t:c=n-r+l*(n<r?6:0),c/=6*l;break;case n:c=r-t+2*l,c/=6*l;break;case r:c=t-n+4*l,c/=6*l}return{h:c,s:i,v:u}},b=(e,t,n,r)=>{let a,o=v(t),l=v(n),i=l.h-o.h;if(r){let t=e;if(o.h>l.h){var u=l.h;l.h=o.h,o.h=u,i=-i,t=1-e}i>.5&&(o.h=o.h+1,a=(o.h+t*(l.h-o.h))%1),i<=.5&&(a=o.h+t*i)}else a=o.h+e*i;return(e=>{const{h:t,s:n,v:r}=e;let a,o,l,i,u,c,s,p;switch(i=Math.floor(6*t),u=6*t-i,c=r*(1-n),s=r*(1-u*n),p=r*(1-(1-u)*n),i%6){case 0:a=r,o=p,l=c;break;case 1:a=s,o=r,l=c;break;case 2:a=c,o=r,l=p;break;case 3:a=c,o=s,l=r;break;case 4:a=p,o=c,l=r;break;case 5:a=r,o=c,l=s}return{r:Math.round(255*a),g:Math.round(255*o),b:Math.round(255*l)}})({h:a,s:o.s+(l.s-o.s)*e,v:o.v+(l.v-o.v)*e})},k=e=>`rgb(${e.r}, ${e.g}, ${e.b})`,y=e=>{let{color1:t,color2:n,interpolateFunction:r}=e;return a.createElement("div",{className:c},new Array(11).fill(null).map(((e,t)=>t/10)).map((e=>a.createElement("div",{key:""+e,className:i,style:{backgroundColor:k(r(t,n,e))}}))))},E=e=>{let{color1:t,color2:n,interpolateFunction:r}=e;const o=(0,a.useRef)(),l=(0,a.useRef)(0),i=(0,a.useRef)(performance.now()),m=(0,a.useRef)(t),[f,d]=(0,a.useState)(0),h=[t,n];(0,a.useEffect)((()=>{if(k(m.current)!=k(h[f]))return i.current=performance.now(),l.current=requestAnimationFrame(g),()=>cancelAnimationFrame(l.current)}),[f]),(0,a.useEffect)((()=>{const e=o.current;d(0),m.current=h[0],e&&(e.style.backgroundColor=k(h[0]))}),[t,n,o,r]);const g=e=>{let r=(e-i.current)/1e3;r>1&&(r=1),v(r),1!=r?l.current=requestAnimationFrame(g):m.current=[t,n][f]},v=e=>{const t=o.current;t&&(t.style.backgroundColor=k(r(h[1-f],h[f],e)))};return a.createElement("div",{className:`${c} ${s} ${p}`},a.createElement("div",{className:u,ref:o}),a.createElement("button",{type:"button",onClick:()=>d(1-f)},"Start animation!"))},w=()=>{const[e,t]=(0,a.useState)("RGB"),[n,r]=(0,a.useState)("#00ff00"),[o,i]=(0,a.useState)("#ffc0cb"),[u,h]=(0,a.useState)(2.2),[v,k]=(0,a.useState)(!0);return a.createElement("div",null,a.createElement("div",{className:`${c} ${s}`},a.createElement("div",null,a.createElement("h4",null,"From: ",a.createElement(l.ZE,{color:n,onChange:r,prefixed:!0})),a.createElement(l.gW,{color:n,onChange:r})),a.createElement("div",null,a.createElement("h4",null,"To: ",a.createElement(l.ZE,{color:o,onChange:i,prefixed:!0})),a.createElement(l.gW,{color:o,onChange:i}))),a.createElement("table",{className:p},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Mode"),a.createElement("th",null,"Result"))),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null,"RGB without gamma correction"),a.createElement("td",null,a.createElement(y,{color1:d(n),color2:d(o),interpolateFunction:(e,t,n)=>g(n,e,t,1)}))),a.createElement("tr",null,a.createElement("td",null,"RGB with gamma = 2.2 (default)"),a.createElement("td",null,a.createElement(y,{color1:d(n),color2:d(o),interpolateFunction:(e,t,n)=>g(n,e,t,2.2)}))),a.createElement("tr",null,a.createElement("td",null,"HSV without correction"),a.createElement("td",null,a.createElement(y,{color1:d(n),color2:d(o),interpolateFunction:(e,t,n)=>b(n,e,t,!1)}))),a.createElement("tr",null,a.createElement("td",null,"HSV with correction"),a.createElement("td",null,a.createElement(y,{color1:d(n),color2:d(o),interpolateFunction:(e,t,n)=>b(n,e,t,!0)}))))),a.createElement("div",{className:f},a.createElement("h3",null,"Live demo"),a.createElement("label",null,"Select colorspace:",a.createElement("select",{value:e,onChange:e=>{t(e.target.value)},className:m},a.createElement("option",{value:"RGB"},"RGB"),a.createElement("option",{value:"HSV"},"HSV"))),"RGB"===e&&a.createElement("label",null,"Gamma:",a.createElement("input",{type:"number",value:u,onChange:e=>{const t=e.target.value;h(parseFloat(t))},step:"0.1",min:"0.1",max:"10",className:m})),"HSV"===e&&a.createElement("label",null,a.createElement("input",{type:"checkbox",checked:v,onChange:()=>k(!v)}),"Use corrected HSV"),a.createElement(E,{color1:d(n),color2:d(o),interpolateFunction:(t,n,r)=>"RGB"===e?g(r,t,n,u):b(r,t,n,v)})))},C={id:"interpolateColors",title:"interpolateColor",sidebar_label:"interpolateColor"},x=void 0,_={unversionedId:"api/miscellaneous/interpolateColors",id:"version-2.x/api/miscellaneous/interpolateColors",title:"interpolateColor",description:"Maps input range to output colors using linear interpolation. It works just like interpolate function but the output is color string in rgba(r, g, b, a) notation.",source:"@site/versioned_docs/version-2.x/api/miscellaneous/interpolateColors.mdx",sourceDirName:"api/miscellaneous",slug:"/api/miscellaneous/interpolateColors",permalink:"/react-native-reanimated/docs/2.x/api/miscellaneous/interpolateColors",draft:!1,editUrl:"https://github.com/software-mansion/react-native-reanimated/edit/main/versioned_docs/version-2.x/api/miscellaneous/interpolateColors.mdx",tags:[],version:"2.x",frontMatter:{id:"interpolateColors",title:"interpolateColor",sidebar_label:"interpolateColor"},sidebar:"docs",previous:{title:"runOnUI",permalink:"/react-native-reanimated/docs/2.x/api/miscellaneous/runOnUI"},next:{title:"Testing with Jest",permalink:"/react-native-reanimated/docs/2.x/guide/testing"}},N={},O=[{value:"Arguments",id:"arguments",level:3},{value:"<code>value</code> Float",id:"value-float",level:4},{value:"<code>input range</code> [Float[]]",id:"input-range-float",level:4},{value:"<code>output range</code> [(string | number)[]]",id:"output-range-string--number",level:4},{value:"<code>color space</code> String",id:"color-space-string",level:4},{value:"<code>options</code> Object",id:"options-object",level:4},{value:"Returns",id:"returns",level:3},{value:"Options explanation",id:"options-explanation",level:3},{value:"Example",id:"example",level:2},{value:"Playground",id:"playground",level:2}],M={toc:O},S="wrapper";function j(e){let{components:t,...n}=e;return(0,o.kt)(S,(0,r.Z)({},M,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Maps input range to output colors using linear interpolation. It works just like ",(0,o.kt)("inlineCode",{parentName:"p"},"interpolate")," function but the output is color string in ",(0,o.kt)("inlineCode",{parentName:"p"},"rgba(r, g, b, a)")," notation."),(0,o.kt)("h3",{id:"arguments"},"Arguments"),(0,o.kt)("h4",{id:"value-float"},(0,o.kt)("inlineCode",{parentName:"h4"},"value")," ","[Float]"),(0,o.kt)("p",null,"Value from within the input range that should be mapped to a value from the output range."),(0,o.kt)("h4",{id:"input-range-float"},(0,o.kt)("inlineCode",{parentName:"h4"},"input range")," [Float[]]"),(0,o.kt)("p",null,"An array of Floats that contains points that indicate the range of the input value. Values in the input range should be increasing."),(0,o.kt)("h4",{id:"output-range-string--number"},(0,o.kt)("inlineCode",{parentName:"h4"},"output range")," [(string | number)[]]"),(0,o.kt)("p",null,"An array of colors (strings like ",(0,o.kt)("inlineCode",{parentName:"p"},"'red'"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"'#ff0000'"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"'rgba(255, 0, 0, 0.5)'")," etc.) that contains points that indicate the range of the output value. It should have at least the same number of points as the input range."),(0,o.kt)("h4",{id:"color-space-string"},(0,o.kt)("inlineCode",{parentName:"h4"},"color space")," ","[String]"),(0,o.kt)("p",null,"Can be either ",(0,o.kt)("inlineCode",{parentName:"p"},"'RGB'")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"'HSV'"),"."),(0,o.kt)("h4",{id:"options-object"},(0,o.kt)("inlineCode",{parentName:"h4"},"options")," ","[Object]"),(0,o.kt)("p",null,"Object containing color interpolation options. Allowed parameters are listed below:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Options"),(0,o.kt)("th",{parentName:"tr",align:null},"Default"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"gamma"),(0,o.kt)("td",{parentName:"tr",align:null},"2.2"),(0,o.kt)("td",{parentName:"tr",align:null},"Gamma parameter used in gamma correction.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"useCorrectedHSVInterpolation"),(0,o.kt)("td",{parentName:"tr",align:null},"true"),(0,o.kt)("td",{parentName:"tr",align:null},"See ",(0,o.kt)("a",{parentName:"td",href:"#options-explanation"},"Options explanation")," section")))),(0,o.kt)("h3",{id:"returns"},"Returns"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"interpolateColor")," returns the color after interpolation from within the output range in ",(0,o.kt)("inlineCode",{parentName:"p"},"rgba(r, g, b, a)")," format."),(0,o.kt)("h3",{id:"options-explanation"},"Options explanation"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"gamma")," - Colors on web / mobile are expressed in sRGB colorspace which is gamma-corrected, that is non-linear.\nOperations on colors in non-linear space like addition will give wrong results. For example the interpolated color\nmay appear darker than it should. That's why when interpolating we convert sRGB to linear space first and then convert\nthe result back into non-linear sRGB space. Gamma correction is device-dependent but for most devices to convert\nfrom non-linear to linear space raising components to the power of gamma=2.2 is a good approximation. If you'd like to\ndisable that you can always set gamma=1. A nice article on that if you'd like to know more: ",(0,o.kt)("a",{parentName:"li",href:"https://observablehq.com/@sebastien/srgb-rgb-gamma"},"https://observablehq.com/@sebastien/srgb-rgb-gamma")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"useCorrectedHSVInterpolation")," - Sometimes (for example when interpolating from yellow to purple) HSV interpolation goes\nthrough many other hues. This option allows to reduce the number of hues in such cases by treating HSV hues like a circular spectrum and choosing\nthe shortest arc (so instead of going from yellow to purple through green and blue, it goes only through red).")),(0,o.kt)("h2",{id:"example"},"Example"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const Component = () => {\n  const progress = useSharedValue(0);\n\n  const animatedStyle = useAnimatedStyle(() => {\n    return {\n      backgroundColor: interpolateColor(\n        progress.value,\n        [0, 1],\n        ['red', 'green']\n      ),\n    };\n  });\n\n  return (\n    <View>\n      <Animated.View style={[{ width: 100, height: 100 }, animatedStyle]} />\n      <Button\n        onPress={() => {\n          progress.value = withTiming(1 - progress.value, { duration: 1000 });\n        }}\n        title=\"run animation\"\n      />\n    </View>\n  );\n};\n")),(0,o.kt)("h2",{id:"playground"},"Playground"),(0,o.kt)(w,{mdxType:"ColorWidgets"}))}j.isMDXComponent=!0},55651:(e,t,n)=>{n.d(t,{ZE:()=>D,gW:()=>T});var r=n(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(a[n]=e[n]);return a}function l(e){var t=(0,r.useRef)(e),n=(0,r.useRef)((function(e){t.current&&t.current(e)}));return t.current=e,n.current}var i=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e<t?t:e},u=function(e){return"touches"in e},c=function(e){return e&&e.ownerDocument.defaultView||self},s=function(e,t,n){var r=e.getBoundingClientRect(),a=u(t)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]}(t.touches,n):t;return{left:i((a.pageX-(r.left+c(e).pageXOffset))/r.width),top:i((a.pageY-(r.top+c(e).pageYOffset))/r.height)}},p=function(e){!u(e)&&e.preventDefault()},m=r.memo((function(e){var t=e.onMove,n=e.onKey,i=o(e,["onMove","onKey"]),m=(0,r.useRef)(null),f=l(t),d=l(n),h=(0,r.useRef)(null),g=(0,r.useRef)(!1),v=(0,r.useMemo)((function(){var e=function(e){p(e),(u(e)?e.touches.length>0:e.buttons>0)&&m.current?f(s(m.current,e,h.current)):n(!1)},t=function(){return n(!1)};function n(n){var r=g.current,a=c(m.current),o=n?a.addEventListener:a.removeEventListener;o(r?"touchmove":"mousemove",e),o(r?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,r=m.current;if(r&&(p(t),!function(e,t){return t&&!u(e)}(t,g.current)&&r)){if(u(t)){g.current=!0;var a=t.changedTouches||[];a.length&&(h.current=a[0].identifier)}r.focus(),f(s(r,t,h.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),d({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]}),[d,f]),b=v[0],k=v[1],y=v[2];return(0,r.useEffect)((function(){return y}),[y]),r.createElement("div",a({},i,{onTouchStart:b,onMouseDown:b,className:"react-colorful__interactive",ref:m,onKeyDown:k,tabIndex:0,role:"slider"}))})),f=function(e){return e.filter(Boolean).join(" ")},d=function(e){var t=e.color,n=e.left,a=e.top,o=void 0===a?.5:a,l=f(["react-colorful__pointer",e.className]);return r.createElement("div",{className:l,style:{top:100*o+"%",left:100*n+"%"}},r.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},h=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n},g=(Math.PI,function(e){return x(v(e))}),v=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?h(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?h(parseInt(e.substring(6,8),16)/255,2):1}},b=function(e){return C(E(e))},k=function(e){var t=e.s,n=e.v,r=e.a,a=(200-t)*n/100;return{h:h(e.h),s:h(a>0&&a<200?t*n/100/(a<=100?a:200-a)*100:0),l:h(a/2),a:h(r,2)}},y=function(e){var t=k(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},E=function(e){var t=e.h,n=e.s,r=e.v,a=e.a;t=t/360*6,n/=100,r/=100;var o=Math.floor(t),l=r*(1-n),i=r*(1-(t-o)*n),u=r*(1-(1-t+o)*n),c=o%6;return{r:h(255*[r,i,l,l,u,r][c]),g:h(255*[u,r,r,i,l,l][c]),b:h(255*[l,l,u,r,r,i][c]),a:h(a,2)}},w=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},C=function(e){var t=e.r,n=e.g,r=e.b,a=e.a,o=a<1?w(h(255*a)):"";return"#"+w(t)+w(n)+w(r)+o},x=function(e){var t=e.r,n=e.g,r=e.b,a=e.a,o=Math.max(t,n,r),l=o-Math.min(t,n,r),i=l?o===t?(n-r)/l:o===n?2+(r-t)/l:4+(t-n)/l:0;return{h:h(60*(i<0?i+6:i)),s:h(o?l/o*100:0),v:h(o/255*100),a:a}},_=r.memo((function(e){var t=e.hue,n=e.onChange,a=f(["react-colorful__hue",e.className]);return r.createElement("div",{className:a},r.createElement(m,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:i(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":h(t),"aria-valuemax":"360","aria-valuemin":"0"},r.createElement(d,{className:"react-colorful__hue-pointer",left:t/360,color:y({h:t,s:100,v:100,a:1})})))})),N=r.memo((function(e){var t=e.hsva,n=e.onChange,a={backgroundColor:y({h:t.h,s:100,v:100,a:1})};return r.createElement("div",{className:"react-colorful__saturation",style:a},r.createElement(m,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:i(t.s+100*e.left,0,100),v:i(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+h(t.s)+"%, Brightness "+h(t.v)+"%"},r.createElement(d,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:y(t)})))})),O=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},M=function(e,t){return e.toLowerCase()===t.toLowerCase()||O(v(e),v(t))};function S(e,t,n){var a=l(n),o=(0,r.useState)((function(){return e.toHsva(t)})),i=o[0],u=o[1],c=(0,r.useRef)({color:t,hsva:i});(0,r.useEffect)((function(){if(!e.equal(t,c.current.color)){var n=e.toHsva(t);c.current={hsva:n,color:t},u(n)}}),[t,e]),(0,r.useEffect)((function(){var t;O(i,c.current.hsva)||e.equal(t=e.fromHsva(i),c.current.color)||(c.current={hsva:i,color:t},a(t))}),[i,e,a]);var s=(0,r.useCallback)((function(e){u((function(t){return Object.assign({},t,e)}))}),[]);return[i,s]}var j,I="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,R=new Map,F=function(e){I((function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!R.has(t)){var r=t.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',R.set(t,r);var a=j||n.nc;a&&r.setAttribute("nonce",a),t.head.appendChild(r)}}),[])},B=function(e){var t=e.className,n=e.colorModel,l=e.color,i=void 0===l?n.defaultColor:l,u=e.onChange,c=o(e,["className","colorModel","color","onChange"]),s=(0,r.useRef)(null);F(s);var p=S(n,i,u),m=p[0],d=p[1],h=f(["react-colorful",t]);return r.createElement("div",a({},c,{ref:s,className:h}),r.createElement(N,{hsva:m,onChange:d}),r.createElement(_,{hue:m.h,onChange:d,className:"react-colorful__last-control"}))},H={defaultColor:"000",toHsva:g,fromHsva:function(e){return b({h:e.h,s:e.s,v:e.v,a:1})},equal:M},T=function(e){return r.createElement(B,a({},e,{colorModel:H}))},P=/^#?([0-9A-F]{3,8})$/i,V=function(e){var t=e.color,n=void 0===t?"":t,i=e.onChange,u=e.onBlur,c=e.escape,s=e.validate,p=e.format,m=e.process,f=o(e,["color","onChange","onBlur","escape","validate","format","process"]),d=(0,r.useState)((function(){return c(n)})),h=d[0],g=d[1],v=l(i),b=l(u),k=(0,r.useCallback)((function(e){var t=c(e.target.value);g(t),s(t)&&v(m?m(t):t)}),[c,m,s,v]),y=(0,r.useCallback)((function(e){s(e.target.value)||g(c(n)),b(e)}),[n,c,s,b]);return(0,r.useEffect)((function(){g(c(n))}),[n,c]),r.createElement("input",a({},f,{value:p?p(h):h,spellCheck:"false",onChange:k,onBlur:y}))},A=function(e){return"#"+e},D=function(e){var t=e.prefixed,n=e.alpha,l=o(e,["prefixed","alpha"]),i=(0,r.useCallback)((function(e){return e.replace(/([^0-9A-F]+)/gi,"").substring(0,n?8:6)}),[n]),u=(0,r.useCallback)((function(e){return function(e,t){var n=P.exec(e),r=n?n[1].length:0;return 3===r||6===r||!!t&&4===r||!!t&&8===r}(e,n)}),[n]);return r.createElement(V,a({},l,{escape:i,format:t?A:void 0,process:A,validate:u}))}}}]);