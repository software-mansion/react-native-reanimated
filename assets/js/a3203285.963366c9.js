"use strict";(self.webpackChunkdocs_reanimated=self.webpackChunkdocs_reanimated||[]).push([[5995],{28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>r});var s=n(96540);const a={},i=s.createContext(a);function o(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(i.Provider,{value:t},e.children)}},67852:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"api/hooks/useAnimatedStyle","title":"useAnimatedStyle","description":"This hook is one of the main elements of the new Reanimated v2 API.","source":"@site/versioned_docs/version-2.x/api/hooks/useAnimatedStyle.md","sourceDirName":"api/hooks","slug":"/api/hooks/useAnimatedStyle","permalink":"/react-native-reanimated/docs/2.x/api/hooks/useAnimatedStyle","draft":false,"unlisted":false,"editUrl":"https://github.com/software-mansion/react-native-reanimated/edit/main/packages/docs-reanimated/versioned_docs/version-2.x/api/hooks/useAnimatedStyle.md","tags":[],"version":"2.x","frontMatter":{"id":"useAnimatedStyle","title":"useAnimatedStyle","sidebar_label":"useAnimatedStyle"},"sidebar":"docs","previous":{"title":"useAnimatedSensor","permalink":"/react-native-reanimated/docs/2.x/api/hooks/useAnimatedSensor"},"next":{"title":"useDerivedValue","permalink":"/react-native-reanimated/docs/2.x/api/hooks/useDerivedValue"}}');var a=n(74848),i=n(28453);const o={id:"useAnimatedStyle",title:"useAnimatedStyle",sidebar_label:"useAnimatedStyle"},r=void 0,l={},d=[{value:"Arguments",id:"arguments",level:3},{value:"<code>updater</code> [Function]",id:"updater-function",level:4},{value:"<code>dependencies</code> [Array]",id:"dependencies-array",level:4},{value:"Returns",id:"returns",level:3},{value:"Example",id:"example",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"This hook is one of the main elements of the new Reanimated v2 API.\nIt allows for creating an association between shared values and View properties."}),"\n",(0,a.jsx)(t.h3,{id:"arguments",children:"Arguments"}),"\n",(0,a.jsxs)(t.h4,{id:"updater-function",children:[(0,a.jsx)(t.code,{children:"updater"})," [Function]"]}),"\n",(0,a.jsx)(t.p,{children:"Single worklet which is responsible for returning an object with view style properties."}),"\n",(0,a.jsxs)(t.h4,{id:"dependencies-array",children:[(0,a.jsx)(t.code,{children:"dependencies"})," [Array]"]}),"\n",(0,a.jsx)(t.p,{children:"Optional array of values which changes cause this hook to receive updated values during rerender of the wrapping component. This matters when, for instance, worklet uses values dependent on the component's state."}),"\n",(0,a.jsx)(t.p,{children:"Example:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",metastring:"{9}",children:"const App = () => {\n  const [state, setState] = useState(0);\n  const sv = useSharedValue(state);\n\n  const style = useAnimatedStyle(() => {\n    return {\n      width: sv.value,\n    };\n  }, dependencies);\n  //...\n  return <></>;\n};\n"})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.code,{children:"dependencies"})," here may be:"]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"undefined"}),"(argument skipped) - worklet will be rebuilt if there is any change in it's body or any values from it's closure(variables from outer scope used in worklet),"]}),"\n",(0,a.jsxs)(t.li,{children:["empty array(",(0,a.jsx)(t.code,{children:"[]"}),") - worklet will be rebuilt only if it's body changes,"]}),"\n",(0,a.jsxs)(t.li,{children:["array of values(",(0,a.jsx)(t.code,{children:"[val1, val2, ..., valN]"}),") - worklet will be rebuilt if there is any change in it's body or any values from the given array."]}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"returns",children:"Returns"}),"\n",(0,a.jsxs)(t.p,{children:["Animated style - in order to connect the animated style hook result, you need to pass it as one of the ",(0,a.jsx)(t.code,{children:"style"})," properties to the ",(0,a.jsx)(t.code,{children:"Animated"})," version of the component (e.g. ",(0,a.jsx)(t.code,{children:"Animated.View"}),").\nIn React Native, View's ",(0,a.jsx)(t.code,{children:"style"})," property can take an array of styles, which gives you a way to mix static and dynamic styles.\nWe recommend that you defined static styles using React Native's ",(0,a.jsxs)(t.a,{href:"https://reactnative.dev/docs/stylesheet",children:[(0,a.jsx)(t.code,{children:"StyleSheet"})," API"]})," and pass them along the animated styles object returned by this hook.\nIt is more efficient to only keep styles that are actually changed as a result of animation in the animated style hook, and the rest of the styles should be either provided as inline objects or using StyleSheets."]}),"\n",(0,a.jsx)(t.p,{children:"If the style worklet uses any shared values, it will be executed upon these values updates and the connected view will be updated."}),"\n",(0,a.jsxs)(t.p,{children:["For the list of available properties you can refer to the React Native core documentation on ",(0,a.jsx)(t.a,{href:"https://reactnative.dev/docs/view-style-props",children:"View Style Props"}),". You may also want to check React Native's ",(0,a.jsx)(t.a,{href:"https://reactnative.dev/docs/style",children:"guide on styling views"}),"."]}),"\n",(0,a.jsxs)(t.admonition,{type:"caution",children:[(0,a.jsx)(t.p,{children:"Animated styles cannot be shared between views."}),(0,a.jsxs)(t.p,{children:["To work around this you can generate multiple useAnimatedStyle in top-level loop (number of iterations must be static, see React's ",(0,a.jsx)(t.a,{href:"https://reactjs.org/docs/hooks-rules.html#only-call-hooks-at-the-top-level",children:"Rules of Hooks"})," for more information)."]})]}),"\n",(0,a.jsx)(t.h2,{id:"example",children:"Example"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",metastring:"{11-15}",children:"import { StyleSheet } from 'react-native';\nimport {\n  Animated,\n  useSharedValue,\n  useAnimatedStyle,\n} from 'react-native-reanimated';\n\nfunction App() {\n  const width = useSharedValue(50);\n\n  const animatedStyle = useAnimatedStyle(() => {\n    return {\n      width: width.value,\n    };\n  });\n\n  // attach animated style to a View using style property\n  return <Animated.View style={[styles.box, animatedStyle]} />;\n}\n\nconst styles = StyleSheet.create({\n  box: {\n    height: 50,\n    backgroundColor: 'blue',\n  },\n});\n"})}),"\n",(0,a.jsxs)(t.p,{children:["In the above example, the used shared value is not changing, hence there is no real benefit of using an animated style there.\nCheck out the documentation of ",(0,a.jsx)(t.a,{href:"useSharedValue",children:(0,a.jsx)(t.code,{children:"useSharedValue"})})," to learn how shared values can be updated."]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);