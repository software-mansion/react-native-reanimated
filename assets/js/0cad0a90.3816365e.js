"use strict";(self.webpackChunkdocs_reanimated=self.webpackChunkdocs_reanimated||[]).push([[6373],{5364:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>u,default:()=>m,frontMatter:()=>p,metadata:()=>i,toc:()=>f});const i=JSON.parse('{"id":"utilities/interpolate","title":"interpolate","description":"interpolate lets you map a value from one range to another using linear interpolation.","source":"@site/docs/utilities/interpolate.mdx","sourceDirName":"utilities","slug":"/utilities/interpolate","permalink":"/react-native-reanimated/docs/utilities/interpolate","draft":false,"unlisted":false,"editUrl":"https://github.com/software-mansion/react-native-reanimated/edit/main/packages/docs-reanimated/docs/utilities/interpolate.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Utilities","permalink":"/react-native-reanimated/docs/category/utilities"},"next":{"title":"clamp","permalink":"/react-native-reanimated/docs/utilities/clamp"}}');var a=n(47671),r=n(30620),o=n(42240),l=n(68797),s=n(69719),d=n(43654),c=n(70983);const p={sidebar_position:1},u="interpolate",h={},f=[{value:"Reference",id:"reference",level:2},{value:"Arguments",id:"arguments",level:3},{value:"<code>value</code>",id:"value",level:4},{value:"<code>input</code>",id:"input",level:4},{value:"<code>output</code>",id:"output",level:4},{value:"<code>extrapolate</code> <Optional></Optional>",id:"extrapolate-",level:4},{value:"Returns",id:"returns",level:3},{value:"Example",id:"example",level:2},{value:"Platform compatibility",id:"platform-compatibility",level:2}];function x(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components},{Details:n,InteractiveExample:i,Optional:p,PlatformCompatibility:u}=t;return n||g("Details",!0),i||g("InteractiveExample",!0),p||g("Optional",!0),u||g("PlatformCompatibility",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"interpolate",children:"interpolate"})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.code,{children:"interpolate"})," lets you map a value from one range to another using linear interpolation."]}),"\n","\n",(0,a.jsx)(i,{src:l.A,component:o.A}),"\n",(0,a.jsx)(t.h2,{id:"reference",children:"Reference"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"import { interpolate } from 'react-native-reanimated';\n\nfunction App() {\n  const animatedStyle = useAnimatedStyle(() => ({\n    // highlight-next-line\n    opacity: interpolate(sv.value, [0, 100], [0, 1], Extrapolation.CLAMP),\n  }));\n}\n"})}),"\n",(0,a.jsxs)(n,{children:[(0,a.jsx)("summary",{children:"Type definitions"}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-typescript",children:"enum Extrapolation {\n  IDENTITY = 'identity',\n  CLAMP = 'clamp',\n  EXTEND = 'extend',\n}\n\ntype ExtrapolationAsString = 'identity' | 'clamp' | 'extend';\n\nexport type ExtrapolationType =\n  | ExtrapolationConfig\n  | Extrapolation\n  | ExtrapolationAsString\n  | undefined;\n\nfunction interpolate(\n  value: number,\n  input: readonly number[],\n  output: readonly number[],\n  extrapolate?: ExtrapolationType\n): number;\n"})})]}),"\n",(0,a.jsx)(t.h3,{id:"arguments",children:"Arguments"}),"\n",(0,a.jsx)(t.h4,{id:"value",children:(0,a.jsx)(t.code,{children:"value"})}),"\n",(0,a.jsxs)(t.p,{children:["A number that is going to be mapped to the ",(0,a.jsx)(t.code,{children:"output"})," range."]}),"\n",(0,a.jsx)(t.h4,{id:"input",children:(0,a.jsx)(t.code,{children:"input"})}),"\n",(0,a.jsx)(t.p,{children:"An array of numbers specifying the input range of the interpolation."}),"\n",(0,a.jsx)(t.h4,{id:"output",children:(0,a.jsx)(t.code,{children:"output"})}),"\n",(0,a.jsx)(t.p,{children:"An array of numbers specifying the output range of the interpolation. It should have at least the same number of points as the input range."}),"\n",(0,a.jsxs)(t.h4,{id:"extrapolate-",children:[(0,a.jsx)(t.code,{children:"extrapolate"})," ",(0,a.jsx)(p,{})]}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"extrapolate"})," parameter determines what happens when the ",(0,a.jsx)(t.code,{children:"value"})," goes beyond the ",(0,a.jsx)(t.code,{children:"input"})," range. Defaults to ",(0,a.jsx)(t.code,{children:"Extrapolation.EXTEND"}),"."]}),"\n",(0,a.jsx)(t.p,{children:"Available types:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"Extrapolation.EXTEND"})," - predicts the values beyond the output range."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"Extrapolation.CLAMP"})," - clamps the value to the edge of the output range."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"Extrapolation.IDENTITY"})," - returns the provided value as is."]}),"\n"]}),"\n","\n",(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center",textAlign:"center"},children:[(0,a.jsxs)("div",{style:{maxWidth:320},children:[(0,a.jsx)("img",{src:(0,s.Ay)("/img/extrapolation/extend.png")}),(0,a.jsx)("p",{children:"EXTEND"})]}),(0,a.jsxs)("div",{style:{maxWidth:320},children:[(0,a.jsx)("img",{src:(0,s.Ay)("/img/extrapolation/clamp.png")}),(0,a.jsx)("p",{children:"CLAMP"})]}),(0,a.jsxs)("div",{style:{maxWidth:320},children:[(0,a.jsx)("img",{src:(0,s.Ay)("/img/extrapolation/identity.png")}),(0,a.jsx)("p",{children:"IDENTITY"})]})]}),"\n",(0,a.jsx)(t.p,{children:"This parameter also accepts string values:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.code,{children:'"extend"'})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.code,{children:'"clamp"'})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.code,{children:'"identity"'})}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["By default, the ",(0,a.jsx)(t.code,{children:"extrapolate"})," parameter applies the value passed to both edges of the range. To specify extrapolation to a particular edge, you can pass an object:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"const opacity = interpolate(\n  sv.value,\n  [0, 100],\n  [0, 1],\n  // highlight-next-line\n  { extrapolateLeft: Extrapolation.CLAMP }\n);\n"})}),"\n",(0,a.jsx)(t.h3,{id:"returns",children:"Returns"}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.code,{children:"interpolate"})," returns a mapped value within the output range."]}),"\n",(0,a.jsx)(t.h2,{id:"example",children:"Example"}),"\n","\n",(0,a.jsx)(i,{src:c.A,component:d.A,label:"Grab and drag any of the squares. The dashed lines indicate the range of the interpolation."}),"\n",(0,a.jsx)(t.h2,{id:"platform-compatibility",children:"Platform compatibility"}),"\n",(0,a.jsx)(u,{android:!0,ios:!0,web:!0})]})}function m(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(x,{...e})}):x(e)}function g(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},30620:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>l});var i=n(39471);const a={},r=i.createContext(a);function o(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(r.Provider,{value:t},e.children)}},42240:(e,t,n)=>{n.d(t,{A:()=>d});var i=n(39471),a=n(8589),r=n(14442),o=n(19727),l=n(47671);const s={code:"function InterpolateTsx1(){const{interpolate,offset,width}=this.__closure;return{opacity:interpolate(offset.value,[-width/2+160,width/2-160],[1,0]),transform:[{translateX:offset.value}]};}"};function d({width:e}){const t=(0,o.useSharedValue)(e/2-160),n=(0,o.useAnimatedStyle)(function({_worklet_8563490655549_init_data:e,interpolate:t,offset:n,width:i}){const a=()=>({opacity:t(n.value,[-i/2+160,i/2-160],[1,0]),transform:[{translateX:n.value}]});return a.__closure={interpolate:t,offset:n,width:i},a.__workletHash=8563490655549,a.__initData=e,a}({_worklet_8563490655549_init_data:s,interpolate:o.interpolate,offset:t,width:e}));return i.useEffect((()=>{t.value=(0,o.withRepeat)((0,o.withTiming)(-t.value,{duration:1750}),-1,!0)}),[]),(0,l.jsx)(a.A,{style:c.container,children:(0,l.jsx)(o.default.View,{style:[c.box,n]})})}const c=r.A.create({container:{flex:1,alignItems:"center",justifyContent:"center",height:"100%"},box:{height:120,width:120,backgroundColor:"#b58df1",borderRadius:20}})},43654:(e,t,n)=>{n.d(t,{A:()=>d});var i=n(56398),a=n(8589),r=n(31071),o=n(14442),l=n(19727),s=n(47671);function d(){const e=(0,l.useSharedValue)(0);return(0,s.jsx)(i.Zy,{style:f.container,children:(0,s.jsxs)(a.A,{style:f.wrapper,children:[(0,s.jsx)(h,{offset:e,extrapolation:l.Extrapolation.EXTEND}),(0,s.jsx)(h,{offset:e,extrapolation:l.Extrapolation.CLAMP}),(0,s.jsx)(h,{offset:e,extrapolation:l.Extrapolation.IDENTITY})]})})}const c={code:"function InterpolateRotationTsx1(){const{offset,withTiming}=this.__closure;offset.value=withTiming(0);}"},p={code:"function InterpolateRotationTsx2(event){const{offset}=this.__closure;offset.value=event.translationX;}"},u={code:"function InterpolateRotationTsx3(){const{offset,interpolate,extrapolation}=this.__closure;return{transform:[{translateX:offset.value},{rotate:interpolate(offset.value,[-100,0,100],[-360,0,360],extrapolation)+'deg'}]};}"};function h({offset:e,extrapolation:t}){const n=i.q6.Pan().onChange(function({_worklet_620584831166_init_data:e,offset:t}){const n=function(e){t.value=e.translationX};return n.__closure={offset:t},n.__workletHash=620584831166,n.__initData=e,n}({_worklet_620584831166_init_data:p,offset:e})).onFinalize(function({_worklet_7394812964285_init_data:e,offset:t,withTiming:n}){const i=function(){t.value=n(0)};return i.__closure={offset:t,withTiming:n},i.__workletHash=7394812964285,i.__initData=e,i}({_worklet_7394812964285_init_data:c,offset:e,withTiming:l.withTiming})),a=(0,l.useAnimatedStyle)(function({_worklet_15673749450720_init_data:e,offset:t,interpolate:n,extrapolation:i}){const a=()=>({transform:[{translateX:t.value},{rotate:n(t.value,[-100,0,100],[-360,0,360],i)+"deg"}]});return a.__closure={offset:t,interpolate:n,extrapolation:i},a.__workletHash=0xe415444afe0,a.__initData=e,a}({_worklet_15673749450720_init_data:u,offset:e,interpolate:l.interpolate,extrapolation:t}));return(0,s.jsx)(i.Sl,{gesture:n,children:(0,s.jsx)(l.default.View,{style:[f.box,a],children:(0,s.jsx)(r.A,{style:f.text,children:t.toUpperCase()})})})}const f=o.A.create({container:{flex:1,alignItems:"center",justifyContent:"center",height:"100%"},wrapper:{flex:1,alignItems:"center",justifyContent:"center",height:"100%",width:200,borderLeftColor:"#b58df1",borderLeftWidth:1,borderRightColor:"#b58df1",borderRightWidth:1,borderStyle:"dashed"},box:{height:80,width:80,margin:20,borderWidth:1,borderColor:"#b58df1",borderRadius:20,alignItems:"center",justifyContent:"center",cursor:"grab"},text:{color:"#b58df1",textTransform:"uppercase",fontWeight:"bold"}})},68797:(e,t,n)=>{n.d(t,{A:()=>i});const i="import React from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport Animated, {\n  useSharedValue,\n  useAnimatedStyle,\n  withTiming,\n  withRepeat,\n  interpolate,\n} from 'react-native-reanimated';\n\ninterface AppProps {\n  width: number;\n}\n\nexport default function App({ width }: AppProps) {\n  const offset = useSharedValue<number>(width / 2 - 160);\n\n  const animatedStyles = useAnimatedStyle(() => ({\n    // highlight-next-line\n    opacity: interpolate(\n      offset.value,\n      [-width / 2 + 160, width / 2 - 160],\n      [1, 0]\n    ),\n    transform: [{ translateX: offset.value }],\n  }));\n\n  React.useEffect(() => {\n    offset.value = withRepeat(\n      withTiming(-offset.value, { duration: 1750 }),\n      -1,\n      true\n    );\n  }, []);\n\n  return (\n    <View style={styles.container}>\n      <Animated.View style={[styles.box, animatedStyles]} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100%',\n  },\n  box: {\n    height: 120,\n    width: 120,\n    backgroundColor: '#b58df1',\n    borderRadius: 20,\n  },\n});\n"},70983:(e,t,n)=>{n.d(t,{A:()=>i});const i="import 'react-native-gesture-handler';\nimport React from 'react';\nimport { StyleSheet, Text, View } from 'react-native';\nimport Animated, {\n  useAnimatedStyle,\n  useSharedValue,\n  withTiming,\n  interpolate,\n  Extrapolation,\n} from 'react-native-reanimated';\nimport {\n  Gesture,\n  GestureDetector,\n  GestureHandlerRootView,\n} from 'react-native-gesture-handler';\nimport type { SharedValue } from 'react-native-reanimated';\n\nexport default function App() {\n  const offset = useSharedValue<number>(0);\n\n  return (\n    <GestureHandlerRootView style={styles.container}>\n      <View style={styles.wrapper}>\n        <Box offset={offset} extrapolation={Extrapolation.EXTEND} />\n        <Box offset={offset} extrapolation={Extrapolation.CLAMP} />\n        <Box offset={offset} extrapolation={Extrapolation.IDENTITY} />\n      </View>\n    </GestureHandlerRootView>\n  );\n}\n\ninterface BoxProps {\n  offset: SharedValue<number>;\n  extrapolation: Extrapolation;\n}\n\nfunction Box({ offset, extrapolation }: BoxProps) {\n  const pan = Gesture.Pan()\n    .onChange((event) => {\n      offset.value = event.translationX;\n    })\n    .onFinalize(() => {\n      offset.value = withTiming(0);\n    });\n\n  const animatedStyles = useAnimatedStyle(() => ({\n    transform: [\n      { translateX: offset.value },\n      {\n        // highlight-start\n        rotate:\n          interpolate(\n            offset.value,\n            [-100, 0, 100],\n            [-360, 0, 360],\n            extrapolation\n          ) + 'deg',\n        // highlight-end\n      },\n    ],\n  }));\n\n  return (\n    <GestureDetector gesture={pan}>\n      <Animated.View style={[styles.box, animatedStyles]}>\n        <Text style={styles.text}>{extrapolation.toUpperCase()}</Text>\n      </Animated.View>\n    </GestureDetector>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100%',\n  },\n  wrapper: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100%',\n    width: 200,\n    borderLeftColor: '#b58df1',\n    borderLeftWidth: 1,\n    borderRightColor: '#b58df1',\n    borderRightWidth: 1,\n    borderStyle: 'dashed',\n  },\n  box: {\n    height: 80,\n    width: 80,\n    margin: 20,\n    borderWidth: 1,\n    borderColor: '#b58df1',\n    borderRadius: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    cursor: 'grab',\n  },\n  text: {\n    color: '#b58df1',\n    textTransform: 'uppercase',\n    fontWeight: 'bold',\n  },\n});\n"}}]);