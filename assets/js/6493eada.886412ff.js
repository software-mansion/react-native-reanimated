"use strict";(self.webpackChunkdocs_reanimated=self.webpackChunkdocs_reanimated||[]).push([[3806],{14663:e=>{e.exports=JSON.parse('{"permalink":"/react-native-reanimated/examples/switch","source":"@site/blog/switch.md","title":"Switch","description":"A switch element is a user interface component that allows users to toggle between two or more states. It is commonly used to turn on/off a setting, enable/disable a feature, or select between options.","date":"2025-10-07T12:33:25.000Z","tags":[],"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"switch","title":"Switch"},"unlisted":false,"prevItem":{"title":"Slider","permalink":"/react-native-reanimated/examples/slider"}}')},56021:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(39471),a=n(94133);const r={container:"container_oGcb",collapseButton:"collapseButton_YVdr"};var i=n(87991),s=n(47671);function l(e){let{src:t,showLines:n}=e;const[l,u]=(0,o.useState)(!0);if(!n)return(0,s.jsx)(a.A,{language:"jsx",children:t});const[c,d]=n,h=t.split("\n").slice(c,d+1).join("\n");return(0,s.jsxs)("div",{className:r.container,children:[(0,s.jsx)(i.A,{label:"Collapse the full code",labelCollapsed:"Expand the full code",collapsed:l,onCollapse:()=>u(!l),className:r.collapseButton}),(0,s.jsx)(a.A,{language:"jsx",children:l?h:t})]})}},57038:(e,t,n)=>{n.d(t,{A:()=>ne});var o=n(88549),a=n(64436),r=n(39471),i=n(42901),s=n(42805),l=()=>{};var u=function(){var e=!1;if(s.A)try{var t={};Object.defineProperty(t,"passive",{get:()=>(e=!0,!1)}),window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(n){}return e}();function c(){return this.cancelBubble}function d(){return this.defaultPrevented}function h(e,t,n,o){var a=function(e){return null!=e&&(u?e:Boolean(e.capture))}(o),r=e=>{return n(((t=e).nativeEvent=t,t.persist=l,t.isDefaultPrevented=d,t.isPropagationStopped=c,t));var t};return e.addEventListener(t,r,a),function(){null!=e&&e.removeEventListener(t,r,a)}}var v,p,m="keyboard",f="keyboard",w=!1,g=new Set,b="keyboard",y="mouse",x="touch",A="contextmenu",k="mousedown",C="mousemove",S="mouseup",j="pointerdown",P="pointermove",_="scroll",E="selectionchange",V="touchcancel",T="touchmove",I="touchstart",L={passive:!0},O={capture:!0,passive:!0};function R(){null==v&&null==p||(null!=v&&(f=v,v=null),null!=p&&(m=p,p=null),D())}function B(e){var t=e.type;if("undefined"!=typeof window&&null!=window.PointerEvent){if(t===j)return void(m!==e.pointerType&&(f=e.pointerType,m=e.pointerType,D()));if(t===P)return void(f!==e.pointerType&&(f=e.pointerType,D()))}else{if(w||(t===k&&m!==y&&(f=y,m=y,D()),t===C&&f!==y&&(f=y,D())),t===I)return w=!0,e.touches&&e.touches.length>1&&(w=!1),void(m!==x&&(f=x,m=x,D()));t!==A&&t!==S&&t!==E&&t!==_&&t!==V&&t!==T||(w=!1)}}function D(){var e={activeModality:m,modality:f};g.forEach(t=>{t(e)})}s.A&&(h(window,"blur",function(){v=f,p=m,m=b,f=b,D(),w=!1},L),h(window,"focus",function(){R()},L),h(document,"keydown",function(e){e.metaKey||e.altKey||e.ctrlKey||f!==b&&(f=b,m=b,D())},O),h(document,"visibilitychange",function(){"hidden"!==document.visibilityState&&R()},O),h(document,j,B,O),h(document,P,B,O),h(document,A,B,O),h(document,k,B,O),h(document,C,B,O),h(document,S,B,O),h(document,V,B,O),h(document,T,B,O),h(document,I,B,O),h(document,E,B,O),h(document,_,B,O));var H=n(22562),M=n(79318);function N(e,t){var n=(0,M.A)(()=>new Map),o=(0,M.A)(()=>(o,a)=>{var r=n.get(o);null!=r&&r(),null==a&&(n.delete(o),a=()=>{});var i=h(o,e,a,t);return n.set(o,i),i});return(0,H.A)(()=>()=>{n.forEach(e=>{e()}),n.clear()},[n]),o}var F={},K={passive:!0},X="react-gui:hover:lock",J="react-gui:hover:unlock";function W(e,t,n){var o=document.createEvent("CustomEvent"),a=n||F,r=a.bubbles,i=void 0===r||r,s=a.cancelable,l=void 0===s||s,u=a.detail;o.initCustomEvent(t,i,l,u),e.dispatchEvent(o)}function G(e){var t=e.pointerType;return null!=t?t:f}function U(e,t){var n=t.contain,o=t.disabled,a=t.onHoverStart,r=t.onHoverChange,i=t.onHoverUpdate,s=t.onHoverEnd,l=!("undefined"==typeof window||null==window.PointerEvent),u=N(l?"pointermove":"mousemove",K),c=N(l?"pointerenter":"mouseenter",K),d=N(l?"pointerleave":"mouseleave",K),h=N(X,K),v=N(J,K);(0,H.A)(()=>{var t=e.current;if(null!==t){var l=function(e){null!=s&&s(e),null!=r&&r(!1),u(t,null),d(t,null)},p=function(t){var o=e.current;null!=o&&"touch"!==G(t)&&(n&&W(o,J),l(t))},m=function(e){"touch"!==G(e)&&null!=i&&(null==e.x&&(e.x=e.clientX),null==e.y&&(e.y=e.clientY),i(e))},f=function(e){null!=a&&a(e),null!=r&&r(!0),null!=i&&u(t,o?null:m),d(t,o?null:p)};c(t,o?null:function(t){var a=e.current;if(null!=a&&"touch"!==G(t)){n&&W(a,X),f(t);h(a,o?null:function(e){e.target!==a&&l(t)}),v(a,o?null:function(e){e.target!==a&&f(t)})}})}},[c,u,d,h,v,n,o,a,r,i,s,e])}var Y=n(94497),z=n(14442),Z=n(8589),q=["children","delayLongPress","delayPressIn","delayPressOut","disabled","onBlur","onContextMenu","onFocus","onHoverIn","onHoverOut","onKeyDown","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","tabIndex","testOnly_hovered","testOnly_pressed"];function Q(e,t){var n=e.children,s=e.delayLongPress,l=e.delayPressIn,u=e.delayPressOut,c=e.disabled,d=e.onBlur,h=e.onContextMenu,v=e.onFocus,p=e.onHoverIn,m=e.onHoverOut,f=e.onKeyDown,w=e.onLongPress,g=e.onPress,b=e.onPressMove,y=e.onPressIn,x=e.onPressOut,A=e.style,k=e.tabIndex,C=e.testOnly_hovered,S=e.testOnly_pressed,j=(0,a.A)(e,q),P=$(!0===C),_=P[0],E=P[1],V=$(!1),T=V[0],I=V[1],L=$(!0===S),O=L[0],R=L[1],B=(0,r.useRef)(null),D=(0,i.A)(t,B),H=(0,r.useMemo)(()=>({delayLongPress:s,delayPressStart:l,delayPressEnd:u,disabled:c,onLongPress:w,onPress:g,onPressChange:R,onPressStart:y,onPressMove:b,onPressEnd:x}),[s,l,u,c,w,g,y,b,x,R]),M=(0,Y.A)(B,H),N=M.onContextMenu,F=M.onKeyDown;U(B,{contain:!0,disabled:c,onHoverChange:E,onHoverStart:p,onHoverEnd:m});var K,X={hovered:_,focused:T,pressed:O},J=r.useCallback(e=>{e.nativeEvent.target===B.current&&(I(!1),null!=d&&d(e))},[B,I,d]),W=r.useCallback(e=>{e.nativeEvent.target===B.current&&(I(!0),null!=v&&v(e))},[B,I,v]),G=r.useCallback(e=>{null!=N&&N(e),null!=h&&h(e)},[h,N]),z=r.useCallback(e=>{null!=F&&F(e),null!=f&&f(e)},[f,F]);return K=void 0!==k?k:c?-1:0,r.createElement(Z.A,(0,o.A)({},j,M,{"aria-disabled":c,onBlur:J,onContextMenu:G,onFocus:W,onKeyDown:z,ref:D,style:[c?ee.disabled:ee.active,"function"==typeof A?A(X):A],tabIndex:K}),"function"==typeof n?n(X):n)}function $(e){var t=(0,r.useState)(!1);return[t[0]||e,t[1]]}var ee=z.A.create({active:{cursor:"pointer",touchAction:"manipulation"},disabled:{pointerEvents:"box-none"}}),te=(0,r.memo)((0,r.forwardRef)(Q));te.displayName="Pressable";const ne=te},64967:(e,t,n)=>{n.d(t,{A:()=>p});n(39471);var o=n(14442),a=n(90424),r=n(57038),i=n(90441),s=n(8589),l=n(19727),u=n(47671);const c={code:"function SwitchJs1(){const{interpolateColor,value,trackColors,withTiming,duration,height}=this.__closure;const color=interpolateColor(value.value,[0,1],[trackColors.off,trackColors.on]);const colorValue=withTiming(color,{duration:duration});return{backgroundColor:colorValue,borderRadius:height.value/2};}"},d={code:"function SwitchJs2(){const{interpolate,value,width,height,withTiming,duration}=this.__closure;const moveValue=interpolate(Number(value.value),[0,1],[0,width.value-height.value]);const translateValue=withTiming(moveValue,{duration:duration});return{transform:[{translateX:translateValue}],borderRadius:height.value/2};}"},h=e=>{let{value:t,onPress:n,style:o,duration:a=400,trackColors:i={on:"#82cab2",off:"#fa7f7c"}}=e;const s=(0,l.useSharedValue)(0),h=(0,l.useSharedValue)(0),p=(0,l.useAnimatedStyle)(function(e){let{_worklet_1970655606697_init_data:t,interpolateColor:n,value:o,trackColors:a,withTiming:r,duration:i,height:s}=e;const l=function(){const e=n(o.value,[0,1],[a.off,a.on]);return{backgroundColor:r(e,{duration:i}),borderRadius:s.value/2}};return l.__closure={interpolateColor:n,value:o,trackColors:a,withTiming:r,duration:i,height:s},l.__workletHash=1970655606697,l.__initData=t,l}({_worklet_1970655606697_init_data:c,interpolateColor:l.interpolateColor,value:t,trackColors:i,withTiming:l.withTiming,duration:a,height:s})),m=(0,l.useAnimatedStyle)(function(e){let{_worklet_9540285382782_init_data:t,interpolate:n,value:o,width:a,height:r,withTiming:i,duration:s}=e;const l=function(){const e=n(Number(o.value),[0,1],[0,a.value-r.value]);return{transform:[{translateX:i(e,{duration:s})}],borderRadius:r.value/2}};return l.__closure={interpolate:n,value:o,width:a,height:r,withTiming:i,duration:s},l.__workletHash=9540285382782,l.__initData=t,l}({_worklet_9540285382782_init_data:d,interpolate:l.interpolate,value:t,width:h,height:s,withTiming:l.withTiming,duration:a}));return(0,u.jsx)(r.A,{onPress:n,children:(0,u.jsx)(l.default.View,{onLayout:e=>{s.value=e.nativeEvent.layout.height,h.value=e.nativeEvent.layout.width},style:[v.track,o,p],children:(0,u.jsx)(l.default.View,{style:[v.thumb,m]})})})},v=o.A.create({track:{alignItems:"flex-start",width:100,height:40,padding:5},thumb:{height:"100%",aspectRatio:1,backgroundColor:"white"}});function p(){const e=(0,l.useSharedValue)(!1),t=()=>{e.value=!e.value};return(0,u.jsxs)(i.A,{style:m.container,children:[(0,u.jsx)(h,{value:e,onPress:t,style:m.switch}),(0,u.jsx)(s.A,{style:m.buttonContainer,children:(0,u.jsx)(a.A,{onPress:t,title:"Click me"})})]})}const m=o.A.create({switch:{width:200,height:80,padding:10},container:{flex:1,height:300,alignItems:"center",justifyContent:"center"},buttonContainer:{paddingTop:"1rem",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}})},68924:(e,t,n)=>{n.d(t,{A:()=>o});const o="import React from 'react';\nimport {\n  Pressable,\n  SafeAreaView,\n  View,\n  StyleSheet,\n  Button,\n} from 'react-native';\nimport Animated, {\n  interpolate,\n  interpolateColor,\n  useAnimatedStyle,\n  useSharedValue,\n  withTiming,\n} from 'react-native-reanimated';\n\nconst Switch = ({\n  value,\n  onPress,\n  style,\n  duration = 400,\n  trackColors = { on: '#82cab2', off: '#fa7f7c' },\n}) => {\n  const height = useSharedValue(0);\n  const width = useSharedValue(0);\n\n  const trackAnimatedStyle = useAnimatedStyle(() => {\n    const color = interpolateColor(\n      value.value,\n      [0, 1],\n      [trackColors.off, trackColors.on]\n    );\n    const colorValue = withTiming(color, { duration });\n\n    return {\n      backgroundColor: colorValue,\n      borderRadius: height.value / 2,\n    };\n  });\n\n  const thumbAnimatedStyle = useAnimatedStyle(() => {\n    const moveValue = interpolate(\n      Number(value.value),\n      [0, 1],\n      [0, width.value - height.value]\n    );\n    const translateValue = withTiming(moveValue, { duration });\n\n    return {\n      transform: [{ translateX: translateValue }],\n      borderRadius: height.value / 2,\n    };\n  });\n\n  return (\n    <Pressable onPress={onPress}>\n      <Animated.View\n        onLayout={(e) => {\n          height.value = e.nativeEvent.layout.height;\n          width.value = e.nativeEvent.layout.width;\n        }}\n        style={[switchStyles.track, style, trackAnimatedStyle]}>\n        <Animated.View\n          style={[switchStyles.thumb, thumbAnimatedStyle]}></Animated.View>\n      </Animated.View>\n    </Pressable>\n  );\n};\n\nconst switchStyles = StyleSheet.create({\n  track: {\n    alignItems: 'flex-start',\n    width: 100,\n    height: 40,\n    padding: 5,\n  },\n  thumb: {\n    height: '100%',\n    aspectRatio: 1,\n    backgroundColor: 'white',\n  },\n});\n\nexport default function App() {\n  const isOn = useSharedValue(false);\n\n  const handlePress = () => {\n    isOn.value = !isOn.value;\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <Switch value={isOn} onPress={handlePress} style={styles.switch} />\n      <View style={styles.buttonContainer}>\n        <Button onPress={handlePress} title=\"Click me\" />\n      </View>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  switch: {\n    width: 200,\n    height: 80,\n    padding: 10,\n  },\n  container: {\n    flex: 1,\n    height: 300,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  buttonContainer: {\n    paddingTop: '1rem',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n"},81608:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>u,metadata:()=>o,toc:()=>h});var o=n(14663),a=n(47671),r=n(30620),i=n(64967),s=n(68924),l=n(56021);const u={slug:"switch",title:"Switch"},c=void 0,d={authorsImageUrls:[]},h=[];function v(e){const t={a:"a",code:"code",p:"p",strong:"strong",...(0,r.R)(),...e.components},{ExampleVideo:n,InteractiveExample:o}=t;return n||m("ExampleVideo",!0),o||m("InteractiveExample",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"A switch element is a user interface component that allows users to toggle between two or more states. It is commonly used to turn on/off a setting, enable/disable a feature, or select between options."}),"\n","\n",(0,a.jsx)(o,{src:s.A,component:i.A}),"\n",(0,a.jsxs)(t.p,{children:["The following implementation of a switch relies on ",(0,a.jsx)(t.a,{href:"/docs/fundamentals/glossary#animatable-value",children:"animatable values"}),". Leveraging animatable values of color and position enables smooth transition between the two states."]}),"\n",(0,a.jsx)("samp",{id:"Switch",children:"Switch"}),"\n",(0,a.jsx)(l.A,{src:s.A,showLines:[26,52]}),"\n",(0,a.jsx)(n,{sources:{android:"/react-native-reanimated/recordings/examples/switch_android.mp4",ios:"/react-native-reanimated/recordings/examples/switch_ios.mov"}}),"\n",(0,a.jsxs)(t.p,{children:["We use the ",(0,a.jsx)(t.code,{children:"useSharedValue"})," hook to store the dimensions of the element, which allows for precise calculation of position changes during the animation. The hook is there to prevent unnecessary re-renders."]}),"\n",(0,a.jsx)(l.A,{src:s.A,showLines:[23,25]}),"\n",(0,a.jsxs)(t.p,{children:["The values are updated during the ",(0,a.jsx)(t.code,{children:"onLayout"})," event of the element."]}),"\n",(0,a.jsx)(l.A,{src:s.A,showLines:[56,61]}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.strong,{children:"Switch"})," component can represent any boolean value passed as a prop. The state dynamically adjusts based on the ",(0,a.jsx)(t.code,{children:"value"})," prop resulting in smooth transition animations. It enables passing any function using the ",(0,a.jsx)(t.code,{children:"onPress"})," prop. The ",(0,a.jsx)(t.code,{children:"duration"})," prop controls the duration of the animation. The ",(0,a.jsx)(t.code,{children:"style"})," and ",(0,a.jsx)(t.code,{children:"trackColors"})," props enable personalization."]}),"\n",(0,a.jsx)("samp",{id:"Switch",children:"Switch"}),"\n",(0,a.jsx)(l.A,{src:s.A,showLines:[16,67]})]})}function p(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(v,{...e})}):v(e)}function m(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},87991:(e,t,n)=>{n.d(t,{A:()=>m});const o="collapseButton_X7H2",a="arrow_XdVJ";var r,i=n(39471);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s.apply(null,arguments)}const l=e=>{let{title:t,titleId:n,...o}=e;return i.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:12,height:7,fill:"none",viewBox:"0 0 12 7","aria-labelledby":n},o),t?i.createElement("title",{id:n},t):null,r||(r=i.createElement("path",{stroke:"#001A72",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m1 1 5 5 5-5"})))};var u;function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c.apply(null,arguments)}const d=e=>{let{title:t,titleId:n,...o}=e;return i.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:12,height:7,fill:"none",viewBox:"0 0 12 7","aria-labelledby":n},o),t?i.createElement("title",{id:n},t):null,u||(u=i.createElement("path",{stroke:"#F8F9FF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m1 1 5 5 5-5"})))};var h=n(10287),v=n(34164),p=n(47671);const m=e=>{let{label:t,labelCollapsed:n,collapsed:r,onCollapse:i,className:s}=e;const{colorMode:u}=(0,h.G)();return(0,p.jsxs)("div",{className:(0,v.A)(o,s),"data-collapsed":r,onClick:()=>i(),children:["light"===u?(0,p.jsx)(l,{className:a}):(0,p.jsx)(d,{className:a}),(0,p.jsx)("button",{children:r?n:t})]})}},90424:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(39471),a=n(14442),r=n(21844),i=n(31071),s=o.forwardRef((e,t)=>{var n=e.accessibilityLabel,a=e.color,s=e.disabled,u=e.onPress,c=e.testID,d=e.title;return o.createElement(r.A,{accessibilityLabel:n,accessibilityRole:"button",disabled:s,focusable:!s,onPress:u,ref:t,style:[l.button,a&&{backgroundColor:a},s&&l.buttonDisabled],testID:c},o.createElement(i.A,{style:[l.text,s&&l.textDisabled]},d))});s.displayName="Button";var l=a.A.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}});const u=s},90441:(e,t,n)=>{n.d(t,{A:()=>v});var o=n(88549),a=n(64436),r=n(39471),i=n(14442),s=n(8589),l=n(42805),u=["style"],c=l.A&&window.CSS&&window.CSS.supports&&window.CSS.supports("top: constant(safe-area-inset-top)")?"constant":"env",d=r.forwardRef((e,t)=>{var n=e.style,i=(0,a.A)(e,u);return r.createElement(s.A,(0,o.A)({},i,{ref:t,style:[h.root,n]}))});d.displayName="SafeAreaView";var h=i.A.create({root:{paddingTop:c+"(safe-area-inset-top)",paddingRight:c+"(safe-area-inset-right)",paddingBottom:c+"(safe-area-inset-bottom)",paddingLeft:c+"(safe-area-inset-left)"}});const v=d}}]);