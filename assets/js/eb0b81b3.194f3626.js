"use strict";(self.webpackChunkdocs_reanimated=self.webpackChunkdocs_reanimated||[]).push([[2936],{30620:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var i=t(39471);const a={},s=i.createContext(a);function o(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(s.Provider,{value:n},e.children)}},93080:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>Y,contentTitle:()=>W,default:()=>M,frontMatter:()=>O,metadata:()=>i,toc:()=>D});const i=JSON.parse('{"id":"tutorials/LayoutAnimations/layoutAnimations","title":"How to easily animate your screens and components","description":"Layout Animations are available since v2.3.0","source":"@site/versioned_docs/version-2.x/tutorials/LayoutAnimations/animated_list.mdx","sourceDirName":"tutorials/LayoutAnimations","slug":"/tutorials/LayoutAnimations/layoutAnimations","permalink":"/react-native-reanimated/docs/2.x/tutorials/LayoutAnimations/layoutAnimations","draft":false,"unlisted":false,"editUrl":"https://github.com/software-mansion/react-native-reanimated/edit/main/docs/docs-reanimated/versioned_docs/version-2.x/tutorials/LayoutAnimations/animated_list.mdx","tags":[],"version":"2.x","frontMatter":{"id":"layoutAnimations","title":"How to easily animate your screens and components","sidebar_label":"Layout Animations","hide_table_of_contents":true},"sidebar":"docs","previous":{"title":"Debugging worklets","permalink":"/react-native-reanimated/docs/2.x/guide/debugging"},"next":{"title":"Community","permalink":"/react-native-reanimated/docs/2.x/community"}}');var a=t(47671),s=t(30620),o=t(39471);const r="container_ttGD",c="roundedStep_Tvyp",d="description_cmPV",l="stepTitle_FQH1",m="code_Wm5Z",p="codeInactive_UsiA";var u=t(34164);const h=e=>{let{children:n,title:t}=e;const[i,s]=(0,o.useState)(!1),h=(0,o.useRef)(),x=()=>{const e=window.innerHeight,n=window.pageYOffset,t=h.current.offsetTop-e/3,i=h.current.offsetTop+h.current.scrollHeight+60-e/3;s(n>t&&n<i)};return(0,o.useEffect)(()=>(x(),window.addEventListener("scroll",x,{passive:!0}),()=>{window.removeEventListener("scroll",x)}),[]),(0,a.jsxs)("div",{className:(0,u.A)(r),ref:h,children:[(0,a.jsx)("div",{className:(0,u.A)(d),children:(0,a.jsxs)("div",{className:(0,u.A)(c),style:i?{borderColor:"#001a72"}:{},children:[(0,a.jsx)("div",{className:(0,u.A)(l),children:t}),n[0]]})}),(0,a.jsx)("div",{className:(0,u.A)(i?m:[m,p]),children:n[1]})]})},x="container_Zd1s",f="gifs_ufg8",g="rightArrow_ZdOg",y="downArrow_jGSi",w=e=>{let{before:n,after:t}=e;const[i,s]=(0,o.useState)(null);return(0,o.useEffect)(()=>{function e(){const{innerWidth:e}=window;s(e)}return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.jsxs)("div",{className:(0,u.A)(x),children:[(0,a.jsx)("img",{src:n,className:(0,u.A)(f)}),i&&i>=650&&(0,a.jsx)("div",{className:(0,u.A)(g),children:"\u2192"}),i&&i<650&&(0,a.jsx)("div",{className:(0,u.A)(y),children:"\u2193"}),(0,a.jsx)("img",{src:t,className:(0,u.A)(f)})]})};function j(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"...\nfunction Participant({\n  name,\n  onRemove,\n}: {\n  name: string;\n  onRemove: () => void;\n}) {\n  return (\n    <View\n      style={[styles.participantView]}>\n      <Text>{name}</Text>\n      <Button title=\"Remove\" color=\"red\" onPress={onRemove} />\n    </View>\n  );\n}\n\nexport default function AnimatedListExample() {\n  const [inputValue, setInputValue] = useState('');\n  const [participantList, setParticipantList] = useState<EventParticipant[]>(\n    []\n  );\n\n  const addParticipant = () => {\n    setParticipantList(\n      [{ name: inputValue, id: Date.now().toString() }].concat(participantList)\n    );\n    setInputValue('');\n  };\n\n  const removeParticipant = (id: string) => {\n    setParticipantList(\n      participantList.filter((participant) => participant.id !== id)\n    );\n  };\n\n  return (\n    <View\n      style={[styles.listView]}>\n      <ScrollView style={[{ width: '100%' }]}>\n        {participantList.map((participant) => (\n          <Participant\n            key={participant.id}\n            name={participant.name}\n            onRemove={() => removeParticipant(participant.id)}\n          />\n        ))}\n      </ScrollView>\n\n      <View\n        style={[ styles.bottomRow]}>\n        <View\n          style={[styles.textInput]}>\n          <Text>Add participant: </Text>\n          <TextInput\n            placeholder=\"Name\"\n            value={inputValue}\n            onChangeText={setInputValue}\n          />\n        </View>\n\n        <Button\n          title=\"Add\"\n          disabled={inputValue === ''}\n          onPress={addParticipant}\n        />\n      </View>\n    </View>\n  );\n}\n"})})}function v(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(j,{...e})}):j(e)}function A(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:"{4-8}",children:"...\n<ScrollView style={[{ width: '100%' }]}>\n  {participantList.map((participant) => (\n    <Participant\n      key={participant.id}\n      name={participant.name}\n      onRemove={() => removeParticipant(participant.id)}\n    />\n  ))}\n</ScrollView>\n...\n"})})}function R(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(A,{...e})}):A(e)}function b(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",metastring:"{10,14}",children:'...\nfunction Participant({\n  name,\n  onRemove,\n}: {\n  name: string;\n  onRemove: () => void;\n}) {\n  return (\n    <View\n      style={[styles.participantView]}>\n      <Text>{name}</Text>\n      <Button title="Remove" color="red" onPress={onRemove} />\n    </View>\n  );\n}\n...\n'})})}function L(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(b,{...e})}):b(e)}function V(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",metastring:"{1,11,15}",children:'import Animated from \'react-native-reanimated\';\n...\nfunction Participant({\n  name,\n  onRemove,\n}: {\n  name: string;\n  onRemove: () => void;\n}) {\n  return (\n    <Animated.View\n      style={[styles.participantView]}>\n      <Text>{name}</Text>\n      <Button title="Remove" color="red" onPress={onRemove} />\n    </Animated.View>\n  );\n}\n...\n'})})}function P(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(V,{...e})}):V(e)}function S(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",metastring:"{1,12}",children:'import Animated, {LightSpeedInLeft} from \'react-native-reanimated\';\n...\nfunction Participant({\n  name,\n  onRemove,\n}: {\n  name: string;\n  onRemove: () => void;\n}) {\n  return (\n    <Animated.View\n      entering={LightSpeedInLeft}\n      style={[styles.participantView]}>\n      <Text>{name}</Text>\n      <Button title="Remove" color="red" onPress={onRemove} />\n    </Animated.View>\n  );\n}\n...\n'})})}function T(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(S,{...e})}):S(e)}function _(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",metastring:"{3,16}",children:'import Animated, {\n  LightSpeedInLeft,\n  Layout\n} from \'react-native-reanimated\';\n...\nfunction Participant({\n  name,\n  onRemove,\n}: {\n  name: string;\n  onRemove: () => void;\n}) {\n  return (\n    <Animated.View\n      entering={LightSpeedInLeft}\n      layout={Layout.springify()}\n      style={[styles.participantView]}>\n      <Text>{name}</Text>\n      <Button title="Remove" color="red" onPress={onRemove} />\n    </Animated.View>\n  );\n}\n...\n'})})}function N(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(_,{...e})}):_(e)}function I(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",metastring:"{3,17}",children:'import Animated, {\n  LightSpeedInLeft,\n  LightSpeedOutRight\n  Layout\n} from \'react-native-reanimated\';\n...\nfunction Participant({\n  name,\n  onRemove,\n}: {\n  name: string;\n  onRemove: () => void;\n}) {\n  return (\n    <Animated.View\n      entering={LightSpeedInLeft}\n      exiting={LightSpeedOutRight}\n      layout={Layout.springify()}\n      style={[styles.participantView]}>\n      <Text>{name}</Text>\n      <Button title="Remove" color="red" onPress={onRemove} />\n    </Animated.View>\n  );\n}\n...\n'})})}function k(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(I,{...e})}):I(e)}const C=t.p+"assets/images/before-ccd07f388857274c1860e64e5155bc9c.gif",H=t.p+"assets/images/entering-2ec23ca10dce1dad1319cc6c5e195267.gif",E=t.p+"assets/images/layout-341920cb35d6f1c27bad9e20059bdaf6.gif",B=t.p+"assets/images/after-e3e04aaf52902a396d6f5887bdc1bdb5.gif",O={id:"layoutAnimations",title:"How to easily animate your screens and components",sidebar_label:"Layout Animations",hide_table_of_contents:!0},W=void 0,Y={},D=[{value:"And that&#39;s all! You can see that adding layout animations to our list was super easy and the user experience is way better. You can find the full code of the animated list here.",id:"and-thats-all-you-can-see-that-adding-layout-animations-to-our-list-was-super-easy-and-the-user-experience-is-way-better-you-can-find-the-full-code-of-the-animated-list-here",level:4}];function z(e){const n={a:"a",admonition:"admonition",h4:"h4",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsx)(n.p,{children:"Layout Animations are available since v2.3.0"})}),"\n",(0,a.jsx)(n.p,{children:"This tutorial will help you make your screens and components more smooth by adding animations.\nWe will use a new feature from the Reanimated library - Layout Animations which lets us animate:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"components appearance"}),"\n",(0,a.jsx)(n.li,{children:"components disappearance"}),"\n",(0,a.jsx)(n.li,{children:"layout changes"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"using predefined animations. There are plenty of predefined animations you can use, however,\nif you need to create more customized animation, you can easily implemented your own."}),"\n",(0,a.jsx)(n.p,{children:"To give you a better understanding of how to use those animations,\nwe are gonna prettify an already existing screen - participant list, by adding layout animations to its components.\nHere you can see the effect of the changes we will make going through this tutorial."}),"\n",(0,a.jsx)(w,{before:C,after:B}),"\n",(0,a.jsxs)(h,{title:"Screen Introduction",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.p,{children:"Here we have an already existing Participant list component (you can find\nthe full code to edit yourself\xa0"}),(0,a.jsx)("a",{href:"https://gist.github.com/jmysliv/87b15453aab173a63a4d22fcc5b1d603",children:(0,a.jsx)(n.p,{children:"here"})}),(0,a.jsx)(n.p,{children:"). Let's focus on the parts that we will animate, in this case - the\nParticipant component."})]}),(0,a.jsx)(v,{})]}),"\n",(0,a.jsxs)(h,{title:"Participant component",children:[(0,a.jsx)("div",{children:(0,a.jsx)(n.p,{children:"The Participant component is responsible for displaying a list item, which\nwe will be animating."})}),(0,a.jsx)(R,{})]}),"\n",(0,a.jsxs)(h,{title:"Participant component internals",children:[(0,a.jsx)("div",{children:(0,a.jsx)(n.p,{children:"As you can see the Participant component is wrapped in one View component,\nand that's the place where will be adding our animations. We can only\nanimate components that are provided by Reanimated (e.g. Animated.View), or\ncomponents we changed using createAnimatedComponent."})}),(0,a.jsx)(L,{})]}),"\n",(0,a.jsxs)(h,{title:"Step 1",children:[(0,a.jsx)("div",{children:(0,a.jsx)(n.p,{children:"Let's import Animated from Reanimated and replace View with Animated.View,\nso we can add animations to our component."})}),(0,a.jsx)(P,{})]}),"\n",(0,a.jsxs)(h,{title:"Step 2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.p,{children:"Now let's add an entering animation. There is plenty of available\xa0"}),(0,a.jsx)("a",{href:"https://docs.swmansion.com/react-native-reanimated/docs/2.x/api/LayoutAnimations/entryAnimations",children:(0,a.jsx)(n.p,{children:"predefined animations"})}),(0,a.jsx)(n.p,{children:"\xa0that we can choose from. We will go with the LightSpeedInLeft effect."})]}),(0,a.jsx)(T,{})]}),"\n",(0,a.jsxs)(h,{title:"Current result",children:[(0,a.jsx)("div",{children:(0,a.jsx)(n.p,{children:"Here you can see the effect we have achieved by adding the entering\nanimation."})}),(0,a.jsx)("img",{src:H,style:{height:"500px",width:"auto",borderRadius:"5%"}})]}),"\n",(0,a.jsxs)(h,{title:"Step 3",children:[(0,a.jsx)("div",{children:"Now let's add a layout transition."}),(0,a.jsx)(N,{})]}),"\n",(0,a.jsxs)(h,{title:"Current result",children:[(0,a.jsx)("div",{children:(0,a.jsx)(n.p,{children:"Here you can see the effect we have achieved by adding a layout transition."})}),(0,a.jsx)("img",{src:E,style:{height:"500px",width:"auto",borderRadius:"5%"}})]}),"\n",(0,a.jsxs)(h,{title:"Step 4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.p,{children:"Now let's add an exiting animation. Again there are many\xa0"}),(0,a.jsx)("a",{href:"https://docs.swmansion.com/react-native-reanimated/docs/2.x/api/LayoutAnimations/exitAnimations",children:(0,a.jsx)(n.p,{children:"predefined animations"})}),(0,a.jsx)(n.p,{children:"\xa0 we can choose from. We will go with the LightSpeedOutRight effect."})]}),(0,a.jsx)(k,{})]}),"\n",(0,a.jsxs)(n.h4,{id:"and-thats-all-you-can-see-that-adding-layout-animations-to-our-list-was-super-easy-and-the-user-experience-is-way-better-you-can-find-the-full-code-of-the-animated-list-here",children:["And that's all! You can see that adding layout animations to our list was super easy and the user experience is way better. You can find the full code of the animated list ",(0,a.jsx)(n.a,{href:"https://gist.github.com/jmysliv/0056d6cd3021883ea0f2c7f4af0526b2",children:"here"}),"."]}),"\n",(0,a.jsx)("center",{children:(0,a.jsx)("img",{src:B,height:"500px",style:{borderRadius:"5%"}})})]})}function M(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(z,{...e})}):z(e)}}}]);