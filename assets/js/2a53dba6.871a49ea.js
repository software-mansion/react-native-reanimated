"use strict";(self.webpackChunkdocs_reanimated=self.webpackChunkdocs_reanimated||[]).push([[9479],{29070:(e,n,t)=>{t.d(n,{A:()=>i});const i="import React, { useState } from 'react';\nimport { View, Button, StyleSheet, Pressable } from 'react-native';\nimport Animated, { Keyframe, Easing } from 'react-native-reanimated';\n\nexport default function KeyframeExample() {\n  const [visible, setVisible] = useState(true);\n\n  const enteringAnimation = new Keyframe({\n    0: {\n      opacity: 0,\n      transform: [\n        { translateY: 50 },\n        { rotate: '820deg' },\n        { skewX: '0deg' },\n        { scale: 0 },\n      ],\n    },\n    50: {\n      opacity: 0.5,\n      transform: [\n        { translateY: 25 },\n        { rotate: '-180deg' },\n        { skewX: '30deg' },\n        { scale: 0.5 },\n      ],\n      easing: Easing.out(Easing.quad),\n    },\n    100: {\n      opacity: 1,\n      transform: [\n        { translateY: 0 },\n        { rotate: '0deg' },\n        { skewX: '0deg' },\n        { scale: 1 },\n      ],\n    },\n  }).duration(1000);\n\n  const exitingAnimation = new Keyframe({\n    0: {\n      opacity: 1,\n      transform: [{ translateY: 0 }, { rotateZ: '0deg' }],\n    },\n    10: {\n      opacity: 1,\n      transform: [{ translateY: 25 }, { rotateZ: '0deg' }],\n      easing: Easing.exp,\n    },\n    50: {\n      opacity: 0.5,\n      transform: [{ translateY: -100 }, { rotateZ: '60deg' }],\n    },\n    100: {\n      opacity: 0,\n      transform: [{ translateY: -300 }, { rotateZ: '120deg' }],\n    },\n  }).duration(1000);\n\n  return (\n    <View style={styles.container}>\n      {visible && (\n        <Animated.View\n          entering={enteringAnimation}\n          exiting={exitingAnimation}\n          style={styles.box}>\n          <Pressable\n            onPress={() => setVisible(!visible)}\n            style={styles.button}\n          />\n        </Animated.View>\n      )}\n      <Button title=\"Animate box\" onPress={() => setVisible(!visible)} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    height: 250,\n    flex: 1,\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n  },\n  button: {\n    height: '100%',\n    width: '100%',\n  },\n  box: {\n    width: 100,\n    height: 100,\n    backgroundColor: '#b58df1',\n    borderRadius: 24,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 48,\n  },\n});\n"},61183:(e,n,t)=>{t.d(n,{A:()=>c});var i=t(96540),a=t(9176),r=t(70690),o=t(62257),s=t(72188),l=t(55535),d=t(74848);function c(){const[e,n]=(0,i.useState)(!0),t=new l.Keyframe({0:{opacity:0,transform:[{translateY:50},{rotate:"820deg"},{skewX:"0deg"},{scale:0}]},50:{opacity:.5,transform:[{translateY:25},{rotate:"-180deg"},{skewX:"30deg"},{scale:.5}],easing:l.Easing.out(l.Easing.quad)},100:{opacity:1,transform:[{translateY:0},{rotate:"0deg"},{skewX:"0deg"},{scale:1}]}}).duration(1e3),s=new l.Keyframe({0:{opacity:1,transform:[{translateY:0},{rotateZ:"0deg"}]},10:{opacity:1,transform:[{translateY:25},{rotateZ:"0deg"}],easing:l.Easing.exp},50:{opacity:.5,transform:[{translateY:-100},{rotateZ:"60deg"}]},100:{opacity:0,transform:[{translateY:-300},{rotateZ:"120deg"}]}}).duration(1e3);return(0,d.jsxs)(a.A,{style:m.container,children:[e&&(0,d.jsx)(l.default.View,{entering:t,exiting:s,style:m.box,children:(0,d.jsx)(r.A,{onPress:()=>n(!e),style:m.button})}),(0,d.jsx)(o.A,{title:"Animate box",onPress:()=>n(!e)})]})}const m=s.A.create({container:{height:250,flex:1,justifyContent:"flex-end",alignItems:"center"},button:{height:"100%",width:"100%"},box:{width:100,height:100,backgroundColor:"#b58df1",borderRadius:24,justifyContent:"center",alignItems:"center",marginBottom:48}})},62257:(e,n,t)=>{t.d(n,{A:()=>d});var i=t(96540),a=t(72188),r=t(46413),o=t(78506),s=i.forwardRef(((e,n)=>{var t=e.accessibilityLabel,a=e.color,s=e.disabled,d=e.onPress,c=e.testID,m=e.title;return i.createElement(r.A,{accessibilityLabel:t,accessibilityRole:"button",disabled:s,focusable:!s,onPress:d,ref:n,style:[l.button,a&&{backgroundColor:a},s&&l.buttonDisabled],testID:c},i.createElement(o.A,{style:[l.text,s&&l.textDisabled]},m))}));s.displayName="Button";var l=a.A.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}});const d=s},87442:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>f,frontMatter:()=>l,metadata:()=>i,toc:()=>m});const i=JSON.parse('{"id":"layout-animations/keyframe-animations","title":"Keyframe animations","description":"Keyframes are animation definition schemas that let you create complex animations. They allow you more flexibility than standard Entering and Exiting presets.","source":"@site/versioned_docs/version-3.x/layout-animations/keyframe-animations.mdx","sourceDirName":"layout-animations","slug":"/layout-animations/keyframe-animations","permalink":"/react-native-reanimated/docs/layout-animations/keyframe-animations","draft":false,"unlisted":false,"editUrl":"https://github.com/software-mansion/react-native-reanimated/edit/main/packages/docs-reanimated/versioned_docs/version-3.x/layout-animations/keyframe-animations.mdx","tags":[],"version":"3.x","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Entering/Exiting animations","permalink":"/react-native-reanimated/docs/layout-animations/entering-exiting-animations"},"next":{"title":"Layout transitions","permalink":"/react-native-reanimated/docs/layout-animations/layout-transitions"}}');var a=t(74848),r=t(28453),o=t(61183),s=t(29070);const l={sidebar_position:2},d="Keyframe animations",c={},m=[{value:"Reference",id:"reference",level:2},{value:"Arguments",id:"arguments",level:3},{value:"<code>definitions</code>",id:"definitions",level:4},{value:"Modifiers",id:"modifiers",level:2},{value:"Remarks",id:"remarks",level:2},{value:"Example",id:"example",level:2},{value:"Platform compatibility",id:"platform-compatibility",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components},{Details:t,InteractiveExample:i,PlatformCompatibility:l}=n;return t||u("Details",!0),i||u("InteractiveExample",!0),l||u("PlatformCompatibility",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"keyframe-animations",children:"Keyframe animations"})}),"\n",(0,a.jsx)(n.p,{children:"Keyframes are animation definition schemas that let you create complex animations. They allow you more flexibility than standard Entering and Exiting presets."}),"\n",(0,a.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"import { Keyframe } from 'react-native-reanimated';\n\nconst keyframe = new Keyframe({\n  0: {\n    transform: [{ rotate: '0deg' }],\n  },\n  45: {\n    transform: [{ rotate: '100deg' }],\n    easing: Easing.exp,\n  },\n  100: {\n    transform: [{ rotate: '45deg' }],\n  },\n});\n\nfunction App() {\n  return <Animated.View entering={keyframe} />;\n}\n"})}),"\n",(0,a.jsxs)(t,{children:[(0,a.jsx)("summary",{children:"Type definitions"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"type FirstFrame =\n  | {\n      0: KeyframeProps & { easing?: never };\n      from?: never;\n    }\n  | {\n      0?: never;\n      from: KeyframeProps & { easing?: never };\n    };\n\ntype LastFrame =\n  | { 100?: KeyframeProps; to?: never }\n  | { 100?: never; to: KeyframeProps };\n\nexport type ValidKeyframeProps = FirstFrame &\n  LastFrame &\n  Record<number, KeyframeProps>;\n\nclass Keyframe {\n  constructor(definitions: ValidKeyframeProps;\n  duration(durationMs: number): Keyframe;\n  delay(delayMs: number): Keyframe;\n  reduceMotion(reduceMotionV: ReduceMotion): Keyframe;\n  withCallback(callback: (finished: boolean) => void): Keyframe;\n}\n"})})]}),"\n",(0,a.jsx)(n.h3,{id:"arguments",children:"Arguments"}),"\n",(0,a.jsx)(n.h4,{id:"definitions",children:(0,a.jsx)(n.code,{children:"definitions"})}),"\n",(0,a.jsxs)(n.p,{children:["An object, that contains definitions of your animation.\nThe object keys should be within range ",(0,a.jsx)(n.code,{children:"0-100"})," and correspond to animation progress.\nThe object values should consist of style props and optionally of an ",(0,a.jsx)(n.a,{href:"/docs/animations/withTiming/#easing",children:"easing function"}),". If easing property is not provided, it defaults to ",(0,a.jsx)(n.code,{children:"Easing.linear"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"The keys take the following values:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"0"})," or ",(0,a.jsx)(n.code,{children:"from"}),": Initial state of the object."]}),"\n",(0,a.jsxs)(n.li,{children:["Middle points (e.g., ",(0,a.jsx)(n.code,{children:"45"}),"): Intermediate states of the object."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"100"})," or ",(0,a.jsx)(n.code,{children:"to"}),": Final state of the object."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["The key ",(0,a.jsx)(n.code,{children:"0"})," (or ",(0,a.jsx)(n.code,{children:"from"}),") should be assigned the style that you want for your object at the beginning of the animation. The key ",(0,a.jsx)(n.code,{children:"100"})," (or ",(0,a.jsx)(n.code,{children:"to"}),") should be assigned the style that you want for your object at the end of the animation."]}),"\n",(0,a.jsx)(n.h2,{id:"modifiers",children:"Modifiers"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"keyframe\n  .duration(1000)\n  .delay(500)\n  .reduceMotion(ReduceMotion.Never)\n  .withCallback((finished) => {\n    console.log(`finished without interruptions: ${finished}`);\n  });\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:".duration(durationMs: number)"})," is the length of the animation (in milliseconds). Defaults to ",(0,a.jsx)(n.code,{children:"500"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:".delay(durationMs: number)"})," is the delay before the animation starts (in milliseconds). Defaults to ",(0,a.jsx)(n.code,{children:"0"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:".reduceMotion(reduceMotion: ReduceMotion)"})," determines how the animation responds to the device's reduced motion accessibility setting."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:".withCallback(callback: (finished: boolean) => void)"})," is the callback that will fire after the animation ends. Sets ",(0,a.jsx)(n.code,{children:"finished"})," to ",(0,a.jsx)(n.code,{children:"true"})," when animation ends without interruptions, and ",(0,a.jsx)(n.code,{children:"false"})," otherwise."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"remarks",children:"Remarks"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Providing keyframe ",(0,a.jsx)(n.code,{children:"0"})," or ",(0,a.jsx)(n.code,{children:"from"})," is required as it contains the initial state of the object you want to animate."]}),"\n",(0,a.jsx)(n.li,{children:"Ensure you provide the initial value for all style properties you want to animate in other keyframes."}),"\n",(0,a.jsxs)(n.li,{children:["If you want to add easing to an animation between two keyframes you have to pass it to the second one. As a result you should never provide any easing to keyframe ",(0,a.jsx)(n.code,{children:"0"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Do not provide both ",(0,a.jsx)(n.code,{children:"0"})," and ",(0,a.jsx)(n.code,{children:"from"}),", or ",(0,a.jsx)(n.code,{children:"100"})," and ",(0,a.jsx)(n.code,{children:"to"})," keyframes, as it will result in a parsing conflict."]}),"\n",(0,a.jsx)(n.li,{children:"If you want to animate transform style, make sure that all properties in the transformation array are in the same order in all keyframes."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,a.jsx)(i,{src:s.A,component:o.A}),"\n",(0,a.jsx)(n.h2,{id:"platform-compatibility",children:"Platform compatibility"}),"\n",(0,a.jsx)(l,{android:!0,ios:!0,web:!0})]})}function f(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}function u(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);