"use strict";(self.webpackChunkdocs_reanimated=self.webpackChunkdocs_reanimated||[]).push([[8050],{485:(e,t,n)=>{n.d(t,{A:()=>m});const o="collapseButton_X7H2",r="arrow_XdVJ";var a,i=n(39471);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s.apply(null,arguments)}const l=e=>{let{title:t,titleId:n,...o}=e;return i.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:12,height:7,fill:"none",viewBox:"0 0 12 7","aria-labelledby":n},o),t?i.createElement("title",{id:n},t):null,a||(a=i.createElement("path",{stroke:"#001A72",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m1 1 5 5 5-5"})))};var u;function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c.apply(null,arguments)}const d=e=>{let{title:t,titleId:n,...o}=e;return i.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:12,height:7,fill:"none",viewBox:"0 0 12 7","aria-labelledby":n},o),t?i.createElement("title",{id:n},t):null,u||(u=i.createElement("path",{stroke:"#F8F9FF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m1 1 5 5 5-5"})))};var h=n(61280),v=n(34164),p=n(47671);const m=e=>{let{label:t,labelCollapsed:n,collapsed:a,onCollapse:i,className:s}=e;const{colorMode:u}=(0,h.G)();return(0,p.jsxs)("div",{className:(0,v.A)(o,s),"data-collapsed":a,onClick:()=>i(),children:["light"===u?(0,p.jsx)(l,{className:r}):(0,p.jsx)(d,{className:r}),(0,p.jsx)("button",{children:a?n:t})]})}},14663:e=>{e.exports=JSON.parse('{"permalink":"/react-native-reanimated/examples/switch","source":"@site/blog/switch.md","title":"Switch","description":"A switch element is a user interface component that allows users to toggle between two or more states. It is commonly used to turn on/off a setting, enable/disable a feature, or select between options.","date":"2025-09-01T15:23:08.000Z","tags":[],"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"switch","title":"Switch"},"unlisted":false,"prevItem":{"title":"Slider","permalink":"/react-native-reanimated/examples/slider"}}')},27402:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>u,metadata:()=>o,toc:()=>h});var o=n(14663),r=n(47671),a=n(30620),i=n(55764),s=n(68924),l=n(31488);const u={slug:"switch",title:"Switch"},c=void 0,d={authorsImageUrls:[]},h=[];function v(e){const t={a:"a",code:"code",p:"p",strong:"strong",...(0,a.R)(),...e.components},{ExampleVideo:n,InteractiveExample:o}=t;return n||m("ExampleVideo",!0),o||m("InteractiveExample",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"A switch element is a user interface component that allows users to toggle between two or more states. It is commonly used to turn on/off a setting, enable/disable a feature, or select between options."}),"\n","\n",(0,r.jsx)(o,{src:s.A,component:i.A}),"\n",(0,r.jsxs)(t.p,{children:["The following implementation of a switch relies on ",(0,r.jsx)(t.a,{href:"/docs/fundamentals/glossary#animatable-value",children:"animatable values"}),". Leveraging animatable values of color and position enables smooth transition between the two states."]}),"\n",(0,r.jsx)("samp",{id:"Switch",children:"Switch"}),"\n",(0,r.jsx)(l.A,{src:s.A,showLines:[26,52]}),"\n",(0,r.jsx)(n,{sources:{android:"/react-native-reanimated/recordings/examples/switch_android.mp4",ios:"/react-native-reanimated/recordings/examples/switch_ios.mov"}}),"\n",(0,r.jsxs)(t.p,{children:["We use the ",(0,r.jsx)(t.code,{children:"useSharedValue"})," hook to store the dimensions of the element, which allows for precise calculation of position changes during the animation. The hook is there to prevent unnecessary re-renders."]}),"\n",(0,r.jsx)(l.A,{src:s.A,showLines:[23,25]}),"\n",(0,r.jsxs)(t.p,{children:["The values are updated during the ",(0,r.jsx)(t.code,{children:"onLayout"})," event of the element."]}),"\n",(0,r.jsx)(l.A,{src:s.A,showLines:[56,61]}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"Switch"})," component can represent any boolean value passed as a prop. The state dynamically adjusts based on the ",(0,r.jsx)(t.code,{children:"value"})," prop resulting in smooth transition animations. It enables passing any function using the ",(0,r.jsx)(t.code,{children:"onPress"})," prop. The ",(0,r.jsx)(t.code,{children:"duration"})," prop controls the duration of the animation. The ",(0,r.jsx)(t.code,{children:"style"})," and ",(0,r.jsx)(t.code,{children:"trackColors"})," props enable personalization."]}),"\n",(0,r.jsx)("samp",{id:"Switch",children:"Switch"}),"\n",(0,r.jsx)(l.A,{src:s.A,showLines:[16,67]})]})}function p(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(v,{...e})}):v(e)}function m(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},31488:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(39471),r=n(33900);const a={container:"container_oGcb",collapseButton:"collapseButton_YVdr"};var i=n(485),s=n(47671);function l(e){let{src:t,showLines:n}=e;const[l,u]=(0,o.useState)(!0);if(!n)return(0,s.jsx)(r.A,{language:"jsx",children:t});const[c,d]=n,h=t.split("\n").slice(c,d+1).join("\n");return(0,s.jsxs)("div",{className:a.container,children:[(0,s.jsx)(i.A,{label:"Collapse the full code",labelCollapsed:"Expand the full code",collapsed:l,onCollapse:()=>u(!l),className:a.collapseButton}),(0,s.jsx)(r.A,{language:"jsx",children:l?h:t})]})}},39890:(e,t,n)=>{n.d(t,{A:()=>we});var o=n(82195),r=n(21098),a=n(39471),i=n(42901),s=n(42805),l=()=>{};var u=function(){var e=!1;if(s.A)try{var t={};Object.defineProperty(t,"passive",{get:()=>(e=!0,!1)}),window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(n){}return e}();function c(){return this.cancelBubble}function d(){return this.defaultPrevented}function h(e,t){var n=function(e){return null!=e&&(u?e:Boolean(e.capture))}(t);return function(t,o){if(null==t||"function"!=typeof t.addEventListener)throw new Error("createEventHandle: called on an invalid target.");var r=t;if(null!=o){var a=e=>{return o(((t=e).nativeEvent=t,t.persist=l,t.isDefaultPrevented=d,t.isPropagationStopped=c,t));var t};return r.addEventListener(e,a,n),function(){null!=r&&r.removeEventListener(e,a,n)}}return l}}var v,p,m="keyboard",f="keyboard",w=!1,g=new Set,y="keyboard",b="mouse",x="touch",A="contextmenu",k="mousedown",C="mousemove",S="mouseup",j="pointerdown",P="pointermove",E="scroll",_="selectionchange",V="touchcancel",T="touchmove",L="touchstart",I={passive:!0},O={capture:!0,passive:!0},R=h("blur",I),D=h("focus",I),B=h("visibilitychange",O),H=h("keydown",O),M=h(j,O),N=h(P,O),F=h(A,O),K=h(k,O),X=h(C,O),J=h(S,O),W=h(E,O),G=h(_,O),U=h(V,O),Y=h(T,O),z=h(L,O);function Z(){null==v&&null==p||(null!=v&&(f=v,v=null),null!=p&&(m=p,p=null),Q())}function q(e){var t=e.type;if("undefined"!=typeof window&&null!=window.PointerEvent){if(t===j)return void(m!==e.pointerType&&(f=e.pointerType,m=e.pointerType,Q()));if(t===P)return void(f!==e.pointerType&&(f=e.pointerType,Q()))}else{if(w||(t===k&&m!==b&&(f=b,m=b,Q()),t===C&&f!==b&&(f=b,Q())),t===L)return w=!0,e.touches&&e.touches.length>1&&(w=!1),void(m!==x&&(f=x,m=x,Q()));t!==A&&t!==S&&t!==_&&t!==E&&t!==V&&t!==T||(w=!1)}}function Q(){var e={activeModality:m,modality:f};g.forEach((t=>{t(e)}))}s.A&&(R(window,(function(){v=f,p=m,m=y,f=y,Q(),w=!1})),D(window,(function(){Z()})),H(document,(function(e){e.metaKey||e.altKey||e.ctrlKey||f!==y&&(f=y,m=y,Q())})),M(document,q),N(document,q),B(document,(function(){"hidden"!==document.visibilityState&&Z()})),F(document,q),K(document,q),X(document,q),J(document,q),U(document,q),Y(document,q),z(document,q),G(document,q),W(document,q));var $=n(22562),ee=n(79318);function te(e,t){var n=(0,ee.A)((()=>new Map)),o=(0,ee.A)((()=>{var o=h(e,t);return(e,t)=>{var r=n.get(e);null!=r&&r(),null==t&&n.delete(e);var a=o(e,t);return n.set(e,a),a}}));return(0,$.A)((()=>()=>{n.forEach((e=>{e()})),n.clear()}),[n]),o}var ne={},oe={passive:!0},re="react-gui:hover:lock",ae="react-gui:hover:unlock";function ie(e,t,n){var o=document.createEvent("CustomEvent"),r=n||ne,a=r.bubbles,i=void 0===a||a,s=r.cancelable,l=void 0===s||s,u=r.detail;o.initCustomEvent(t,i,l,u),e.dispatchEvent(o)}function se(e){var t=e.pointerType;return null!=t?t:f}function le(e,t){var n=t.contain,o=t.disabled,r=t.onHoverStart,a=t.onHoverChange,i=t.onHoverUpdate,s=t.onHoverEnd,l=!("undefined"==typeof window||null==window.PointerEvent),u=te(l?"pointermove":"mousemove",oe),c=te(l?"pointerenter":"mouseenter",oe),d=te(l?"pointerleave":"mouseleave",oe),h=te(re,oe),v=te(ae,oe);(0,$.A)((()=>{var t=e.current;if(null!==t){var l=function(e){null!=s&&s(e),null!=a&&a(!1),u(t,null),d(t,null)},p=function(t){var o=e.current;null!=o&&"touch"!==se(t)&&(n&&ie(o,ae),l(t))},m=function(e){"touch"!==se(e)&&null!=i&&(null==e.x&&(e.x=e.clientX),null==e.y&&(e.y=e.clientY),i(e))},f=function(e){null!=r&&r(e),null!=a&&a(!0),null!=i&&u(t,o?null:m),d(t,o?null:p)};c(t,o?null:function(t){var r=e.current;if(null!=r&&"touch"!==se(t)){n&&ie(r,re),f(t);h(r,o?null:function(e){e.target!==r&&l(t)}),v(r,o?null:function(e){e.target!==r&&f(t)})}})}}),[c,u,d,h,v,n,o,r,a,i,s,e])}var ue=n(94497),ce=n(14442),de=n(8589),he=["children","delayLongPress","delayPressIn","delayPressOut","disabled","focusable","onBlur","onContextMenu","onFocus","onHoverIn","onHoverOut","onKeyDown","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","testOnly_hovered","testOnly_pressed"];function ve(e,t){var n=e.children,s=e.delayLongPress,l=e.delayPressIn,u=e.delayPressOut,c=e.disabled,d=e.focusable,h=e.onBlur,v=e.onContextMenu,p=e.onFocus,m=e.onHoverIn,f=e.onHoverOut,w=e.onKeyDown,g=e.onLongPress,y=e.onPress,b=e.onPressMove,x=e.onPressIn,A=e.onPressOut,k=e.style,C=e.testOnly_hovered,S=e.testOnly_pressed,j=(0,r.A)(e,he),P=pe(!0===C),E=P[0],_=P[1],V=pe(!1),T=V[0],L=V[1],I=pe(!0===S),O=I[0],R=I[1],D=(0,a.useRef)(null),B=(0,i.A)(t,D),H=(0,a.useMemo)((()=>({delayLongPress:s,delayPressStart:l,delayPressEnd:u,disabled:c,onLongPress:g,onPress:y,onPressChange:R,onPressStart:x,onPressMove:b,onPressEnd:A})),[s,l,u,c,g,y,x,b,A,R]),M=(0,ue.A)(D,H),N=M.onContextMenu,F=M.onKeyDown;le(D,{contain:!0,disabled:c,onHoverChange:_,onHoverStart:m,onHoverEnd:f});var K={hovered:E,focused:T,pressed:O},X=a.useCallback((e=>{e.nativeEvent.target===D.current&&(L(!1),null!=h&&h(e))}),[D,L,h]),J=a.useCallback((e=>{e.nativeEvent.target===D.current&&(L(!0),null!=p&&p(e))}),[D,L,p]),W=a.useCallback((e=>{null!=N&&N(e),null!=v&&v(e)}),[v,N]),G=a.useCallback((e=>{null!=F&&F(e),null!=w&&w(e)}),[w,F]);return a.createElement(de.A,(0,o.A)({},j,M,{accessibilityDisabled:c,focusable:!c&&!1!==d,onBlur:X,onContextMenu:W,onFocus:J,onKeyDown:G,pointerEvents:c?"none":j.pointerEvents,ref:B,style:[!c&&me.root,"function"==typeof k?k(K):k]}),"function"==typeof n?n(K):n)}function pe(e){var t=(0,a.useState)(!1);return[t[0]||e,t[1]]}var me=ce.A.create({root:{cursor:"pointer",touchAction:"manipulation"}}),fe=(0,a.memo)((0,a.forwardRef)(ve));fe.displayName="Pressable";const we=fe},55764:(e,t,n)=>{n.d(t,{A:()=>p});n(39471);var o=n(39890),r=n(14442),a=n(90441),i=n(8589),s=n(90424),l=n(19727),u=n(47671);const c={code:"function SwitchJs1(){const{interpolateColor,value,trackColors,withTiming,duration,height}=this.__closure;const color=interpolateColor(value.value,[0,1],[trackColors.off,trackColors.on]);const colorValue=withTiming(color,{duration:duration});return{backgroundColor:colorValue,borderRadius:height.value/2};}"},d={code:"function SwitchJs2(){const{interpolate,value,width,height,withTiming,duration}=this.__closure;const moveValue=interpolate(Number(value.value),[0,1],[0,width.value-height.value]);const translateValue=withTiming(moveValue,{duration:duration});return{transform:[{translateX:translateValue}],borderRadius:height.value/2};}"},h=e=>{let{value:t,onPress:n,style:r,duration:a=400,trackColors:i={on:"#82cab2",off:"#fa7f7c"}}=e;const s=(0,l.useSharedValue)(0),h=(0,l.useSharedValue)(0),p=(0,l.useAnimatedStyle)(function(e){let{_worklet_1970655606697_init_data:t,interpolateColor:n,value:o,trackColors:r,withTiming:a,duration:i,height:s}=e;const l=function(){const e=n(o.value,[0,1],[r.off,r.on]);return{backgroundColor:a(e,{duration:i}),borderRadius:s.value/2}};return l.__closure={interpolateColor:n,value:o,trackColors:r,withTiming:a,duration:i,height:s},l.__workletHash=1970655606697,l.__initData=t,l}({_worklet_1970655606697_init_data:c,interpolateColor:l.interpolateColor,value:t,trackColors:i,withTiming:l.withTiming,duration:a,height:s})),m=(0,l.useAnimatedStyle)(function(e){let{_worklet_9540285382782_init_data:t,interpolate:n,value:o,width:r,height:a,withTiming:i,duration:s}=e;const l=function(){const e=n(Number(o.value),[0,1],[0,r.value-a.value]);return{transform:[{translateX:i(e,{duration:s})}],borderRadius:a.value/2}};return l.__closure={interpolate:n,value:o,width:r,height:a,withTiming:i,duration:s},l.__workletHash=9540285382782,l.__initData=t,l}({_worklet_9540285382782_init_data:d,interpolate:l.interpolate,value:t,width:h,height:s,withTiming:l.withTiming,duration:a}));return(0,u.jsx)(o.A,{onPress:n,children:(0,u.jsx)(l.default.View,{onLayout:e=>{s.value=e.nativeEvent.layout.height,h.value=e.nativeEvent.layout.width},style:[v.track,r,p],children:(0,u.jsx)(l.default.View,{style:[v.thumb,m]})})})},v=r.A.create({track:{alignItems:"flex-start",width:100,height:40,padding:5},thumb:{height:"100%",aspectRatio:1,backgroundColor:"white"}});function p(){const e=(0,l.useSharedValue)(!1),t=()=>{e.value=!e.value};return(0,u.jsxs)(a.A,{style:m.container,children:[(0,u.jsx)(h,{value:e,onPress:t,style:m.switch}),(0,u.jsx)(i.A,{style:m.buttonContainer,children:(0,u.jsx)(s.A,{onPress:t,title:"Click me"})})]})}const m=r.A.create({switch:{width:200,height:80,padding:10},container:{flex:1,height:300,alignItems:"center",justifyContent:"center"},buttonContainer:{paddingTop:"1rem",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}})},68924:(e,t,n)=>{n.d(t,{A:()=>o});const o="import React from 'react';\nimport {\n  Pressable,\n  SafeAreaView,\n  View,\n  StyleSheet,\n  Button,\n} from 'react-native';\nimport Animated, {\n  interpolate,\n  interpolateColor,\n  useAnimatedStyle,\n  useSharedValue,\n  withTiming,\n} from 'react-native-reanimated';\n\nconst Switch = ({\n  value,\n  onPress,\n  style,\n  duration = 400,\n  trackColors = { on: '#82cab2', off: '#fa7f7c' },\n}) => {\n  const height = useSharedValue(0);\n  const width = useSharedValue(0);\n\n  const trackAnimatedStyle = useAnimatedStyle(() => {\n    const color = interpolateColor(\n      value.value,\n      [0, 1],\n      [trackColors.off, trackColors.on]\n    );\n    const colorValue = withTiming(color, { duration });\n\n    return {\n      backgroundColor: colorValue,\n      borderRadius: height.value / 2,\n    };\n  });\n\n  const thumbAnimatedStyle = useAnimatedStyle(() => {\n    const moveValue = interpolate(\n      Number(value.value),\n      [0, 1],\n      [0, width.value - height.value]\n    );\n    const translateValue = withTiming(moveValue, { duration });\n\n    return {\n      transform: [{ translateX: translateValue }],\n      borderRadius: height.value / 2,\n    };\n  });\n\n  return (\n    <Pressable onPress={onPress}>\n      <Animated.View\n        onLayout={(e) => {\n          height.value = e.nativeEvent.layout.height;\n          width.value = e.nativeEvent.layout.width;\n        }}\n        style={[switchStyles.track, style, trackAnimatedStyle]}>\n        <Animated.View\n          style={[switchStyles.thumb, thumbAnimatedStyle]}></Animated.View>\n      </Animated.View>\n    </Pressable>\n  );\n};\n\nconst switchStyles = StyleSheet.create({\n  track: {\n    alignItems: 'flex-start',\n    width: 100,\n    height: 40,\n    padding: 5,\n  },\n  thumb: {\n    height: '100%',\n    aspectRatio: 1,\n    backgroundColor: 'white',\n  },\n});\n\nexport default function App() {\n  const isOn = useSharedValue(false);\n\n  const handlePress = () => {\n    isOn.value = !isOn.value;\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <Switch value={isOn} onPress={handlePress} style={styles.switch} />\n      <View style={styles.buttonContainer}>\n        <Button onPress={handlePress} title=\"Click me\" />\n      </View>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  switch: {\n    width: 200,\n    height: 80,\n    padding: 10,\n  },\n  container: {\n    flex: 1,\n    height: 300,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  buttonContainer: {\n    paddingTop: '1rem',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n"},90424:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(39471),r=n(14442),a=n(21844),i=n(31071),s=o.forwardRef(((e,t)=>{var n=e.accessibilityLabel,r=e.color,s=e.disabled,u=e.onPress,c=e.testID,d=e.title;return o.createElement(a.A,{accessibilityLabel:n,accessibilityRole:"button",disabled:s,focusable:!s,onPress:u,ref:t,style:[l.button,r&&{backgroundColor:r},s&&l.buttonDisabled],testID:c},o.createElement(i.A,{style:[l.text,s&&l.textDisabled]},d))}));s.displayName="Button";var l=r.A.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}});const u=s},90441:(e,t,n)=>{n.d(t,{A:()=>v});var o=n(82195),r=n(21098),a=n(39471),i=n(14442),s=n(8589),l=n(42805),u=["style"],c=l.A&&window.CSS&&window.CSS.supports&&window.CSS.supports("top: constant(safe-area-inset-top)")?"constant":"env",d=a.forwardRef(((e,t)=>{var n=e.style,l=(0,r.A)(e,u);return a.createElement(s.A,(0,o.A)({},l,{ref:t,style:i.A.compose(h.root,n)}))}));d.displayName="SafeAreaView";var h=i.A.create({root:{paddingTop:c+"(safe-area-inset-top)",paddingRight:c+"(safe-area-inset-right)",paddingBottom:c+"(safe-area-inset-bottom)",paddingLeft:c+"(safe-area-inset-left)"}});const v=d}}]);