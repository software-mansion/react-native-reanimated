/*! For license information please see 6398.8c304bed.js.LICENSE.txt */
"use strict";(self.webpackChunkdocs_reanimated=self.webpackChunkdocs_reanimated||[]).push([[6398],{56398:(t,e,i)=>{i.d(e,{q6:()=>yn,Sl:()=>en,Zy:()=>qi,ks:()=>Gn});var s=i(16616);const n={UNDETERMINED:0,FAILED:1,BEGAN:2,CANCELLED:3,ACTIVE:4,END:5},r={UNDETERMINED:0,TOUCHES_DOWN:1,TOUCHES_MOVE:2,TOUCHES_UP:3,TOUCHES_CANCELLED:4};var o=i(39471);function a(){return t=i.g,e="process",Object.prototype.hasOwnProperty.call(t,e)&&!1;var t,e}function h(t){return`[react-native-gesture-handler] ${t}`}function l(){return!!i.g?.nativeFabricUIManager}function u(t,e){if(t===e)return!0;if("object"!=typeof t||"object"!=typeof e||null===t||null===e)return!1;const i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(const n of i)if(!s.includes(n)||!u(t[n],e[n]))return!1;return!0}const c={},d=new Map,f=new Map,p=new Map;function v(t,e,i){d.set(t,e),a()&&i&&p.set(i,t)}function g(t,e){d.delete(t),a()&&e&&p.delete(e)}function E(t){return d.get(t)}class m{static gestures={};static getHandler(t){if(t in this.gestures)return this.gestures[t];throw new Error(`No handler for tag ${t}`)}static createGestureHandler(t,e){if(t in this.gestures)throw new Error(`Handler with tag ${t} already exists. Please ensure that no Gesture instance is used across multiple GestureDetectors.`);this.gestures[t]=e,this.gestures[t].handlerTag=t}static dropGestureHandler(t){t in this.gestures&&(this.gestures[t].onDestroy(),delete this.gestures[t])}static get nodes(){return{...this.gestures}}}const T={create:t=>({begin:()=>{m.getHandler(t).begin()},activate:()=>{m.getHandler(t).activate(!0)},fail:()=>{m.getHandler(t).fail()},end:()=>{m.getHandler(t).end()}})};let C=null,y=null;const P=new Map,A=[];function S(t){return null!=t.oldState}function O(t){const e=E(t.handlerTag);if(e)if(S(t))t.oldState===n.UNDETERMINED&&t.state===n.BEGAN?e.handlers.onBegin?.(t):t.oldState!==n.BEGAN&&t.oldState!==n.UNDETERMINED||t.state!==n.ACTIVE?t.oldState!==t.state&&t.state===n.END?(t.oldState===n.ACTIVE&&e.handlers.onEnd?.(t,!0),e.handlers.onFinalize?.(t,!0),A[e.handlers.handlerTag]=void 0):t.state!==n.FAILED&&t.state!==n.CANCELLED||t.oldState===t.state||(t.oldState===n.ACTIVE&&e.handlers.onEnd?.(t,!1),e.handlers.onFinalize?.(t,!1),P.delete(t.handlerTag),A[e.handlers.handlerTag]=void 0):(e.handlers.onStart?.(t),A[e.handlers.handlerTag]=t);else if(function(t){return null!=t.eventType}(t)){P.has(t.handlerTag)||P.set(t.handlerTag,T.create(t.handlerTag));const i=P.get(t.handlerTag);switch(t.eventType){case r.TOUCHES_DOWN:e.handlers?.onTouchesDown?.(t,i);break;case r.TOUCHES_MOVE:e.handlers?.onTouchesMove?.(t,i);break;case r.TOUCHES_UP:e.handlers?.onTouchesUp?.(t,i);break;case r.TOUCHES_CANCELLED:e.handlers?.onTouchesCancelled?.(t,i)}}else e.handlers.onUpdate?.(t),e.handlers.onChange&&e.handlers.changeEventCalculator&&(e.handlers.onChange?.(e.handlers.changeEventCalculator?.(t,A[e.handlers.handlerTag])),A[e.handlers.handlerTag]=t);else{const e=function(t){return f.get(t)}(t.handlerTag);if(e){const i={nativeEvent:t};return void(S(t)?e.onGestureStateChange(i):e.onGestureEvent(i))}}}function N(){!function(){C&&(C.remove(),C=null);y&&(y.remove(),y=null)}(),C=s.A.addListener("onGestureHandlerEvent",O),y=s.A.addListener("onGestureHandlerStateChange",O)}let I=!0,D=!1;function _(){return D=!0,I}const w=15;let b=function(t){return t[t.DOWN=0]="DOWN",t[t.ADDITIONAL_POINTER_DOWN=1]="ADDITIONAL_POINTER_DOWN",t[t.UP=2]="UP",t[t.ADDITIONAL_POINTER_UP=3]="ADDITIONAL_POINTER_UP",t[t.MOVE=4]="MOVE",t[t.ENTER=5]="ENTER",t[t.LEAVE=6]="LEAVE",t[t.CANCEL=7]="CANCEL",t}({}),M=function(t){return t[t.UNDETERMINED=0]="UNDETERMINED",t[t.DOWN=1]="DOWN",t[t.MOVE=2]="MOVE",t[t.UP=3]="UP",t[t.CANCELLED=4]="CANCELLED",t}({}),k=function(t){return t[t.UNDETERMINED=0]="UNDETERMINED",t[t.MOUSE=1]="MOUSE",t[t.TOUCHPAD=2]="TOUCHPAD",t}({}),R=function(t){return t[t.TOUCH=0]="TOUCH",t[t.STYLUS=1]="STYLUS",t[t.MOUSE=2]="MOUSE",t[t.KEY=3]="KEY",t[t.OTHER=4]="OTHER",t}({});class G{constructor(t){this.capacity=t,this.buffer=new Array(t),this.index=0,this._size=0}push(t){this.buffer[this.index]=t,this.index=(this.index+1)%this.capacity,this._size=Math.min(this.size+1,this.capacity)}get(t){if(this._size===this.capacity){let e=(this.index+t)%this.capacity;return e<0&&(e+=this.capacity),this.buffer[e]}return this.buffer[t]}clear(){this.buffer=new Array(this.capacity),this.index=0,this._size=0}get size(){return this._size}}class x{constructor(t){this.offset=0,this.length=t,this.elements=new Array(t)}static fromVOL(t,e,i){const s=new x(0);return s.offset=e,s.length=i,s.elements=t,s}get(t){return this.elements[this.offset+t]}set(t,e){this.elements[this.offset+t]=e}dot(t){let e=0;for(let i=0;i<this.length;i++)e+=this.get(i)*t.get(i);return e}norm(){return Math.sqrt(this.dot(this))}}class H{constructor(t,e){this.columns=e,this.elements=new Array(t*e)}get(t,e){return this.elements[t*this.columns+e]}set(t,e,i){this.elements[t*this.columns+e]=i}getRow(t){return x.fromVOL(this.elements,t*this.columns,this.columns)}}class L{constructor(t){this.coefficients=new Array(t+1)}}class Y{constructor(t,e,i){this.x=t,this.y=e,this.w=i}solve(t){if(t>this.x.length)return null;const e=new L(t),i=this.x.length,s=t+1,n=new H(s,i);for(let h=0;h<i;h++){n.set(0,h,this.w[h]);for(let t=1;t<s;t++)n.set(t,h,n.get(t-1,h)*this.x[h])}const r=new H(s,i),o=new H(s,i);for(let h=0;h<s;h+=1){for(let s=0;s<i;s+=1)r.set(h,s,n.get(h,s));for(let s=0;s<h;s+=1){const t=r.getRow(h).dot(r.getRow(s));for(let e=0;e<i;e+=1)r.set(h,e,r.get(h,e)-t*r.get(s,e))}const t=r.getRow(h).norm();if(t<1e-10)return null;const e=1/t;for(let s=0;s<i;s+=1)r.set(h,s,r.get(h,s)*e);for(let i=0;i<s;i+=1)o.set(h,i,i<h?0:r.getRow(h).dot(n.getRow(i)))}const a=new x(i);for(let h=0;h<i;h+=1)a.set(h,this.y[h]*this.w[h]);for(let h=s-1;h>=0;h-=1){e.coefficients[h]=r.getRow(h).dot(a);for(let t=s-1;t>h;t-=1)e.coefficients[h]-=o.get(h,t)*e.coefficients[t];e.coefficients[h]/=o.get(h,h)}return e}}class X{assumePointerMoveStoppedMilliseconds=40;historySize=20;horizonMilliseconds=300;minSampleSize=3;constructor(){this.samples=new G(this.historySize)}add(t){this.samples.push(t)}getVelocityEstimate(){const t=[],e=[],i=[],s=[];let n=0,r=this.samples.size-1;const o=this.samples.get(r);if(!o)return null;let a=o;for(;n<this.samples.size;){const h=this.samples.get(r),l=o.time-h.time,u=Math.abs(h.time-a.time);if(a=h,l>this.horizonMilliseconds||u>this.assumePointerMoveStoppedMilliseconds)break;t.push(h.x),e.push(h.y),i.push(1),s.push(-l),n++,r--}if(n>=this.minSampleSize){const n=new Y(s,t,i).solve(2);if(null!==n){const t=new Y(s,e,i).solve(2);if(null!==t){return[1e3*n.coefficients[1],1e3*t.coefficients[1]]}}}return null}get velocity(){const t=this.getVelocityEstimate();return null!==t?t:[0,0]}reset(){this.samples.clear()}}class F{velocityTracker=new X;_trackedPointers=new Map;touchEventsIds=new Map;cachedAbsoluteAverages={x:0,y:0};cachedRelativeAverages={x:0,y:0};constructor(){this.lastMovedPointerId=NaN;for(let t=0;t<20;++t)this.touchEventsIds.set(t,NaN)}addToTracker(t){if(this.trackedPointers.has(t.pointerId))return;this.lastMovedPointerId=t.pointerId;const e={abosoluteCoords:{x:t.x,y:t.y},relativeCoords:{x:t.offsetX,y:t.offsetY},timestamp:t.time,velocityX:0,velocityY:0};this.trackedPointers.set(t.pointerId,e),this.mapTouchEventId(t.pointerId),this.cachedAbsoluteAverages=this.getAbsoluteCoordsAverage(),this.cachedRelativeAverages=this.getRelativeCoordsAverage()}removeFromTracker(t){this.trackedPointers.delete(t),this.removeMappedTouchId(t)}track(t){const e=this.trackedPointers.get(t.pointerId);if(!e)return;this.lastMovedPointerId=t.pointerId,this.velocityTracker.add(t);const[i,s]=this.velocityTracker.velocity;e.velocityX=i,e.velocityY=s,e.abosoluteCoords={x:t.x,y:t.y},e.relativeCoords={x:t.offsetX,y:t.offsetY},this.trackedPointers.set(t.pointerId,e),this.cachedAbsoluteAverages=this.getAbsoluteCoordsAverage(),this.cachedRelativeAverages=this.getRelativeCoordsAverage()}mapTouchEventId(t){for(const[e,i]of this.touchEventsIds)if(isNaN(i)){this.touchEventsIds.set(e,t);break}}removeMappedTouchId(t){const e=this.getMappedTouchEventId(t);isNaN(e)||this.touchEventsIds.set(e,NaN)}getMappedTouchEventId(t){for(const[e,i]of this.touchEventsIds.entries())if(i===t)return e;return NaN}getVelocity(t){const e=this.trackedPointers.get(t);return e?{x:e.velocityX,y:e.velocityY}:null}getLastAbsoluteCoords(t){return this.trackedPointers.get(t??this.lastMovedPointerId)?.abosoluteCoords}getLastRelativeCoords(t){return this.trackedPointers.get(t??this.lastMovedPointerId)?.relativeCoords}getAbsoluteCoordsAverage(){const t=this.getAbsoluteCoordsSum(),e=t.x/this.trackedPointers.size,i=t.y/this.trackedPointers.size;return{x:isNaN(e)?this.cachedAbsoluteAverages.x:e,y:isNaN(i)?this.cachedAbsoluteAverages.y:i}}getRelativeCoordsAverage(){const t=this.getRelativeCoordsSum(),e=t.x/this.trackedPointers.size,i=t.y/this.trackedPointers.size;return{x:isNaN(e)?this.cachedRelativeAverages.x:e,y:isNaN(i)?this.cachedRelativeAverages.y:i}}getAbsoluteCoordsSum(t){const e={x:0,y:0};return this.trackedPointers.forEach(((i,s)=>{s!==t&&(e.x+=i.abosoluteCoords.x,e.y+=i.abosoluteCoords.y)})),e}getRelativeCoordsSum(t){const e={x:0,y:0};return this.trackedPointers.forEach(((i,s)=>{s!==t&&(e.x+=i.relativeCoords.x,e.y+=i.relativeCoords.y)})),e}resetTracker(){this.velocityTracker.reset(),this.trackedPointers.clear(),this.lastMovedPointerId=NaN;for(let t=0;t<20;++t)this.touchEventsIds.set(t,NaN)}static shareCommonPointers(t,e){return t.some((t=>e.includes(t)))}get trackedPointersCount(){return this.trackedPointers.size}get trackedPointersIDs(){const t=[];return this.trackedPointers.forEach(((e,i)=>{t.push(i)})),t}get trackedPointers(){return this._trackedPointers}}class U{gestureHandlers=[];awaitingHandlers=[];awaitingHandlersTags=new Set;handlingChangeSemaphore=0;activationIndex=0;constructor(){}scheduleFinishedHandlersCleanup(){0===this.handlingChangeSemaphore&&this.cleanupFinishedHandlers()}cleanHandler(t){t.reset(),t.active=!1,t.awaiting=!1,t.activationIndex=Number.MAX_VALUE}removeHandlerFromOrchestrator(t){const e=this.gestureHandlers.indexOf(t),i=this.awaitingHandlers.indexOf(t);e>=0&&this.gestureHandlers.splice(e,1),i>=0&&(this.awaitingHandlers.splice(i,1),this.awaitingHandlersTags.delete(t.handlerTag))}cleanupFinishedHandlers(){const t=new Set;for(let e=this.gestureHandlers.length-1;e>=0;--e){const i=this.gestureHandlers[e];this.isFinished(i.state)&&!i.awaiting&&(this.cleanHandler(i),t.add(i))}this.gestureHandlers=this.gestureHandlers.filter((e=>!t.has(e)))}hasOtherHandlerToWaitFor(t){return this.gestureHandlers.some((e=>!this.isFinished(e.state)&&this.shouldHandlerWaitForOther(t,e)))}shouldBeCancelledByFinishedHandler(t){return this.gestureHandlers.some((e=>this.shouldHandlerWaitForOther(t,e)&&e.state===n.END))}tryActivate(t){if(this.shouldBeCancelledByFinishedHandler(t))return void t.cancel();if(this.hasOtherHandlerToWaitFor(t))return void this.addAwaitingHandler(t);const e=t.state;e!==n.CANCELLED&&e!==n.FAILED&&(this.shouldActivate(t)?this.makeActive(t):e!==n.ACTIVE?e===n.BEGAN&&t.cancel():t.fail())}shouldActivate(t){return!this.gestureHandlers.some((e=>this.shouldHandlerBeCancelledBy(t,e)))}cleanupAwaitingHandlers(t){const e=e=>!e.awaiting&&this.shouldHandlerWaitForOther(e,t);for(const i of this.awaitingHandlers)e(i)&&(this.cleanHandler(i),this.awaitingHandlersTags.delete(i.handlerTag));this.awaitingHandlers=this.awaitingHandlers.filter((t=>this.awaitingHandlersTags.has(t.handlerTag)))}onHandlerStateChange(t,e,i,s){if(t.enabled||s){if(this.handlingChangeSemaphore+=1,this.isFinished(e))for(const i of this.awaitingHandlers)this.shouldHandlerWaitForOther(i,t)&&this.awaitingHandlersTags.has(i.handlerTag)&&(e===n.END?(i.cancel(),i.state===n.END&&i.sendEvent(n.CANCELLED,n.BEGAN),i.awaiting=!1):this.tryActivate(i));e===n.ACTIVE?this.tryActivate(t):i===n.ACTIVE||i===n.END?t.active?t.sendEvent(e,i):i!==n.ACTIVE||e!==n.CANCELLED&&e!==n.FAILED||t.sendEvent(e,n.BEGAN):i===n.UNDETERMINED&&e===n.CANCELLED||t.sendEvent(e,i),this.handlingChangeSemaphore-=1,this.scheduleFinishedHandlersCleanup(),this.awaitingHandlers.includes(t)||this.cleanupAwaitingHandlers(t)}}makeActive(t){const e=t.state;t.active=!0,t.shouldResetProgress=!0,t.activationIndex=this.activationIndex++;for(let i=this.gestureHandlers.length-1;i>=0;--i)this.shouldHandlerBeCancelledBy(this.gestureHandlers[i],t)&&this.gestureHandlers[i].cancel();for(const i of this.awaitingHandlers)this.shouldHandlerBeCancelledBy(i,t)&&(i.awaiting=!1);t.sendEvent(n.ACTIVE,n.BEGAN),e!==n.ACTIVE&&(t.sendEvent(n.END,n.ACTIVE),e!==n.END&&t.sendEvent(n.UNDETERMINED,n.END)),t.awaiting&&(t.awaiting=!1,this.awaitingHandlers=this.awaitingHandlers.filter((e=>e!==t)))}addAwaitingHandler(t){this.awaitingHandlers.includes(t)||(this.awaitingHandlers.push(t),this.awaitingHandlersTags.add(t.handlerTag),t.awaiting=!0,t.activationIndex=this.activationIndex++)}recordHandlerIfNotPresent(t){this.gestureHandlers.includes(t)||(this.gestureHandlers.push(t),t.active=!1,t.awaiting=!1,t.activationIndex=Number.MAX_SAFE_INTEGER)}shouldHandlerWaitForOther(t,e){return t!==e&&(t.shouldWaitForHandlerFailure(e)||e.shouldRequireToWaitForFailure(t))}canRunSimultaneously(t,e){return t===e||t.shouldRecognizeSimultaneously(e)||e.shouldRecognizeSimultaneously(t)}shouldHandlerBeCancelledBy(t,e){if(this.canRunSimultaneously(t,e))return!1;if(t.awaiting||t.state===n.ACTIVE)return t.shouldBeCancelledByOther(e);const i=t.getTrackedPointersID(),s=e.getTrackedPointersID();return!(!F.shareCommonPointers(i,s)&&t.delegate.view!==e.delegate.view)||this.checkOverlap(t,e)}checkOverlap(t,e){return t.getTrackedPointersID().some((i=>{const s=t.tracker.getLastAbsoluteCoords(i);return s&&t.delegate.isPointerInBounds(s)&&e.delegate.isPointerInBounds(s)}))}isFinished(t){return t===n.END||t===n.FAILED||t===n.CANCELLED}cancelMouseAndPenGestures(t){this.gestureHandlers.forEach((e=>{e.pointerType!==R.MOUSE&&e.pointerType!==R.STYLUS||(e!==t?e.cancel():e.tracker.resetTracker())}))}static get instance(){return U._instance||(U._instance=new U),U._instance}}class V{waitForRelations=new Map;simultaneousRelations=new Map;blocksHandlersRelations=new Map;constructor(){}configureInteractions(t,e){if(this.dropRelationsForHandlerWithTag(t.handlerTag),e.waitFor){const i=[];e.waitFor.forEach((t=>{"number"==typeof t?i.push(t):i.push(t.handlerTag)})),this.waitForRelations.set(t.handlerTag,i)}if(e.simultaneousHandlers){const i=[];e.simultaneousHandlers.forEach((t=>{"number"==typeof t?i.push(t):i.push(t.handlerTag)})),this.simultaneousRelations.set(t.handlerTag,i)}if(e.blocksHandlers){const i=[];e.blocksHandlers.forEach((t=>{"number"==typeof t?i.push(t):i.push(t.handlerTag)})),this.blocksHandlersRelations.set(t.handlerTag,i)}}shouldWaitForHandlerFailure(t,e){const i=this.waitForRelations.get(t.handlerTag);return void 0!==i?.find((t=>t===e.handlerTag))}shouldRecognizeSimultaneously(t,e){const i=this.simultaneousRelations.get(t.handlerTag);return void 0!==i?.find((t=>t===e.handlerTag))}shouldRequireHandlerToWaitForFailure(t,e){const i=this.blocksHandlersRelations.get(t.handlerTag);return void 0!==i?.find((t=>t===e.handlerTag))}shouldHandlerBeCancelledBy(t,e){const i="NativeViewGestureHandler"===e.constructor.name,s=e.active,n=!0===e.isButton?.();return i&&s&&!n}dropRelationsForHandlerWithTag(t){this.waitForRelations.delete(t),this.simultaneousRelations.delete(t),this.blocksHandlersRelations.delete(t)}reset(){this.waitForRelations.clear(),this.simultaneousRelations.clear(),this.blocksHandlersRelations.clear()}static get instance(){return this._instance||(this._instance=new V),this._instance}}const B=["id","enabled","shouldCancelWhenOutside","hitSlop","cancelsTouchesInView","userSelect","activeCursor","mouseButton","enableContextMenu","touchAction"],W=[...B,"waitFor","simultaneousHandlers","blocksHandlers","onBegan","onFailed","onCancelled","onActivated","onEnded","onGestureEvent","onHandlerStateChange"],q=[...B,"needsPointerData","manualActivation"];let z=function(t){return t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.MIDDLE=4]="MIDDLE",t[t.BUTTON_4=8]="BUTTON_4",t[t.BUTTON_5=16]="BUTTON_5",t[t.ALL=31]="ALL",t}({});class K{lastSentState=null;_state=n.UNDETERMINED;_shouldCancelWhenOutside=!1;hasCustomActivationCriteria=!1;_enabled=!1;_config={enabled:!1};_tracker=new F;_activationIndex=0;_awaiting=!1;_active=!1;_shouldResetProgress=!1;_pointerType=R.MOUSE;constructor(t){this._delegate=t}init(t,e){this.propsRef=e,this.viewRef=t,this.state=n.UNDETERMINED,this.delegate.init(t,this)}attachEventManager(t){t.setOnPointerDown(this.onPointerDown.bind(this)),t.setOnPointerAdd(this.onPointerAdd.bind(this)),t.setOnPointerUp(this.onPointerUp.bind(this)),t.setOnPointerRemove(this.onPointerRemove.bind(this)),t.setOnPointerMove(this.onPointerMove.bind(this)),t.setOnPointerEnter(this.onPointerEnter.bind(this)),t.setOnPointerLeave(this.onPointerLeave.bind(this)),t.setOnPointerCancel(this.onPointerCancel.bind(this)),t.setOnPointerOutOfBounds(this.onPointerOutOfBounds.bind(this)),t.setOnPointerMoveOver(this.onPointerMoveOver.bind(this)),t.setOnPointerMoveOut(this.onPointerMoveOut.bind(this)),t.setOnWheel(this.onWheel.bind(this)),t.registerListeners()}onCancel(){}onReset(){}resetProgress(){}reset(){this.tracker.resetTracker(),this.onReset(),this.resetProgress(),this.delegate.reset(),this.state=n.UNDETERMINED}moveToState(t,e){if(this.state===t)return;const i=this.state;this.state=t,this.tracker.trackedPointersCount>0&&this.config.needsPointerData&&this.isFinished()&&this.cancelTouches(),U.instance.onHandlerStateChange(this,t,i,e),this.onStateChange(t,i),!this.enabled&&this.isFinished()&&(this.state=n.UNDETERMINED)}onStateChange(t,e){}begin(){this.checkHitSlop()&&this.state===n.UNDETERMINED&&this.moveToState(n.BEGAN)}fail(t){this.state!==n.ACTIVE&&this.state!==n.BEGAN||(this.delegate.onFail(),this.moveToState(n.FAILED,t)),this.resetProgress()}cancel(t){this.state!==n.ACTIVE&&this.state!==n.UNDETERMINED&&this.state!==n.BEGAN||(this.onCancel(),this.delegate.onCancel(),this.moveToState(n.CANCELLED,t))}activate(t=!1){!0===this.config.manualActivation&&!t||this.state!==n.UNDETERMINED&&this.state!==n.BEGAN||(this.delegate.onActivate(),this.moveToState(n.ACTIVE))}end(){this.state!==n.BEGAN&&this.state!==n.ACTIVE||(this.delegate.onEnd(),this.moveToState(n.END)),this.resetProgress()}getShouldResetProgress(){return this.shouldResetProgress}setShouldResetProgress(t){this.shouldResetProgress=t}shouldWaitForHandlerFailure(t){return t!==this&&V.instance.shouldWaitForHandlerFailure(this,t)}shouldRequireToWaitForFailure(t){return t!==this&&V.instance.shouldRequireHandlerToWaitForFailure(this,t)}shouldRecognizeSimultaneously(t){return t===this||V.instance.shouldRecognizeSimultaneously(this,t)}shouldBeCancelledByOther(t){return t!==this&&V.instance.shouldHandlerBeCancelledBy(this,t)}onPointerDown(t){U.instance.recordHandlerIfNotPresent(this),this.pointerType=t.pointerType,this.pointerType===R.TOUCH&&U.instance.cancelMouseAndPenGestures(this)}onPointerAdd(t){this.tryToSendTouchEvent(t)}onPointerUp(t){this.tryToSendTouchEvent(t)}onPointerRemove(t){this.tryToSendTouchEvent(t)}onPointerMove(t){this.tryToSendMoveEvent(!1,t)}onPointerLeave(t){if(this.shouldCancelWhenOutside)switch(this.state){case n.ACTIVE:this.cancel();break;case n.BEGAN:this.fail()}else this.tryToSendTouchEvent(t)}onPointerEnter(t){this.tryToSendTouchEvent(t)}onPointerCancel(t){this.tryToSendTouchEvent(t),this.cancel(),this.reset()}onPointerOutOfBounds(t){this.tryToSendMoveEvent(!0,t)}onPointerMoveOver(t){}onPointerMoveOut(t){}onWheel(t){}tryToSendMoveEvent(t,e){t&&this.shouldCancelWhenOutside||!this.enabled||(this.active&&this.sendEvent(this.state,this.state),this.tryToSendTouchEvent(e))}tryToSendTouchEvent(t){this.config.needsPointerData&&this.sendTouchEvent(t)}sendTouchEvent(t){if(!this.enabled)return;const{onGestureHandlerEvent:e}=this.propsRef.current,i=this.transformTouchEvent(t);i&&j(e,i)}sendEvent=(t,e)=>{const{onGestureHandlerEvent:i,onGestureHandlerStateChange:s}=this.propsRef.current,r=this.transformEventData(t,e);this.lastSentState!==t&&(this.lastSentState=t,j(s,r)),this.state===n.ACTIVE&&(r.nativeEvent.oldState=void 0,j(i,r))};transformEventData(t,e){return{nativeEvent:{numberOfPointers:this.tracker.trackedPointersCount,state:t,pointerInside:this.delegate.isPointerInBounds(this.tracker.getAbsoluteCoordsAverage()),...this.transformNativeEvent(),handlerTag:this.handlerTag,target:this.viewRef,oldState:t!==e?e:void 0,pointerType:this.pointerType},timeStamp:Date.now()}}transformTouchEvent(t){const e=this.delegate.measureView(),i=[],s=[],n=this.tracker.trackedPointers;if(0===n.size||!n.has(t.pointerId))return;n.forEach(((t,s)=>{const n=this.tracker.getMappedTouchEventId(s);i.push({id:n,x:t.abosoluteCoords.x-e.pageX,y:t.abosoluteCoords.y-e.pageY,absoluteX:t.abosoluteCoords.x,absoluteY:t.abosoluteCoords.y})})),t.eventType!==b.CANCEL?s.push({id:this.tracker.getMappedTouchEventId(t.pointerId),x:t.x-e.pageX,y:t.y-e.pageY,absoluteX:t.x,absoluteY:t.y}):n.forEach(((t,i)=>{const n=this.tracker.getMappedTouchEventId(i);s.push({id:n,x:t.abosoluteCoords.x-e.pageX,y:t.abosoluteCoords.y-e.pageY,absoluteX:t.abosoluteCoords.x,absoluteY:t.abosoluteCoords.y})}));let r=M.UNDETERMINED;switch(t.eventType){case b.DOWN:case b.ADDITIONAL_POINTER_DOWN:r=M.DOWN;break;case b.UP:case b.ADDITIONAL_POINTER_UP:r=M.UP;break;case b.MOVE:r=M.MOVE;break;case b.CANCEL:r=M.CANCELLED}let o=i.length;return t.eventType!==b.UP&&t.eventType!==b.ADDITIONAL_POINTER_UP||--o,{nativeEvent:{handlerTag:this.handlerTag,state:this.state,eventType:r,changedTouches:s,allTouches:i,numberOfTouches:o,pointerType:this.pointerType},timeStamp:Date.now()}}cancelTouches(){const t=this.delegate.measureView(),e=[],i=[],s=this.tracker.trackedPointers;if(0===s.size)return;s.forEach(((s,n)=>{const r=this.tracker.getMappedTouchEventId(n);e.push({id:r,x:s.abosoluteCoords.x-t.pageX,y:s.abosoluteCoords.y-t.pageY,absoluteX:s.abosoluteCoords.x,absoluteY:s.abosoluteCoords.y}),i.push({id:r,x:s.abosoluteCoords.x-t.pageX,y:s.abosoluteCoords.y-t.pageY,absoluteX:s.abosoluteCoords.x,absoluteY:s.abosoluteCoords.y})}));const n={nativeEvent:{handlerTag:this.handlerTag,state:this.state,eventType:M.CANCELLED,changedTouches:i,allTouches:e,numberOfTouches:e.length,pointerType:this.pointerType},timeStamp:Date.now()},{onGestureHandlerEvent:r}=this.propsRef.current;j(r,n)}transformNativeEvent(){const t=this.tracker.getAbsoluteCoordsAverage(),e=this.tracker.getRelativeCoordsAverage();return{x:e.x,y:e.y,absoluteX:t.x,absoluteY:t.y}}updateGestureConfig({enabled:t=!0,...e}){if(this._config={enabled:t,...e},this.enabled!==t&&this.delegate.onEnabledChange(t),this.enabled=t,void 0!==this.config.shouldCancelWhenOutside&&(this.shouldCancelWhenOutside=this.config.shouldCancelWhenOutside),this.validateHitSlops(),!this.enabled)switch(this.state){case n.ACTIVE:this.fail(!0);break;case n.UNDETERMINED:U.instance.removeHandlerFromOrchestrator(this);break;default:this.cancel(!0)}}checkCustomActivationCriteria(t){for(const e in this.config)t.indexOf(e)>=0&&(this.hasCustomActivationCriteria=!0)}validateHitSlops(){if(this.config.hitSlop){if(void 0!==this.config.hitSlop.left&&void 0!==this.config.hitSlop.right&&void 0!==this.config.hitSlop.width)throw new Error("HitSlop Error: Cannot define left, right and width at the same time");if(void 0!==this.config.hitSlop.width&&void 0===this.config.hitSlop.left&&void 0===this.config.hitSlop.right)throw new Error("HitSlop Error: When width is defined, either left or right has to be defined");if(void 0!==this.config.hitSlop.height&&void 0!==this.config.hitSlop.top&&void 0!==this.config.hitSlop.bottom)throw new Error("HitSlop Error: Cannot define top, bottom and height at the same time");if(void 0!==this.config.hitSlop.height&&void 0===this.config.hitSlop.top&&void 0===this.config.hitSlop.bottom)throw new Error("HitSlop Error: When height is defined, either top or bottom has to be defined")}}checkHitSlop(){if(!this.config.hitSlop)return!0;const{width:t,height:e}=this.delegate.measureView();let i=0,s=0,n=t,r=e;void 0!==this.config.hitSlop.horizontal&&(i-=this.config.hitSlop.horizontal,n+=this.config.hitSlop.horizontal),void 0!==this.config.hitSlop.vertical&&(s-=this.config.hitSlop.vertical,r+=this.config.hitSlop.vertical),void 0!==this.config.hitSlop.left&&(i=-this.config.hitSlop.left),void 0!==this.config.hitSlop.right&&(n=t+this.config.hitSlop.right),void 0!==this.config.hitSlop.top&&(s=-this.config.hitSlop.top),void 0!==this.config.hitSlop.bottom&&(r=e+this.config.hitSlop.bottom),void 0!==this.config.hitSlop.width&&(void 0!==this.config.hitSlop.left?n=i+this.config.hitSlop.width:void 0!==this.config.hitSlop.right&&(i=n-this.config.hitSlop.width)),void 0!==this.config.hitSlop.height&&(void 0!==this.config.hitSlop.top?r=s+this.config.hitSlop.height:void 0!==this.config.hitSlop.bottom&&(s=r-this.config.hitSlop.height));const o=this.delegate.measureView(),a=this.tracker.getLastAbsoluteCoords();if(!a)return!1;const h=a.x-o.pageX,l=a.y-o.pageY;return h>=i&&h<=n&&l>=s&&l<=r}isButtonInConfig(t){return!t||!this.config.mouseButton&&t===z.LEFT||this.config.mouseButton&&t&this.config.mouseButton}resetConfig(){}onDestroy(){U.instance.removeHandlerFromOrchestrator(this),this.delegate.destroy(this.config)}get handlerTag(){return this._handlerTag}set handlerTag(t){this._handlerTag=t}get config(){return this._config}get delegate(){return this._delegate}get tracker(){return this._tracker}get state(){return this._state}set state(t){this._state=t}get shouldCancelWhenOutside(){return this._shouldCancelWhenOutside}set shouldCancelWhenOutside(t){this._shouldCancelWhenOutside=t}get enabled(){return this._enabled}set enabled(t){this._enabled=t}get pointerType(){return this._pointerType}set pointerType(t){this._pointerType=t}get active(){return this._active}set active(t){this._active=t}get awaiting(){return this._awaiting}set awaiting(t){this._awaiting=t}get activationIndex(){return this._activationIndex}set activationIndex(t){this._activationIndex=t}get shouldResetProgress(){return this._shouldResetProgress}set shouldResetProgress(t){this._shouldResetProgress=t}getTrackedPointersID(){return this.tracker.trackedPointersIDs}isFinished(){return this.state===n.END||this.state===n.FAILED||this.state===n.CANCELLED}}function j(t,e){if(!t)return;if("function"==typeof t)return void t(e);if("__getHandler"in t&&"function"==typeof t.__getHandler){return void j(t.__getHandler(),e)}if(!("__nodeConfig"in t))return;const{argMapping:i}=t.__nodeConfig;if(Array.isArray(i))for(const[s,[n,r]]of i.entries()){if(!(n in e.nativeEvent))continue;const i=e.nativeEvent[n];r?.setValue?r.setValue(i):t.__nodeConfig.argMapping[s]=[n,i]}}class ${inProgress=!1;constructor(t){this.onScaleBegin=t.onScaleBegin,this.onScale=t.onScale,this.onScaleEnd=t.onScaleEnd,this.spanSlop=30,this.minSpan=0}onTouchEvent(t,e){this.currentTime=t.time;const i=t.eventType,s=e.trackedPointersCount,n=i===b.UP||i===b.ADDITIONAL_POINTER_UP||i===b.CANCEL;if((i===b.DOWN||n)&&(this.inProgress&&(this.onScaleEnd(this),this.inProgress=!1,this.initialSpan=0),n))return!0;const r=i===b.DOWN||i===b.ADDITIONAL_POINTER_UP||i===b.ADDITIONAL_POINTER_DOWN,o=i===b.ADDITIONAL_POINTER_UP,a=o?t.pointerId:void 0,h=o?s-1:s,l=e.getAbsoluteCoordsSum(),u=l.x/h,c=l.y/h;let d=0,f=0;e.trackedPointers.forEach(((t,e)=>{e!==a&&(d+=Math.abs(t.abosoluteCoords.x-u),f+=Math.abs(t.abosoluteCoords.y-c))}));const p=2*(d/h),v=2*(f/h),g=Math.hypot(p,v),E=this.inProgress;return this._focusX=u,this._focusY=c,this.inProgress&&(g<this.minSpan||r)&&(this.onScaleEnd(this),this.inProgress=!1,this.initialSpan=g),r&&(this.initialSpan=this.prevSpan=this._currentSpan=g),!this.inProgress&&g>=this.minSpan&&(E||Math.abs(g-this.initialSpan)>this.spanSlop)&&(this.prevSpan=this._currentSpan=g,this.prevTime=this.currentTime,this.inProgress=this.onScaleBegin(this)),i!==b.MOVE||(this._currentSpan=g,this.inProgress&&!this.onScale(this)||(this.prevSpan=this.currentSpan,this.prevTime=this.currentTime),!0)}calculateScaleFactor(t){return t<2?1:this.prevSpan>0?this.currentSpan/this.prevSpan:1}get currentSpan(){return this._currentSpan}get focusX(){return this._focusX}get focusY(){return this._focusY}get timeDelta(){return this.currentTime-this.prevTime}}class J{currentTime=0;previousTime=0;previousAngle=0;_rotation=0;_anchorX=0;_anchorY=0;isInProgress=!1;keyPointers=[NaN,NaN];constructor(t){this.onRotationBegin=t.onRotationBegin,this.onRotation=t.onRotation,this.onRotationEnd=t.onRotationEnd}updateCurrent(t,e){this.previousTime=this.currentTime,this.currentTime=t.time;const[i,s]=this.keyPointers,n=e.getLastAbsoluteCoords(i),r=e.getLastAbsoluteCoords(s);if(!n||!r)return;const o=r.x-n.x,a=r.y-n.y;this._anchorX=(n.x+r.x)/2,this._anchorY=(n.y+r.y)/2;const h=-Math.atan2(a,o);this._rotation=Number.isNaN(this.previousAngle)?0:this.previousAngle-h,this.previousAngle=h,this.rotation>Math.PI?this._rotation-=Math.PI:this.rotation<-Math.PI&&(this._rotation+=Math.PI),this.rotation>Math.PI/2?this._rotation-=Math.PI:this.rotation<-Math.PI/2&&(this._rotation+=Math.PI)}finish(){this.isInProgress&&(this.isInProgress=!1,this.keyPointers=[NaN,NaN],this.onRotationEnd(this))}setKeyPointers(t){if(this.keyPointers[0]&&this.keyPointers[1])return;const e=t.trackedPointers.keys();this.keyPointers[0]=e.next().value,this.keyPointers[1]=e.next().value}onTouchEvent(t,e){switch(t.eventType){case b.DOWN:this.isInProgress=!1;break;case b.ADDITIONAL_POINTER_DOWN:if(this.isInProgress)break;this.isInProgress=!0,this.previousTime=t.time,this.previousAngle=NaN,this.setKeyPointers(e),this.updateCurrent(t,e),this.onRotationBegin(this);break;case b.MOVE:if(!this.isInProgress)break;this.updateCurrent(t,e),this.onRotation(this);break;case b.ADDITIONAL_POINTER_UP:if(!this.isInProgress)break;this.keyPointers.indexOf(t.pointerId)>=0&&this.finish();break;case b.UP:this.isInProgress&&this.finish()}return!0}reset(){this.keyPointers=[NaN,NaN],this.isInProgress=!1}get anchorX(){return this._anchorX}get anchorY(){return this._anchorY}get rotation(){return this._rotation}get timeDelta(){return this.currentTime+this.previousTime}}const Z=Math.PI/36;const Q={RIGHT:1,LEFT:2,UP:4,DOWN:8},tt={UP_RIGHT:5,DOWN_RIGHT:9,UP_LEFT:6,DOWN_LEFT:10};class et{constructor(t,e){this.x=t,this.y=e,this._magnitude=Math.hypot(this.x,this.y);const i=this._magnitude>.1;this.unitX=i?this.x/this._magnitude:0,this.unitY=i?this.y/this._magnitude:0}static fromDirection(t){return it.get(t)??new et(0,0)}static fromVelocity(t,e){const i=t.getVelocity(e);return i?new et(i.x,i.y):null}get magnitude(){return this._magnitude}computeSimilarity(t){return this.unitX*t.unitX+this.unitY*t.unitY}isSimilar(t,e){return this.computeSimilarity(t)>e}}const it=new Map([[Q.LEFT,new et(-1,0)],[Q.RIGHT,new et(1,0)],[Q.UP,new et(0,-1)],[Q.DOWN,new et(0,1)],[tt.UP_RIGHT,new et(1,-1)],[tt.DOWN_RIGHT,new et(1,1)],[tt.UP_LEFT,new et(-1,-1)],[tt.DOWN_LEFT,new et(-1,1)]]);function st(t,{x:e,y:i}){const s=t.getBoundingClientRect();return e>=s.left&&e<=s.right&&i>=s.top&&i<=s.bottom}const nt=new Map([["mouse",R.MOUSE],["touch",R.TOUCH],["pen",R.STYLUS],["none",R.OTHER]]),rt=t=>Math.cos((t=>t*Math.PI/180)(t/2));function ot(t){if(nt.get(t.pointerType)!==R.STYLUS)return;const e=t.azimuthAngle,i=t.altitudeAngle;if(0===t.tiltX&&0===t.tiltY){if(void 0===e||void 0===i)return{tiltX:0,tiltY:0,azimuthAngle:Math.PI/2,altitudeAngle:Math.PI/2,pressure:t.pressure};const{tiltX:s,tiltY:n}=function(t,e){const i=180/Math.PI;let s=0,n=0;0===t&&(0!==e&&e!==2*Math.PI||(s=Math.PI/2),e===Math.PI/2&&(n=Math.PI/2),e===Math.PI&&(s=-Math.PI/2),e===3*Math.PI/2&&(n=-Math.PI/2),e>0&&e<Math.PI/2&&(s=Math.PI/2,n=Math.PI/2),e>Math.PI/2&&e<Math.PI&&(s=-Math.PI/2,n=Math.PI/2),e>Math.PI&&e<3*Math.PI/2&&(s=-Math.PI/2,n=-Math.PI/2),e>3*Math.PI/2&&e<2*Math.PI&&(s=Math.PI/2,n=-Math.PI/2));if(0!==t){const i=Math.tan(t);s=Math.atan(Math.cos(e)/i),n=Math.atan(Math.sin(e)/i)}const r=Math.round(s*i),o=Math.round(n*i);return{tiltX:r,tiltY:o}}(i,e);return{tiltX:s,tiltY:n,azimuthAngle:e,altitudeAngle:i,pressure:t.pressure}}const{altitudeAngle:s,azimuthAngle:n}=function(t,e){const i=t*Math.PI/180,s=e*Math.PI/180;let n=0;if(0===t)e>0?n=Math.PI/2:e<0&&(n=3*Math.PI/2);else if(0===e)t<0&&(n=Math.PI);else if(90===Math.abs(t)||90===Math.abs(e))n=0;else{const t=Math.tan(i),e=Math.tan(s);n=Math.atan2(e,t),n<0&&(n+=2*Math.PI)}let r=0;r=90===Math.abs(t)||90===Math.abs(e)?0:0===t?Math.PI/2-Math.abs(s):0===e?Math.PI/2-Math.abs(i):Math.atan(1/Math.sqrt(Math.pow(Math.tan(i),2)+Math.pow(Math.tan(s),2)));return{altitudeAngle:r,azimuthAngle:n}}(t.tiltX,t.tiltY);return{tiltX:t.tiltX,tiltY:t.tiltY,azimuthAngle:n,altitudeAngle:s,pressure:t.pressure}}const at=new Set(["Circle","ClipPath","Ellipse","ForeignObject","G","Image","Line","Marker","Mask","Path","Pattern","Polygon","Polyline","Rect","Svg","Symbol","TSpan","Text","TextPath","Use"]);const ht=Q.RIGHT,lt=rt(30),ut=rt(60);var ct=i(11115);class dt extends K{shouldActivateOnStart=!1;disallowInterruption=!1;startX=0;startY=0;minDistSq=225;init(t,e){if(super.init(t,e),this.shouldCancelWhenOutside=!0,"web"!==ct.A.OS)return;const i=this.delegate.view;this.restoreViewStyles(i),this.buttonRole="button"===i.getAttribute("role")}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),void 0!==this.config.shouldActivateOnStart&&(this.shouldActivateOnStart=this.config.shouldActivateOnStart),void 0!==this.config.disallowInterruption&&(this.disallowInterruption=this.config.disallowInterruption);const i=this.delegate.view;this.restoreViewStyles(i)}restoreViewStyles(t){t&&(t.style.touchAction="auto",t.style.WebkitTouchCallout="auto")}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.newPointerAction(),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.newPointerAction()}newPointerAction(){const t=this.tracker.getAbsoluteCoordsAverage();if(this.startX=t.x,this.startY=t.y,this.state!==n.UNDETERMINED)return;this.begin();const e=this.delegate.view.hasAttribute("rnghtext");(this.buttonRole||e)&&this.activate()}onPointerMove(t){this.tracker.track(t);const e=this.tracker.getAbsoluteCoordsAverage(),i=this.startX-e.x,s=this.startY-e.y;i*i+s*s>=this.minDistSq&&(this.buttonRole&&this.state===n.ACTIVE?this.cancel():this.buttonRole||this.state!==n.BEGAN||this.activate())}onPointerLeave(){this.state!==n.BEGAN&&this.state!==n.ACTIVE||this.cancel()}onPointerUp(t){super.onPointerUp(t),this.onUp(t)}onPointerRemove(t){super.onPointerRemove(t),this.onUp(t)}onUp(t){this.tracker.removeFromTracker(t.pointerId),0===this.tracker.trackedPointersCount&&(this.state===n.ACTIVE?this.end():this.fail())}shouldRecognizeSimultaneously(t){if(super.shouldRecognizeSimultaneously(t))return!0;if(t instanceof dt&&t.state===n.ACTIVE&&t.disallowsInterruption())return!1;const e=!this.disallowInterruption;return(this.state!==n.ACTIVE||t.state!==n.ACTIVE||!e)&&(this.state===n.ACTIVE&&e&&t.handlerTag>0)}shouldBeCancelledByOther(t){return!this.disallowInterruption}disallowsInterruption(){return this.disallowInterruption}isButton(){return this.buttonRole}}function ft(){return ft=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},ft.apply(this,arguments)}function pt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var gt,Et="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s)for(var n in s)s.hasOwnProperty(n)&&(e[n]=s[n])}return e}:Object.assign,mt=["","webkit","Moz","MS","ms","o"],Tt="undefined"==typeof document?{style:{}}:document.createElement("div"),Ct=Math.round,yt=Math.abs,Pt=Date.now;function At(t,e){for(var i,s,n=e[0].toUpperCase()+e.slice(1),r=0;r<mt.length;){if((s=(i=mt[r])?i+n:e)in t)return s;r++}}gt="undefined"==typeof window?{}:window;var St=At(Tt.style,"touchAction"),Ot=void 0!==St;var Nt="compute",It="auto",Dt="manipulation",_t="none",wt="pan-x",bt="pan-y",Mt=function(){if(!Ot)return!1;var t={},e=gt.CSS&&gt.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){return t[i]=!e||gt.CSS.supports("touch-action",i)})),t}(),kt="ontouchstart"in gt,Rt=void 0!==At(gt,"PointerEvent"),Gt=kt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),xt="touch",Ht="mouse",Lt=16,Yt=24,Xt=["x","y"],Ft=["clientX","clientY"];function Ut(t,e,i){var s;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(s=0;s<t.length;)e.call(i,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&e.call(i,t[s],s,t)}function Vt(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function Bt(t,e){return t.indexOf(e)>-1}var Wt=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Nt&&(t=this.compute()),Ot&&this.manager.element.style&&Mt[t]&&(this.manager.element.style[St]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return Ut(this.manager.recognizers,(function(e){Vt(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(Bt(t,_t))return _t;var e=Bt(t,wt),i=Bt(t,bt);return e&&i?_t:e||i?e?wt:bt:Bt(t,Dt)?Dt:It}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var s=this.actions,n=Bt(s,_t)&&!Mt[_t],r=Bt(s,bt)&&!Mt[bt],o=Bt(s,wt)&&!Mt[wt];if(n){var a=1===t.pointers.length,h=t.distance<2,l=t.deltaTime<250;if(a&&h&&l)return}if(!o||!r)return n||r&&6&i||o&&i&Yt?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function qt(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function zt(t){var e=t.length;if(1===e)return{x:Ct(t[0].clientX),y:Ct(t[0].clientY)};for(var i=0,s=0,n=0;n<e;)i+=t[n].clientX,s+=t[n].clientY,n++;return{x:Ct(i/e),y:Ct(s/e)}}function Kt(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:Ct(t.pointers[i].clientX),clientY:Ct(t.pointers[i].clientY)},i++;return{timeStamp:Pt(),pointers:e,center:zt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function jt(t,e,i){i||(i=Xt);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(s*s+n*n)}function $t(t,e,i){i||(i=Xt);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,s)/Math.PI}function Jt(t,e){return t===e?1:yt(t)>=yt(e)?t<0?2:4:e<0?8:Lt}function Zt(t,e,i){return{x:e/t||0,y:i/t||0}}function Qt(t,e){var i=t.session,s=e.pointers,n=s.length;i.firstInput||(i.firstInput=Kt(e)),n>1&&!i.firstMultiple?i.firstMultiple=Kt(e):1===n&&(i.firstMultiple=!1);var r=i.firstInput,o=i.firstMultiple,a=o?o.center:r.center,h=e.center=zt(s);e.timeStamp=Pt(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=$t(a,h),e.distance=jt(a,h),function(t,e){var i=e.center,s=t.offsetDelta||{},n=t.prevDelta||{},r=t.prevInput||{};1!==e.eventType&&4!==r.eventType||(n=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},s=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=n.x+(i.x-s.x),e.deltaY=n.y+(i.y-s.y)}(i,e),e.offsetDirection=Jt(e.deltaX,e.deltaY);var l,u,c=Zt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=yt(c.x)>yt(c.y)?c.x:c.y,e.scale=o?(l=o.pointers,jt((u=s)[0],u[1],Ft)/jt(l[0],l[1],Ft)):1,e.rotation=o?function(t,e){return $t(e[1],e[0],Ft)+$t(t[1],t[0],Ft)}(o.pointers,s):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,s,n,r,o=t.lastInterval||e,a=e.timeStamp-o.timeStamp;if(8!==e.eventType&&(a>25||void 0===o.velocity)){var h=e.deltaX-o.deltaX,l=e.deltaY-o.deltaY,u=Zt(a,h,l);s=u.x,n=u.y,i=yt(u.x)>yt(u.y)?u.x:u.y,r=Jt(h,l),t.lastInterval=e}else i=o.velocity,s=o.velocityX,n=o.velocityY,r=o.direction;e.velocity=i,e.velocityX=s,e.velocityY=n,e.direction=r}(i,e);var d,f=t.element,p=e.srcEvent;qt(d=p.composedPath?p.composedPath()[0]:p.path?p.path[0]:p.target,f)&&(f=d),e.target=f}function te(t,e,i){var s=i.pointers.length,n=i.changedPointers.length,r=1&e&&s-n==0,o=12&e&&s-n==0;i.isFirst=!!r,i.isFinal=!!o,r&&(t.session={}),i.eventType=e,Qt(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function ee(t){return t.trim().split(/\s+/g)}function ie(t,e,i){Ut(ee(e),(function(e){t.addEventListener(e,i,!1)}))}function se(t,e,i){Ut(ee(e),(function(e){t.removeEventListener(e,i,!1)}))}function ne(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var re=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Vt(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&ie(this.element,this.evEl,this.domHandler),this.evTarget&&ie(this.target,this.evTarget,this.domHandler),this.evWin&&ie(ne(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&se(this.element,this.evEl,this.domHandler),this.evTarget&&se(this.target,this.evTarget,this.domHandler),this.evWin&&se(ne(this.element),this.evWin,this.domHandler)},t}();function oe(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var s=0;s<t.length;){if(i&&t[s][i]==e||!i&&t[s]===e)return s;s++}return-1}var ae={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},he={2:xt,3:"pen",4:Ht,5:"kinect"},le="pointerdown",ue="pointermove pointerup pointercancel";gt.MSPointerEvent&&!gt.PointerEvent&&(le="MSPointerDown",ue="MSPointerMove MSPointerUp MSPointerCancel");var ce=function(t){function e(){var i,s=e.prototype;return s.evEl=le,s.evWin=ue,(i=t.apply(this,arguments)||this).store=i.manager.session.pointerEvents=[],i}return pt(e,t),e.prototype.handler=function(t){var e=this.store,i=!1,s=t.type.toLowerCase().replace("ms",""),n=ae[s],r=he[t.pointerType]||t.pointerType,o=r===xt,a=oe(e,t.pointerId,"pointerId");1&n&&(0===t.button||o)?a<0&&(e.push(t),a=e.length-1):12&n&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(a,1))},e}(re);function de(t){return Array.prototype.slice.call(t,0)}function fe(t,e,i){for(var s=[],n=[],r=0;r<t.length;){var o=e?t[r][e]:t[r];oe(n,o)<0&&s.push(t[r]),n[r]=o,r++}return i&&(s=e?s.sort((function(t,i){return t[e]>i[e]})):s.sort()),s}var pe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ve=function(t){function e(){var i;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).targetIds={},i}return pt(e,t),e.prototype.handler=function(t){var e=pe[t.type],i=ge.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:xt,srcEvent:t})},e}(re);function ge(t,e){var i,s,n=de(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o=de(t.changedTouches),a=[],h=this.target;if(s=n.filter((function(t){return qt(t.target,h)})),1===e)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&a.push(o[i]),12&e&&delete r[o[i].identifier],i++;return a.length?[fe(s.concat(a),"identifier",!0),a]:void 0}var Ee={mousedown:1,mousemove:2,mouseup:4},me=function(t){function e(){var i,s=e.prototype;return s.evEl="mousedown",s.evWin="mousemove mouseup",(i=t.apply(this,arguments)||this).pressed=!1,i}return pt(e,t),e.prototype.handler=function(t){var e=Ee[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Ht,srcEvent:t}))},e}(re);function Te(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},s=this.lastTouches;this.lastTouches.push(i);setTimeout((function(){var t=s.indexOf(i);t>-1&&s.splice(t,1)}),2500)}}function Ce(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,Te.call(this,e)):12&t&&Te.call(this,e)}function ye(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,s=0;s<this.lastTouches.length;s++){var n=this.lastTouches[s],r=Math.abs(e-n.x),o=Math.abs(i-n.y);if(r<=25&&o<=25)return!0}return!1}var Pe=function(){return function(t){function e(e,i){var s;return(s=t.call(this,e,i)||this).handler=function(t,e,i){var n=i.pointerType===xt,r=i.pointerType===Ht;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)Ce.call(vt(vt(s)),e,i);else if(r&&ye.call(vt(vt(s)),i))return;s.callback(t,e,i)}},s.touch=new ve(s.manager,s.handler),s.mouse=new me(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}return pt(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(re)}();function Ae(t,e,i){return!!Array.isArray(t)&&(Ut(t,i[e],i),!0)}var Se=32,Oe=1;function Ne(t,e){var i=e.manager;return i?i.get(t):t}function Ie(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var De=function(){function t(t){void 0===t&&(t={}),this.options=ft({enable:!0},t),this.id=Oe++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Et(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(Ae(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Ne(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return Ae(t,"dropRecognizeWith",this)||(t=Ne(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(Ae(t,"requireFailure",this))return this;var e=this.requireFail;return-1===oe(e,t=Ne(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(Ae(t,"dropRequireFailure",this))return this;t=Ne(t,this);var e=oe(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,i=this.state;function s(i){e.manager.emit(i,t)}i<8&&s(e.options.event+Ie(i)),s(e.options.event),t.additionalEvent&&s(t.additionalEvent),i>=8&&s(e.options.event+Ie(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Se},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=Et({},t);if(!Vt(this.options.enable,[this,e]))return this.reset(),void(this.state=Se);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),_e=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,ft({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}pt(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Dt]},i.process=function(t){var e=this,i=this.options,s=t.pointers.length===i.pointers,n=t.distance<i.threshold,r=t.deltaTime<i.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(n&&r&&s){if(4!==t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||jt(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),i.interval),2):8}return Se},i.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=Se}),this.options.interval),Se},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(De),we=function(t){function e(e){return void 0===e&&(e={}),t.call(this,ft({pointers:1},e))||this}pt(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,s=6&e,n=this.attrTest(t);return s&&(8&i||!n)?16|e:s||n?4&i?8|e:2&e?4|e:2:Se},e}(De);function be(t){return t===Lt?"down":8===t?"up":2===t?"left":4===t?"right":""}var Me=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,ft({event:"pan",threshold:10,pointers:1,direction:30},e))||this).pX=null,i.pY=null,i}pt(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push(bt),t&Yt&&e.push(wt),e},i.directionTest=function(t){var e=this.options,i=!0,s=t.distance,n=t.direction,r=t.deltaX,o=t.deltaY;return n&e.direction||(6&e.direction?(n=0===r?1:r<0?2:4,i=r!==this.pX,s=Math.abs(t.deltaX)):(n=0===o?1:o<0?8:Lt,i=o!==this.pY,s=Math.abs(t.deltaY))),t.direction=n,i&&s>e.threshold&&n&e.direction},i.attrTest=function(t){return we.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=be(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}(we),ke=function(t){function e(e){return void 0===e&&(e={}),t.call(this,ft({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},e))||this}pt(e,t);var i=e.prototype;return i.getTouchAction=function(){return Me.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,s=this.options.direction;return 30&s?i=e.overallVelocity:6&s?i=e.overallVelocityX:s&Yt&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&s&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&yt(i)>this.options.velocity&&4&e.eventType},i.emit=function(t){var e=be(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(we),Re=function(t){function e(e){return void 0===e&&(e={}),t.call(this,ft({event:"pinch",threshold:0,pointers:2},e))||this}pt(e,t);var i=e.prototype;return i.getTouchAction=function(){return[_t]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},i.emit=function(e){if(1!==e.scale){var i=e.scale<1?"in":"out";e.additionalEvent=this.options.event+i}t.prototype.emit.call(this,e)},e}(we),Ge=function(t){function e(e){return void 0===e&&(e={}),t.call(this,ft({event:"rotate",threshold:0,pointers:2},e))||this}pt(e,t);var i=e.prototype;return i.getTouchAction=function(){return[_t]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(we),xe=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,ft({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,i._input=null,i}pt(e,t);var i=e.prototype;return i.getTouchAction=function(){return[It]},i.process=function(t){var e=this,i=this.options,s=t.pointers.length===i.pointers,n=t.distance<i.threshold,r=t.deltaTime>i.time;if(this._input=t,!n||!s||12&t.eventType&&!r)this.reset();else if(1&t.eventType)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),i.time);else if(4&t.eventType)return 8;return Se},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Pt(),this.manager.emit(this.options.event,this._input)))},e}(De),He={domEvents:!1,touchAction:Nt,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Le=[[Ge,{enable:!1}],[Re,{enable:!1},["rotate"]],[ke,{direction:6}],[Me,{direction:6},["swipe"]],[_e],[_e,{event:"doubletap",taps:2},["tap"]],[xe]];function Ye(t,e){var i,s=t.element;s.style&&(Ut(t.options.cssProps,(function(n,r){i=At(s.style,r),e?(t.oldCssProps[i]=s.style[i],s.style[i]=n):s.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}var Xe=function(){function t(t,e){var i,s=this;this.options=Et({},He,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(Rt?ce:Gt?ve:kt?Pe:me))(i,te),this.touchAction=new Wt(this,this.options.touchAction),Ye(this,!0),Ut(this.options.recognizers,(function(t){var e=s.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return Et(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var s=this.recognizers,n=e.curRecognizer;(!n||n&&8&n.state)&&(e.curRecognizer=null,n=null);for(var r=0;r<s.length;)i=s[r],2===e.stopped||n&&i!==n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&14&i.state&&(e.curRecognizer=i,n=i),r++}},e.get=function(t){if(t instanceof De)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(Ae(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(Ae(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,s=oe(i,e);-1!==s&&(i.splice(s,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return Ut(ee(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return Ut(ee(t),(function(t){e?i[t]&&i[t].splice(oe(i[t],e),1):delete i[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<i.length;)i[s](e),s++}},e.destroy=function(){this.element&&Ye(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Fe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Ue=function(t){function e(){var i,s=e.prototype;return s.evTarget="touchstart",s.evWin="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).started=!1,i}return pt(e,t),e.prototype.handler=function(t){var e=Fe[t.type];if(1===e&&(this.started=!0),this.started){var i=Ve.call(this,t,e);12&e&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:xt,srcEvent:t})}},e}(re);function Ve(t,e){var i=de(t.touches),s=de(t.changedTouches);return 12&e&&(i=fe(i.concat(s),"identifier",!0)),[i,s]}function Be(t,e,i){var s="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",n=window.console&&(window.console.warn||window.console.log);return n&&n.call(window.console,s,i),t.apply(this,arguments)}}var We=Be((function(t,e,i){for(var s=Object.keys(e),n=0;n<s.length;)(!i||i&&void 0===t[s[n]])&&(t[s[n]]=e[s[n]]),n++;return t}),"extend","Use `assign`."),qe=Be((function(t,e){return We(t,e,!0)}),"merge","Use `assign`.");function ze(t,e,i){var s,n=e.prototype;(s=t.prototype=Object.create(n)).constructor=t,s._super=n,i&&Et(s,i)}function Ke(t,e){return function(){return t.apply(e,arguments)}}var je=function(){var t=function(t,e){return void 0===e&&(e={}),new Xe(t,ft({recognizers:Le.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=Lt,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=Yt,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=Lt,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=Se,t.Manager=Xe,t.Input=re,t.TouchAction=Wt,t.TouchInput=ve,t.MouseInput=me,t.PointerEventInput=ce,t.TouchMouseInput=Pe,t.SingleTouchInput=Ue,t.Recognizer=De,t.AttrRecognizer=we,t.Tap=_e,t.Pan=Me,t.Swipe=ke,t.Pinch=Re,t.Rotate=Ge,t.Press=xe,t.on=ie,t.off=se,t.each=Ut,t.merge=qe,t.extend=We,t.bindFn=Ke,t.assign=Et,t.inherit=ze,t.bindFn=Ke,t.prefixed=At,t.toArray=de,t.inArray=oe,t.uniqueArray=fe,t.splitStr=ee,t.boolOrFn=Vt,t.hasParent=qt,t.addEventListeners=ie,t.removeEventListeners=se,t.defaults=Et({},He,{preset:Le}),t}();je.defaults;const $e=je;var Je=i(85585);const Ze=Math.PI/180,Qe={[$e.INPUT_START]:n.BEGAN,[$e.INPUT_MOVE]:n.ACTIVE,[$e.INPUT_END]:n.END,[$e.INPUT_CANCEL]:n.FAILED},ti=1,ei=2,ii=4,si=8,ni=($e.DIRECTION_RIGHT,$e.DIRECTION_LEFT,$e.DIRECTION_UP,$e.DIRECTION_DOWN,$e.INPUT_START,$e.INPUT_MOVE,$e.INPUT_END,$e.INPUT_CANCEL,$e.DIRECTION_HORIZONTAL,$e.DIRECTION_UP,$e.DIRECTION_DOWN,$e.DIRECTION_VERTICAL,$e.DIRECTION_NONE,$e.DIRECTION_ALL,$e.DIRECTION_RIGHT,$e.DIRECTION_LEFT,{});function ri(t){if(t in ni)return ni[t];throw new Error(`No handler for tag ${t}`)}const oi="function"==typeof setImmediate?setImmediate.bind(null):"function"==typeof requestAnimationFrame?requestAnimationFrame.bind(null):queueMicrotask.bind(null);let ai=0;function hi(t,e){if(t)if("function"==typeof t)t(e);else if("__getHandler"in t&&"function"==typeof t.__getHandler){hi(t.__getHandler(),e)}else if("__nodeConfig"in t){const{argMapping:i}=t.__nodeConfig;if(Array.isArray(i))for(const[s,[n,r]]of i.entries())if(n in e.nativeEvent){const i=e.nativeEvent[n];r&&r.setValue?r.setValue(i):t.__nodeConfig.argMapping[s]=[n,i]}}}function li(t){return null==t?[]:Array.isArray(t)?t:[t]}const ui=class{isGestureRunning=!1;view=null;hasGestureFailed=!1;hammer=null;initialRotation=null;config={};previousState=n.UNDETERMINED;pendingGestures={};oldState=n.UNDETERMINED;lastSentState=null;get id(){return`${this.name}${this.gestureInstance}`}get isNative(){return!1}get isDiscrete(){return!1}get shouldEnableGestureOnSetup(){throw new Error("Must override GestureHandler.shouldEnableGestureOnSetup")}constructor(){this.gestureInstance=ai++,this.hasCustomActivationCriteria=!1}getConfig(){return this.config}onWaitingEnded(t){}removePendingGesture(t){delete this.pendingGestures[t]}addPendingGesture(t){this.pendingGestures[t.id]=t}isGestureEnabledForEvent(t,e,i){return{success:!0}}get NativeGestureClass(){throw new Error("Must override GestureHandler.NativeGestureClass")}updateHasCustomActivationCriteria(t){return!0}clearSelfAsPending=()=>{if(Array.isArray(this.config.waitFor))for(const t of this.config.waitFor)t.removePendingGesture(this.id)};updateGestureConfig({enabled:t=!0,...e}){if(this.clearSelfAsPending(),this.config=this.ensureConfig({enabled:t,...e}),this.hasCustomActivationCriteria=this.updateHasCustomActivationCriteria(this.config),Array.isArray(this.config.waitFor))for(const i of this.config.waitFor)i.addPendingGesture(this);return this.hammer&&this.sync(),this.config}destroy=()=>{this.clearSelfAsPending(),this.hammer&&(this.hammer.stop(!1),this.hammer.destroy()),this.hammer=null};isPointInView=({x:t,y:e})=>{const i=this.view.getBoundingClientRect();return t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom};getState(t){return 0==t?0:Qe[t]}transformEventData(t){const{eventType:e,maxPointers:i}=t,s=t.changedPointers[0],n=this.isPointInView({x:s.clientX,y:s.clientY}),r=this.getState(e);return r!==this.previousState&&(this.oldState=this.previousState,this.previousState=r),{nativeEvent:{numberOfPointers:i,state:r,pointerInside:n,...this.transformNativeEvent(t),handlerTag:this.handlerTag,target:this.ref,oldState:r!==this.previousState||4!=r?this.oldState:void 0},timeStamp:Date.now()}}transformNativeEvent(t){return{}}sendEvent=t=>{const{onGestureHandlerEvent:e,onGestureHandlerStateChange:i}=this.propsRef.current,s=this.transformEventData(t);hi(e,s),this.lastSentState!==s.nativeEvent.state&&(this.lastSentState=s.nativeEvent.state,hi(i,s))};cancelPendingGestures(t){for(const e of Object.values(this.pendingGestures))e&&e.isGestureRunning&&(e.hasGestureFailed=!0,e.cancelEvent(t))}notifyPendingGestures(){for(const t of Object.values(this.pendingGestures))t&&t.onWaitingEnded(this)}onGestureEnded(t){this.isGestureRunning=!1,this.cancelPendingGestures(t)}forceInvalidate(t){this.isGestureRunning&&(this.hasGestureFailed=!0,this.cancelEvent(t))}cancelEvent(t){this.notifyPendingGestures(),this.sendEvent({...t,eventType:$e.INPUT_CANCEL,isFinal:!0}),this.onGestureEnded(t)}onRawEvent({isFirst:t}){t&&(this.hasGestureFailed=!1)}shouldUseTouchEvents(t){return t.simultaneousHandlers?.some((t=>t.isNative))??!1}setView(t,e){if(null==t)return this.destroy(),void(this.view=null);const i="ontouchstart"in window;this.propsRef=e,this.ref=t,this.view=(0,Je.A)(t),this.hammer=i&&this.shouldUseTouchEvents(this.config)?new $e.Manager(this.view,{inputClass:$e.TouchInput}):new $e.Manager(this.view),this.oldState=n.UNDETERMINED,this.previousState=n.UNDETERMINED,this.lastSentState=null;const{NativeGestureClass:s}=this,r=new s(this.getHammerConfig());this.hammer.add(r),this.hammer.on("hammer.input",(t=>{if(!this.config.enabled)return this.hasGestureFailed=!1,void(this.isGestureRunning=!1);this.onRawEvent(t),null===this.initialRotation&&0!==t.rotation&&(this.initialRotation=t.rotation),t.isFinal&&setTimeout((()=>{this.initialRotation=null,this.hasGestureFailed=!1}))})),this.setupEvents(),this.sync()}setupEvents(){this.isDiscrete||(this.hammer.on(`${this.name}start`,(t=>this.onStart(t))),this.hammer.on(`${this.name}end ${this.name}cancel`,(t=>{this.onGestureEnded(t)}))),this.hammer.on(this.name,(t=>this.onGestureActivated(t)))}onStart({deltaX:t,deltaY:e,rotation:i}){this.oldState=n.UNDETERMINED,this.previousState=n.UNDETERMINED,this.lastSentState=null,this.isGestureRunning=!0,this.__initialX=t,this.__initialY=e,this.initialRotation=i}onGestureActivated(t){this.sendEvent(t)}onSuccess(){}_getPendingGestures(){if(Array.isArray(this.config.waitFor)&&this.config.waitFor.length){return this.config.waitFor.filter((({hasGestureFailed:t})=>!1===t))}return[]}getHammerConfig(){return{pointers:this.config.minPointers===this.config.maxPointers?this.config.minPointers:0}}sync=()=>{const t=this.hammer.get(this.name);if(!t)return;const e=this.getHammerConfig();t.set({...e,enable:(t,e)=>{if(!this.config.enabled)return this.isGestureRunning=!1,this.hasGestureFailed=!1,!1;if(!e||!t.options||void 0===e.maxPointers)return this.shouldEnableGestureOnSetup;if(this.hasGestureFailed)return!1;if(!this.isDiscrete){if(this.isGestureRunning)return!0;if(this._stillWaiting=this._getPendingGestures(),this._stillWaiting.length){for(const t of this._stillWaiting)if(!t.isDiscrete&&t.isGestureRunning)return this.hasGestureFailed=!0,this.isGestureRunning=!1,!1;return!1}}if(!this.hasCustomActivationCriteria)return!0;const i=null==this.initialRotation?0:e.rotation-this.initialRotation,{success:s,failed:n}=this.isGestureEnabledForEvent(this.getConfig(),t,{...e,deltaRotation:i});return n&&(this.simulateCancelEvent(e),this.hasGestureFailed=!0),s}})};simulateCancelEvent(t){}ensureConfig(t){const e={...t};if("minDist"in t&&(e.minDist=t.minDist,e.minDistSq=e.minDist*e.minDist),"minVelocity"in t&&(e.minVelocity=t.minVelocity,e.minVelocitySq=e.minVelocity*e.minVelocity),"maxDist"in t&&(e.maxDist=t.maxDist,e.maxDistSq=t.maxDist*t.maxDist),e.waitFor="waitFor"in t?li(t.waitFor).map((({handlerTag:t})=>ri(t))).filter((t=>t)):null,"simultaneousHandlers"in t){const i=this.shouldUseTouchEvents(this.config);e.simultaneousHandlers=li(t.simultaneousHandlers).map((t=>ri("number"==typeof t?t:t.handlerTag))).filter((t=>t)),i!==this.shouldUseTouchEvents(e)&&oi((()=>{this.destroy(),this.setView(this.ref,this.propsRef)}))}else e.simultaneousHandlers=null;return["minPointers","maxPointers","minDist","maxDist","maxDistSq","minVelocitySq","minDistSq","minVelocity","failOffsetXStart","failOffsetYStart","failOffsetXEnd","failOffsetYEnd","activeOffsetXStart","activeOffsetXEnd","activeOffsetYStart","activeOffsetYEnd"].forEach((t=>{void 0===e[t]&&(e[t]=Number.NaN)})),e}},ci=t=>Number.isNaN(t),di=t=>"number"==typeof t&&!Number.isNaN(t),fi=(t,e)=>!ci(e)&&(e<0&&t<=e||e>=0&&t>=e),pi=({x:t=0,y:e=0}={})=>t*t+e*e,vi=(t,e)=>!ci(e)&&(e<0&&t<e||e>=0&&t>e);function gi(t,e){return e?setTimeout((()=>t()),e):(t(),null)}const Ei=class extends ui{get isDiscrete(){return!0}get shouldEnableGestureOnSetup(){return!0}shouldFailUnderCustomCriteria({x:t,y:e,deltaX:i,deltaY:s},{maxDeltaX:n,maxDeltaY:r,maxDistSq:o,shouldCancelWhenOutside:a}){return!(!a||this.isPointInView({x:t,y:e}))||(vi(Math.abs(i),n)||vi(Math.abs(s),r)||vi(Math.abs(s*s+i*i),o))}transformNativeEvent({center:{x:t,y:e}}){const i=this.view.getBoundingClientRect();return{absoluteX:t,absoluteY:e,x:t-i.left,y:e-i.top}}isGestureEnabledForEvent({minPointers:t,maxPointers:e,maxDeltaX:i,maxDeltaY:s,maxDistSq:n,shouldCancelWhenOutside:r},o,{maxPointers:a,center:h,deltaX:l,deltaY:u}){const c=a>=t&&a<=e;return this.shouldFailUnderCustomCriteria({...h,deltaX:l,deltaY:u},{maxDeltaX:i,maxDeltaY:s,maxDistSq:n,shouldCancelWhenOutside:r})||!c&&this.isGestureRunning?{failed:!0}:{success:c}}};const mi=class extends Ei{initialEvent=null;get name(){return"press"}get minDurationMs(){return ci(this.config.minDurationMs)?5:this.config.minDurationMs}get maxDist(){return ci(this.config.maxDist)?9:this.config.maxDist}get NativeGestureClass(){return $e.Press}shouldDelayTouches=!0;simulateCancelEvent(t){this.hasGestureFailed=!0,this.cancelEvent(t)}updateHasCustomActivationCriteria({shouldCancelWhenOutside:t,maxDistSq:e}){return t||!di(e)}getState(t){return{[$e.INPUT_START]:n.BEGAN,[$e.INPUT_MOVE]:n.ACTIVE,[$e.INPUT_END]:n.END,[$e.INPUT_CANCEL]:n.CANCELLED}[t]}getConfig(){return this.hasCustomActivationCriteria?this.config:{shouldCancelWhenOutside:!0,maxDistSq:10}}getHammerConfig(){return{...super.getHammerConfig(),time:this.minDurationMs}}onGestureActivated(t){this.onGestureStart(t)}shouldDelayTouchForEvent({pointerType:t}){return this.shouldDelayTouches&&"touch"===t}onGestureStart(t){this.isGestureRunning=!0,clearTimeout(this.visualFeedbackTimer),this.initialEvent=t,this.visualFeedbackTimer=gi((()=>{this.sendGestureStartedEvent(this.initialEvent),this.initialEvent=null}),this.shouldDelayTouchForEvent(t)&&240)}sendGestureStartedEvent(t){clearTimeout(this.visualFeedbackTimer),this.visualFeedbackTimer=null,this.sendEvent({...t,eventType:$e.INPUT_MOVE,isFirst:!0})}forceInvalidate(t){super.forceInvalidate(t),clearTimeout(this.visualFeedbackTimer),this.visualFeedbackTimer=null,this.initialEvent=null}onRawEvent(t){if(super.onRawEvent(t),this.isGestureRunning)if(t.isFinal){let e;this.visualFeedbackTimer&&(e=50,this.sendGestureStartedEvent(this.initialEvent),this.initialEvent=null),gi((()=>{this.sendEvent({...t,eventType:$e.INPUT_END,isFinal:!0}),this.onGestureEnded()}),e)}else this.sendEvent({...t,eventType:$e.INPUT_MOVE,isFinal:!1})}updateGestureConfig({shouldActivateOnStart:t=!1,disallowInterruption:e=!1,shouldCancelWhenOutside:i=!0,minDurationMs:s=Number.NaN,maxDist:n=Number.NaN,minPointers:r=1,maxPointers:o=1,...a}){return super.updateGestureConfig({shouldActivateOnStart:t,disallowInterruption:e,shouldCancelWhenOutside:i,minDurationMs:s,maxDist:n,minPointers:r,maxPointers:o,...a})}};const Ti=class extends mi{get isNative(){return!0}onRawEvent(t){if(super.onRawEvent(t),!t.isFinal&&fi(pi({x:t.deltaX,y:t.deltaY}),10)&&this.config.disallowInterruption){const e=Object.values({...ni}).filter((t=>{const{handlerTag:e,view:i,isGestureRunning:s}=t;return e!==this.handlerTag&&s&&t instanceof Ei&&i&&this.view.contains(i)}));for(const i of e)i.forceInvalidate(t)}}};var Ci=i(77835);const yi=class extends ui{get shouldEnableGestureOnSetup(){return!0}transformNativeEvent({deltaX:t,deltaY:e,velocityX:i,velocityY:s,center:{x:n,y:r}}){const o=this.view.getBoundingClientRect(),a=Ci.A.get();return{translationX:t-(this.__initialX||0),translationY:e-(this.__initialY||0),absoluteX:n,absoluteY:r,velocityX:i*a,velocityY:s*a,x:n-o.left,y:r-o.top}}};const Pi=class extends yi{get name(){return"pan"}get NativeGestureClass(){return $e.Pan}getHammerConfig(){return{...super.getHammerConfig(),direction:this.getDirection()}}getState(t){const e=super.getState(t);return this.previousState===n.UNDETERMINED&&e===n.ACTIVE?n.BEGAN:e}getDirection(){const t=this.getConfig(),{activeOffsetXStart:e,activeOffsetXEnd:i,activeOffsetYStart:s,activeOffsetYEnd:n,minDist:r}=t;let o=[],a=[];if(!ci(r))return $e.DIRECTION_ALL;ci(e)||a.push($e.DIRECTION_LEFT),ci(i)||a.push($e.DIRECTION_RIGHT),2===a.length&&(a=[$e.DIRECTION_HORIZONTAL]),o=o.concat(a);let h=[];return ci(s)||h.push($e.DIRECTION_UP),ci(n)||h.push($e.DIRECTION_DOWN),2===h.length&&(h=[$e.DIRECTION_VERTICAL]),o=o.concat(h),o.length?o[0]===$e.DIRECTION_HORIZONTAL&&o[1]===$e.DIRECTION_VERTICAL||a.length&&h.length?$e.DIRECTION_ALL:o[0]:$e.DIRECTION_NONE}getConfig(){return this.hasCustomActivationCriteria?this.config:{minDistSq:10}}shouldFailUnderCustomCriteria({deltaX:t,deltaY:e},i){return!ci(i.failOffsetXStart)&&t<i.failOffsetXStart||!ci(i.failOffsetXEnd)&&t>i.failOffsetXEnd||!ci(i.failOffsetYStart)&&e<i.failOffsetYStart||!ci(i.failOffsetYEnd)&&e>i.failOffsetYEnd}shouldActivateUnderCustomCriteria({deltaX:t,deltaY:e,velocity:i},s){return!ci(s.activeOffsetXStart)&&t<s.activeOffsetXStart||!ci(s.activeOffsetXEnd)&&t>s.activeOffsetXEnd||!ci(s.activeOffsetYStart)&&e<s.activeOffsetYStart||!ci(s.activeOffsetYEnd)&&e>s.activeOffsetYEnd||fi(pi({x:t,y:e}),s.minDistSq)||fi(i.x,s.minVelocityX)||fi(i.y,s.minVelocityY)||fi(pi(i),s.minVelocitySq)}shouldMultiFingerPanFail({pointerLength:t,scale:e,deltaRotation:i}){if(t<=1)return!1;const s=Math.abs(e-1),n=Math.abs(i);return s>.1||n>7}updateHasCustomActivationCriteria(t){return di(t.minDistSq)||di(t.minVelocityX)||di(t.minVelocityY)||di(t.minVelocitySq)||di(t.activeOffsetXStart)||di(t.activeOffsetXEnd)||di(t.activeOffsetYStart)||di(t.activeOffsetYEnd)}isGestureEnabledForEvent(t,e,i){if(this.shouldFailUnderCustomCriteria(i,t))return{failed:!0};const s={x:i.velocityX,y:i.velocityY};return this.hasCustomActivationCriteria&&this.shouldActivateUnderCustomCriteria({deltaX:i.deltaX,deltaY:i.deltaY,velocity:s},t)?this.shouldMultiFingerPanFail({pointerLength:i.maxPointers,scale:i.scale,deltaRotation:i.deltaRotation})?{failed:!0}:{success:!0}:{success:!1}}};const Ai=class extends Ei{_shouldFireEndEvent=null;get name(){return"tap"}get NativeGestureClass(){return $e.Tap}get maxDelayMs(){return ci(this.config.maxDelayMs)?300:this.config.maxDelayMs}simulateCancelEvent(t){this.isGestureRunning&&this.cancelEvent(t)}onGestureActivated(t){this.isGestureRunning&&this.onSuccessfulTap(t)}onSuccessfulTap=t=>{this._getPendingGestures().length?this._shouldFireEndEvent=t:(t.eventType===$e.INPUT_END&&this.sendEvent({...t,eventType:$e.INPUT_MOVE}),this.sendEvent({...t,isFinal:!0}),this.onGestureEnded(t))};onRawEvent(t){if(super.onRawEvent(t),!this.hasGestureFailed&&!this.isGestureRunning&&!t.isFinal){const e=this.hammer.get(this.name);e.options.enable(e,t)&&(clearTimeout(this._multiTapTimer),this.onStart(t),this.sendEvent(t))}if(t.isFinal&&t.maxPointers>1&&setTimeout((()=>{this.isGestureRunning&&this.cancelEvent(t)})),!this.hasGestureFailed)if(t.isFinal)t.maxPointers>1&&setTimeout((()=>{this.isGestureRunning&&this.cancelEvent(t)})),clearTimeout(this._timer),this._timer=setTimeout((()=>{this.hasGestureFailed=!0,this.cancelEvent(t)}),this.maxDelayMs);else if(!this.hasGestureFailed&&!this.isGestureRunning){const e=this.hammer.get(this.name);e.options.enable(e,t)&&(clearTimeout(this._multiTapTimer),this.onStart(t),this.sendEvent(t))}}getHammerConfig(){return{...super.getHammerConfig(),event:this.name,taps:ci(this.config.numberOfTaps)?1:this.config.numberOfTaps,interval:this.maxDelayMs,time:ci(this.config.maxDurationMs)||null==this.config.maxDurationMs?250:this.config.maxDurationMs}}updateGestureConfig({shouldCancelWhenOutside:t=!0,maxDeltaX:e=Number.NaN,maxDeltaY:i=Number.NaN,numberOfTaps:s=1,minDurationMs:n=525,maxDelayMs:r=Number.NaN,maxDurationMs:o=Number.NaN,maxDist:a=2,minPointers:h=1,maxPointers:l=1,...u}){return super.updateGestureConfig({shouldCancelWhenOutside:t,numberOfTaps:s,maxDeltaX:e,maxDeltaY:i,minDurationMs:n,maxDelayMs:r,maxDist:a,minPointers:h,maxPointers:l,...u})}onGestureEnded(...t){clearTimeout(this._timer),super.onGestureEnded(...t)}onWaitingEnded(t){this._shouldFireEndEvent&&(this.onSuccessfulTap(this._shouldFireEndEvent),this._shouldFireEndEvent=null)}};const Si=class extends mi{get minDurationMs(){return ci(this.config.minDurationMs)?251:this.config.minDurationMs}get maxDist(){return ci(this.config.maxDist)?9:this.config.maxDist}updateHasCustomActivationCriteria({maxDistSq:t}){return!di(t)}getConfig(){return this.hasCustomActivationCriteria?this.config:{shouldCancelWhenOutside:!0,maxDistSq:10}}getHammerConfig(){return{...super.getHammerConfig(),time:this.minDurationMs}}getState(t){return{[$e.INPUT_START]:n.ACTIVE,[$e.INPUT_MOVE]:n.ACTIVE,[$e.INPUT_END]:n.END,[$e.INPUT_CANCEL]:n.FAILED}[t]}};const Oi=class extends ui{get shouldEnableGestureOnSetup(){return!1}updateGestureConfig({minPointers:t=2,maxPointers:e=2,...i}){return super.updateGestureConfig({minPointers:t,maxPointers:e,...i})}isGestureEnabledForEvent({minPointers:t,maxPointers:e},i,{maxPointers:s}){if(s>e)return{failed:!0};return{success:s>=t}}};const Ni=class extends Oi{get name(){return"pinch"}get NativeGestureClass(){return $e.Pinch}transformNativeEvent({scale:t,velocity:e,center:i}){return{focalX:i.x,focalY:i.y,velocity:e,scale:t}}};const Ii=class extends Oi{get name(){return"rotate"}get NativeGestureClass(){return $e.Rotate}transformNativeEvent({rotation:t,velocity:e,center:i}){return{rotation:(t-(this.initialRotation??0))*Ze,anchorX:i.x,anchorY:i.y,velocity:e}}};class Di extends Error{constructor(t,e,i){super(`Invalid property \`${t}: ${e}\` expected \`${i}\``)}}const _i=class extends yi{get name(){return"swipe"}get NativeGestureClass(){return $e.Swipe}onGestureActivated(t){this.sendEvent({...t,eventType:$e.INPUT_MOVE,isFinal:!1,isFirst:!0}),this.isGestureRunning=!1,this.hasGestureFailed=!1,this.sendEvent({...t,eventType:$e.INPUT_END,isFinal:!0})}onRawEvent(t){if(super.onRawEvent(t),!this.hasGestureFailed)if(t.isFinal)setTimeout((()=>{this.isGestureRunning&&this.cancelEvent(t)}));else if(!this.hasGestureFailed&&!this.isGestureRunning){const e=this.hammer.get(this.name);e.options.enable(e,t)&&(this.onStart(t),this.sendEvent(t))}}getHammerConfig(){return{pointers:this.config.numberOfPointers,direction:this.getDirection()}}getTargetDirections(t){const e=[];return t&ti&&e.push($e.DIRECTION_RIGHT),t&ei&&e.push($e.DIRECTION_LEFT),t&ii&&e.push($e.DIRECTION_UP),t&si&&e.push($e.DIRECTION_DOWN),e}getDirection(){const{direction:t}=this.getConfig();let e=[];return t&ti&&e.push($e.DIRECTION_HORIZONTAL),t&ei&&e.push($e.DIRECTION_HORIZONTAL),t&ii&&e.push($e.DIRECTION_VERTICAL),t&si&&e.push($e.DIRECTION_VERTICAL),e=[...new Set(e)],0===e.length?$e.DIRECTION_NONE:1===e.length?e[0]:$e.DIRECTION_ALL}isGestureEnabledForEvent({numberOfPointers:t},e,{maxPointers:i}){const s=i===t;return!s&&this.isGestureRunning?{failed:!0}:{success:s}}updateGestureConfig({numberOfPointers:t=1,direction:e,...i}){if(ci(e)||"number"!=typeof e)throw new Di("direction",e,"number");return super.updateGestureConfig({numberOfPointers:t,direction:e,...i})}},wi={NativeViewGestureHandler:dt,PanGestureHandler:class extends K{customActivationProperties=["activeOffsetXStart","activeOffsetXEnd","failOffsetXStart","failOffsetXEnd","activeOffsetYStart","activeOffsetYEnd","failOffsetYStart","failOffsetYEnd","minVelocityX","minVelocityY","minVelocity"];velocityX=0;velocityY=0;minDistSq=225;activeOffsetXStart=-Number.MAX_SAFE_INTEGER;activeOffsetXEnd=Number.MIN_SAFE_INTEGER;failOffsetXStart=Number.MIN_SAFE_INTEGER;failOffsetXEnd=Number.MAX_SAFE_INTEGER;activeOffsetYStart=Number.MAX_SAFE_INTEGER;activeOffsetYEnd=Number.MIN_SAFE_INTEGER;failOffsetYStart=Number.MIN_SAFE_INTEGER;failOffsetYEnd=Number.MAX_SAFE_INTEGER;minVelocityX=Number.MAX_SAFE_INTEGER;minVelocityY=Number.MAX_SAFE_INTEGER;minVelocitySq=Number.MAX_SAFE_INTEGER;minPointers=1;maxPointers=10;startX=0;startY=0;offsetX=0;offsetY=0;lastX=0;lastY=0;activateAfterLongPress=0;activationTimeout=0;enableTrackpadTwoFingerGesture=!1;endWheelTimeout=0;wheelDevice=k.UNDETERMINED;updateGestureConfig({enabled:t=!0,...e}){this.resetConfig(),super.updateGestureConfig({enabled:t,...e}),this.checkCustomActivationCriteria(this.customActivationProperties),void 0!==this.config.minDist?this.minDistSq=this.config.minDist*this.config.minDist:this.hasCustomActivationCriteria&&(this.minDistSq=Number.MAX_SAFE_INTEGER),void 0!==this.config.minPointers&&(this.minPointers=this.config.minPointers),void 0!==this.config.maxPointers&&(this.maxPointers=this.config.maxPointers),void 0!==this.config.minVelocity&&(this.minVelocityX=this.config.minVelocity,this.minVelocityY=this.config.minVelocity),void 0!==this.config.minVelocityX&&(this.minVelocityX=this.config.minVelocityX),void 0!==this.config.minVelocityY&&(this.minVelocityY=this.config.minVelocityY),void 0!==this.config.activateAfterLongPress&&(this.activateAfterLongPress=this.config.activateAfterLongPress),void 0!==this.config.activeOffsetXStart&&(this.activeOffsetXStart=this.config.activeOffsetXStart,void 0===this.config.activeOffsetXEnd&&(this.activeOffsetXEnd=Number.MAX_SAFE_INTEGER)),void 0!==this.config.activeOffsetXEnd&&(this.activeOffsetXEnd=this.config.activeOffsetXEnd,void 0===this.config.activeOffsetXStart&&(this.activeOffsetXStart=Number.MIN_SAFE_INTEGER)),void 0!==this.config.failOffsetXStart&&(this.failOffsetXStart=this.config.failOffsetXStart,void 0===this.config.failOffsetXEnd&&(this.failOffsetXEnd=Number.MAX_SAFE_INTEGER)),void 0!==this.config.failOffsetXEnd&&(this.failOffsetXEnd=this.config.failOffsetXEnd,void 0===this.config.failOffsetXStart&&(this.failOffsetXStart=Number.MIN_SAFE_INTEGER)),void 0!==this.config.activeOffsetYStart&&(this.activeOffsetYStart=this.config.activeOffsetYStart,void 0===this.config.activeOffsetYEnd&&(this.activeOffsetYEnd=Number.MAX_SAFE_INTEGER)),void 0!==this.config.activeOffsetYEnd&&(this.activeOffsetYEnd=this.config.activeOffsetYEnd,void 0===this.config.activeOffsetYStart&&(this.activeOffsetYStart=Number.MIN_SAFE_INTEGER)),void 0!==this.config.failOffsetYStart&&(this.failOffsetYStart=this.config.failOffsetYStart,void 0===this.config.failOffsetYEnd&&(this.failOffsetYEnd=Number.MAX_SAFE_INTEGER)),void 0!==this.config.failOffsetYEnd&&(this.failOffsetYEnd=this.config.failOffsetYEnd,void 0===this.config.failOffsetYStart&&(this.failOffsetYStart=Number.MIN_SAFE_INTEGER)),void 0!==this.config.enableTrackpadTwoFingerGesture&&(this.enableTrackpadTwoFingerGesture=this.config.enableTrackpadTwoFingerGesture)}resetConfig(){super.resetConfig(),this.activeOffsetXStart=-Number.MAX_SAFE_INTEGER,this.activeOffsetXEnd=Number.MIN_SAFE_INTEGER,this.failOffsetXStart=Number.MIN_SAFE_INTEGER,this.failOffsetXEnd=Number.MAX_SAFE_INTEGER,this.activeOffsetYStart=Number.MAX_SAFE_INTEGER,this.activeOffsetYEnd=Number.MIN_SAFE_INTEGER,this.failOffsetYStart=Number.MIN_SAFE_INTEGER,this.failOffsetYEnd=Number.MAX_SAFE_INTEGER,this.minVelocityX=Number.MAX_SAFE_INTEGER,this.minVelocityY=Number.MAX_SAFE_INTEGER,this.minVelocitySq=Number.MAX_SAFE_INTEGER,this.minDistSq=225,this.minPointers=1,this.maxPointers=10,this.activateAfterLongPress=0}transformNativeEvent(){const t=this.getTranslationX(),e=this.getTranslationY();return{...super.transformNativeEvent(),translationX:isNaN(t)?0:t,translationY:isNaN(e)?0:e,velocityX:this.velocityX,velocityY:this.velocityY,stylusData:this.stylusData}}getTranslationX(){return this.lastX-this.startX+this.offsetX}getTranslationY(){return this.lastY-this.startY+this.offsetY}clearActivationTimeout(){clearTimeout(this.activationTimeout)}updateLastCoords(){const{x:t,y:e}=this.tracker.getAbsoluteCoordsAverage();this.lastX=t,this.lastY=e}updateVelocity(t){const e=this.tracker.getVelocity(t);this.velocityX=e?.x??0,this.velocityY=e?.y??0}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),this.stylusData=t.stylusData,super.onPointerDown(t),this.updateLastCoords(),this.startX=this.lastX,this.startY=this.lastY,this.tryBegin(t),this.checkBegan(),this.tryToSendTouchEvent(t))}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(t),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY-this.startY,this.updateLastCoords(),this.startX=this.lastX,this.startY=this.lastY,this.tracker.trackedPointersCount>this.maxPointers?this.state===n.ACTIVE?this.cancel():this.fail():this.checkBegan()}onPointerUp(t){if(this.stylusData=t.stylusData,super.onPointerUp(t),this.state===n.ACTIVE){const t=this.tracker.getAbsoluteCoordsAverage();this.lastX=t.x,this.lastY=t.y}this.tracker.removeFromTracker(t.pointerId),0===this.tracker.trackedPointersCount&&this.clearActivationTimeout(),this.state===n.ACTIVE?this.end():(this.resetProgress(),this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY-this.startY,this.updateLastCoords(),this.startX=this.lastX,this.startY=this.lastY,this.state===n.ACTIVE&&this.tracker.trackedPointersCount<this.minPointers||this.checkBegan()}onPointerMove(t){this.tracker.track(t),this.stylusData=t.stylusData,this.updateLastCoords(),this.updateVelocity(t.pointerId),this.checkBegan(),super.onPointerMove(t)}onPointerOutOfBounds(t){this.shouldCancelWhenOutside||(this.tracker.track(t),this.stylusData=t.stylusData,this.updateLastCoords(),this.updateVelocity(t.pointerId),this.checkBegan(),this.state===n.ACTIVE&&super.onPointerOutOfBounds(t))}scheduleWheelEnd(t){clearTimeout(this.endWheelTimeout),this.endWheelTimeout=setTimeout((()=>{this.state===n.ACTIVE&&(this.end(),this.tracker.removeFromTracker(t.pointerId),this.state=n.UNDETERMINED),this.wheelDevice=k.UNDETERMINED}),30)}onWheel(t){if(this.wheelDevice!==k.MOUSE&&this.enableTrackpadTwoFingerGesture){if(this.state===n.UNDETERMINED){if(this.wheelDevice=t.wheelDeltaY%120!=0?k.TOUCHPAD:k.MOUSE,this.wheelDevice===k.MOUSE)return void this.scheduleWheelEnd(t);this.tracker.addToTracker(t),this.updateLastCoords(),this.startX=this.lastX,this.startY=this.lastY,this.begin(),this.activate()}this.tracker.track(t),this.updateLastCoords(),this.updateVelocity(t.pointerId),this.tryToSendMoveEvent(!1,t),this.scheduleWheelEnd(t)}}shouldActivate(){const t=this.getTranslationX();if(this.activeOffsetXStart!==Number.MAX_SAFE_INTEGER&&t<this.activeOffsetXStart)return!0;if(this.activeOffsetXEnd!==Number.MIN_SAFE_INTEGER&&t>this.activeOffsetXEnd)return!0;const e=this.getTranslationY();if(this.activeOffsetYStart!==Number.MAX_SAFE_INTEGER&&e<this.activeOffsetYStart)return!0;if(this.activeOffsetYEnd!==Number.MIN_SAFE_INTEGER&&e>this.activeOffsetYEnd)return!0;const i=t*t+e*e;if(this.minDistSq!==Number.MAX_SAFE_INTEGER&&i>=this.minDistSq)return!0;const s=this.velocityX;if(this.minVelocityX!==Number.MAX_SAFE_INTEGER&&(this.minVelocityX<0&&s<=this.minVelocityX||this.minVelocityX>=0&&this.minVelocityX<=s))return!0;const n=this.velocityY;if(this.minVelocityY!==Number.MAX_SAFE_INTEGER&&(this.minVelocityY<0&&n<=this.minVelocityY||this.minVelocityY>=0&&this.minVelocityY<=n))return!0;const r=s*s+n*n;return this.minVelocitySq!==Number.MAX_SAFE_INTEGER&&r>=this.minVelocitySq}shouldFail(){const t=this.getTranslationX(),e=this.getTranslationY(),i=t*t+e*e;return this.activateAfterLongPress>0&&i>225?(this.clearActivationTimeout(),!0):this.failOffsetXStart!==Number.MIN_SAFE_INTEGER&&t<this.failOffsetXStart||(this.failOffsetXEnd!==Number.MAX_SAFE_INTEGER&&t>this.failOffsetXEnd||(this.failOffsetYStart!==Number.MIN_SAFE_INTEGER&&e<this.failOffsetYStart||this.failOffsetYEnd!==Number.MAX_SAFE_INTEGER&&e>this.failOffsetYEnd))}tryBegin(t){this.state===n.UNDETERMINED&&this.tracker.trackedPointersCount>=this.minPointers?(this.resetProgress(),this.offsetX=0,this.offsetY=0,this.velocityX=0,this.velocityY=0,this.begin(),this.activateAfterLongPress>0&&(this.activationTimeout=setTimeout((()=>{this.activate()}),this.activateAfterLongPress))):this.updateVelocity(t.pointerId)}checkBegan(){this.state===n.BEGAN&&(this.shouldFail()?this.fail():this.shouldActivate()&&this.activate())}activate(t=!1){this.state!==n.ACTIVE&&this.resetProgress(),super.activate(t)}onCancel(){this.clearActivationTimeout()}onReset(){this.clearActivationTimeout()}resetProgress(){this.state!==n.ACTIVE&&(this.startX=this.lastX,this.startY=this.lastY)}},TapGestureHandler:class extends K{maxDeltaX=Number.MIN_SAFE_INTEGER;maxDeltaY=Number.MIN_SAFE_INTEGER;maxDistSq=Number.MIN_SAFE_INTEGER;maxDurationMs=500;maxDelayMs=500;numberOfTaps=1;minNumberOfPointers=1;currentMaxNumberOfPointers=1;startX=0;startY=0;offsetX=0;offsetY=0;lastX=0;lastY=0;tapsSoFar=0;updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),void 0!==this.config.numberOfTaps&&(this.numberOfTaps=this.config.numberOfTaps),void 0!==this.config.maxDurationMs&&(this.maxDurationMs=this.config.maxDurationMs),void 0!==this.config.maxDelayMs&&(this.maxDelayMs=this.config.maxDelayMs),void 0!==this.config.maxDeltaX&&(this.maxDeltaX=this.config.maxDeltaX),void 0!==this.config.maxDeltaY&&(this.maxDeltaY=this.config.maxDeltaY),void 0!==this.config.maxDist&&(this.maxDistSq=this.config.maxDist*this.config.maxDist),void 0!==this.config.minPointers&&(this.minNumberOfPointers=this.config.minPointers)}resetConfig(){super.resetConfig(),this.maxDeltaX=Number.MIN_SAFE_INTEGER,this.maxDeltaY=Number.MIN_SAFE_INTEGER,this.maxDistSq=Number.MIN_SAFE_INTEGER,this.maxDurationMs=500,this.maxDelayMs=500,this.numberOfTaps=1,this.minNumberOfPointers=1}clearTimeouts(){clearTimeout(this.waitTimeout),clearTimeout(this.delayTimeout)}startTap(){this.clearTimeouts(),this.waitTimeout=setTimeout((()=>this.fail()),this.maxDurationMs)}endTap(){this.clearTimeouts(),++this.tapsSoFar===this.numberOfTaps&&this.currentMaxNumberOfPointers>=this.minNumberOfPointers?this.activate():this.delayTimeout=setTimeout((()=>this.fail()),this.maxDelayMs)}updateLastCoords(){const{x:t,y:e}=this.tracker.getAbsoluteCoordsAverage();this.lastX=t,this.lastY=e}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),super.onPointerDown(t),this.trySettingPosition(t),this.startX=t.x,this.startY=t.y,this.lastX=t.x,this.lastY=t.y,this.updateState(t),this.tryToSendTouchEvent(t))}onPointerAdd(t){super.onPointerAdd(t),this.tracker.addToTracker(t),this.trySettingPosition(t),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY-this.startY,this.updateLastCoords(),this.startX=this.lastX,this.startY=this.lastY,this.updateState(t)}onPointerUp(t){super.onPointerUp(t),this.updateLastCoords(),this.tracker.removeFromTracker(t.pointerId),this.updateState(t)}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY=this.startY,this.updateLastCoords(),this.startX=this.lastX,this.startY=this.lastY,this.updateState(t)}onPointerMove(t){this.trySettingPosition(t),this.tracker.track(t),this.updateLastCoords(),this.updateState(t),super.onPointerMove(t)}onPointerOutOfBounds(t){this.trySettingPosition(t),this.tracker.track(t),this.updateLastCoords(),this.updateState(t),super.onPointerOutOfBounds(t)}updateState(t){if(this.currentMaxNumberOfPointers<this.tracker.trackedPointersCount&&(this.currentMaxNumberOfPointers=this.tracker.trackedPointersCount),this.shouldFail())this.fail();else switch(this.state){case n.UNDETERMINED:t.eventType===b.DOWN&&this.begin(),this.startTap();break;case n.BEGAN:t.eventType===b.UP&&this.endTap(),t.eventType===b.DOWN&&this.startTap()}}trySettingPosition(t){this.state===n.UNDETERMINED&&(this.offsetX=0,this.offsetY=0,this.startX=t.x,this.startY=t.y)}shouldFail(){const t=this.lastX-this.startX+this.offsetX;if(this.maxDeltaX!==Number.MIN_SAFE_INTEGER&&Math.abs(t)>this.maxDeltaX)return!0;const e=this.lastY-this.startY+this.offsetY;if(this.maxDeltaY!==Number.MIN_SAFE_INTEGER&&Math.abs(e)>this.maxDeltaY)return!0;const i=e*e+t*t;return this.maxDistSq!==Number.MIN_SAFE_INTEGER&&i>this.maxDistSq}activate(){super.activate(),this.end()}onCancel(){this.resetProgress(),this.clearTimeouts()}resetProgress(){this.clearTimeouts(),this.tapsSoFar=0,this.currentMaxNumberOfPointers=0}},LongPressGestureHandler:class extends K{minDurationMs=500;defaultMaxDistSq=100;maxDistSq=this.defaultMaxDistSq;numberOfPointers=1;startX=0;startY=0;startTime=0;previousTime=0;init(t,e){void 0===this.config.enableContextMenu&&(this.config.enableContextMenu=!1),super.init(t,e)}transformNativeEvent(){return{...super.transformNativeEvent(),duration:Date.now()-this.startTime}}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),void 0!==this.config.minDurationMs&&(this.minDurationMs=this.config.minDurationMs),void 0!==this.config.maxDist&&(this.maxDistSq=this.config.maxDist*this.config.maxDist),void 0!==this.config.numberOfPointers&&(this.numberOfPointers=this.config.numberOfPointers)}resetConfig(){super.resetConfig(),this.minDurationMs=500,this.maxDistSq=this.defaultMaxDistSq}onStateChange(t,e){clearTimeout(this.activationTimeout)}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),super.onPointerDown(t),this.startX=t.x,this.startY=t.y,this.tryBegin(),this.tryActivate(),this.tryToSendTouchEvent(t))}onPointerAdd(t){if(super.onPointerAdd(t),this.tracker.addToTracker(t),this.tracker.trackedPointersCount>this.numberOfPointers)return void this.fail();const e=this.tracker.getAbsoluteCoordsAverage();this.startX=e.x,this.startY=e.y,this.tryActivate()}onPointerMove(t){super.onPointerMove(t),this.tracker.track(t),this.checkDistanceFail()}onPointerOutOfBounds(t){super.onPointerOutOfBounds(t),this.tracker.track(t),this.checkDistanceFail()}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.state===n.ACTIVE?this.end():this.fail()}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId),this.tracker.trackedPointersCount<this.numberOfPointers&&this.state!==n.ACTIVE&&this.fail()}tryBegin(){this.state===n.UNDETERMINED&&(this.previousTime=Date.now(),this.startTime=this.previousTime,this.begin())}tryActivate(){this.tracker.trackedPointersCount===this.numberOfPointers&&(this.minDurationMs>0?this.activationTimeout=setTimeout((()=>{this.activate()}),this.minDurationMs):0===this.minDurationMs&&this.activate())}checkDistanceFail(){const t=this.tracker.getAbsoluteCoordsAverage(),e=t.x-this.startX,i=t.y-this.startY;e*e+i*i<=this.maxDistSq||(this.state===n.ACTIVE?this.cancel():this.fail())}},PinchGestureHandler:class extends K{scale=1;velocity=0;startingSpan=0;spanSlop=w;scaleDetectorListener={onScaleBegin:t=>(this.startingSpan=t.currentSpan,!0),onScale:t=>{const e=this.scale;this.scale*=t.calculateScaleFactor(this.tracker.trackedPointersCount);const i=t.timeDelta;return i>0&&(this.velocity=(this.scale-e)/i),Math.abs(this.startingSpan-t.currentSpan)>=this.spanSlop&&this.state===n.BEGAN&&this.activate(),!0},onScaleEnd:t=>{}};scaleGestureDetector=new $(this.scaleDetectorListener);init(t,e){super.init(t,e),this.shouldCancelWhenOutside=!1}transformNativeEvent(){return{focalX:this.scaleGestureDetector.focusX,focalY:this.scaleGestureDetector.focusY,velocity:this.velocity,scale:this.scale}}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.scaleGestureDetector.onTouchEvent(t,this.tracker)}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.state===n.ACTIVE&&(this.scaleGestureDetector.onTouchEvent(t,this.tracker),this.state===n.ACTIVE?this.end():this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),this.tracker.removeFromTracker(t.pointerId),this.state===n.ACTIVE&&this.tracker.trackedPointersCount<2&&this.end()}onPointerMove(t){this.tracker.trackedPointersCount<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.trackedPointersCount<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}tryBegin(){this.state===n.UNDETERMINED&&(this.resetProgress(),this.begin())}activate(t){this.state!==n.ACTIVE&&this.resetProgress(),super.activate(t)}onReset(){this.resetProgress()}resetProgress(){this.state!==n.ACTIVE&&(this.velocity=0,this.scale=1)}},RotationGestureHandler:class extends K{rotation=0;velocity=0;cachedAnchorX=0;cachedAnchorY=0;rotationGestureListener={onRotationBegin:t=>!0,onRotation:t=>{const e=this.rotation;this.rotation+=t.rotation;const i=t.timeDelta;return i>0&&(this.velocity=(this.rotation-e)/i),Math.abs(this.rotation)>=Z&&this.state===n.BEGAN&&this.activate(),!0},onRotationEnd:t=>{this.end()}};rotationGestureDetector=new J(this.rotationGestureListener);init(t,e){super.init(t,e),this.shouldCancelWhenOutside=!1}transformNativeEvent(){return{rotation:this.rotation?this.rotation:0,anchorX:this.getAnchorX(),anchorY:this.getAnchorY(),velocity:this.velocity?this.velocity:0}}getAnchorX(){const t=this.rotationGestureDetector.anchorX;return t||this.cachedAnchorX}getAnchorY(){const t=this.rotationGestureDetector.anchorY;return t||this.cachedAnchorY}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.rotationGestureDetector.onTouchEvent(t,this.tracker)}onPointerMove(t){this.tracker.trackedPointersCount<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.trackedPointersCount<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.rotationGestureDetector.onTouchEvent(t,this.tracker),this.state===n.ACTIVE&&(this.state===n.ACTIVE?this.end():this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),this.tracker.removeFromTracker(t.pointerId)}tryBegin(){this.state===n.UNDETERMINED&&this.begin()}onReset(){this.state!==n.ACTIVE&&(this.rotation=0,this.velocity=0,this.rotationGestureDetector.reset())}},FlingGestureHandler:class extends K{numberOfPointersRequired=1;direction=ht;maxDurationMs=800;minVelocity=700;maxNumberOfPointersSimultaneously=0;keyPointer=NaN;updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),this.config.direction&&(this.direction=this.config.direction),this.config.numberOfPointers&&(this.numberOfPointersRequired=this.config.numberOfPointers)}startFling(){this.begin(),this.maxNumberOfPointersSimultaneously=1,this.delayTimeout=setTimeout((()=>this.fail()),this.maxDurationMs)}tryEndFling(){const t=et.fromVelocity(this.tracker,this.keyPointer);if(!t)return!1;const e=(e,i)=>(e&this.direction)===e&&t.isSimilar(et.fromDirection(e),i),i=Object.values(Q),s=Object.values(tt),n=i.map((t=>e(t,lt))),r=s.map((t=>e(t,ut))),o=n.some(Boolean)||r.some(Boolean),a=t.magnitude>this.minVelocity;return!(this.maxNumberOfPointersSimultaneously!==this.numberOfPointersRequired||!o||!a)&&(clearTimeout(this.delayTimeout),this.activate(),!0)}endFling(){this.tryEndFling()||this.fail()}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),this.keyPointer=t.pointerId,super.onPointerDown(t),this.newPointerAction(),this.tryToSendTouchEvent(t))}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.newPointerAction()}newPointerAction(){this.state===n.UNDETERMINED&&this.startFling(),this.state===n.BEGAN&&(this.tryEndFling(),this.tracker.trackedPointersCount>this.maxNumberOfPointersSimultaneously&&(this.maxNumberOfPointersSimultaneously=this.tracker.trackedPointersCount))}pointerMoveAction(t){this.tracker.track(t),this.state===n.BEGAN&&this.tryEndFling()}onPointerMove(t){this.pointerMoveAction(t),super.onPointerMove(t)}onPointerOutOfBounds(t){this.pointerMoveAction(t),super.onPointerOutOfBounds(t)}onPointerUp(t){super.onPointerUp(t),this.onUp(t),this.keyPointer=NaN}onPointerRemove(t){super.onPointerRemove(t),this.onUp(t)}onUp(t){this.state===n.BEGAN&&this.endFling(),this.tracker.removeFromTracker(t.pointerId)}activate(t){super.activate(t),this.end()}resetConfig(){super.resetConfig(),this.numberOfPointersRequired=1,this.direction=ht}},ManualGestureHandler:class extends K{onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.begin(),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t)}onPointerMove(t){this.tracker.track(t),super.onPointerMove(t)}onPointerOutOfBounds(t){this.tracker.track(t),super.onPointerOutOfBounds(t)}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId)}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId)}},HoverGestureHandler:class extends K{transformNativeEvent(){return{...super.transformNativeEvent(),stylusData:this.stylusData}}onPointerMoveOver(t){U.instance.recordHandlerIfNotPresent(this),this.tracker.addToTracker(t),this.stylusData=t.stylusData,super.onPointerMoveOver(t),this.state===n.UNDETERMINED&&(this.begin(),this.activate())}onPointerMoveOut(t){this.tracker.removeFromTracker(t.pointerId),this.stylusData=t.stylusData,super.onPointerMoveOut(t),this.end()}onPointerMove(t){this.tracker.track(t),this.stylusData=t.stylusData,super.onPointerMove(t)}onPointerCancel(t){super.onPointerCancel(t),this.reset()}}},bi={NativeViewGestureHandler:Ti,PanGestureHandler:Pi,TapGestureHandler:Ai,LongPressGestureHandler:Si,PinchGestureHandler:Ni,RotationGestureHandler:Ii,FlingGestureHandler:_i};var Mi=i(88281);function ki(t){if(t instanceof Mi.A)return t._listRef._scrollRef.firstChild;if(void 0!==t?.viewTag)return ki(t.viewTag);if(t instanceof Element)return"contents"===t.style.display?ki(t.firstChild):t;if(function(t){const e=Object.getPrototypeOf(t).constructor.name;return at.has(e)&&Object.hasOwn(t,"elementRef")}(t))return t.elementRef.current;let e=t?.current;for(;e&&"contents"===e.style.display;)e=e.firstChild;return e}class Ri{pointersInBounds=[];constructor(t){this.view=t,this.activePointersCounter=0}onPointerDown(t){}onPointerAdd(t){}onPointerUp(t){}onPointerRemove(t){}onPointerMove(t){}onPointerLeave(t){}onPointerEnter(t){}onPointerCancel(t){}onPointerOutOfBounds(t){}onPointerMoveOver(t){}onPointerMoveOut(t){}onWheel(t){}setOnPointerDown(t){this.onPointerDown=t}setOnPointerAdd(t){this.onPointerAdd=t}setOnPointerUp(t){this.onPointerUp=t}setOnPointerRemove(t){this.onPointerRemove=t}setOnPointerMove(t){this.onPointerMove=t}setOnPointerLeave(t){this.onPointerLeave=t}setOnPointerEnter(t){this.onPointerEnter=t}setOnPointerCancel(t){this.onPointerCancel=t}setOnPointerOutOfBounds(t){this.onPointerOutOfBounds=t}setOnPointerMoveOver(t){this.onPointerMoveOver=t}setOnPointerMoveOut(t){this.onPointerMoveOut=t}setOnWheel(t){this.onWheel=t}markAsInBounds(t){this.pointersInBounds.indexOf(t)>=0||this.pointersInBounds.push(t)}markAsOutOfBounds(t){const e=this.pointersInBounds.indexOf(t);e<0||this.pointersInBounds.splice(e,1)}resetManager(){this.activePointersCounter=0,this.pointersInBounds=[]}}const Gi=new Set(["SELECT","INPUT"]);class xi extends Ri{trackedPointers=new Set;mouseButtonsMapper=new Map;constructor(t){super(t),this.mouseButtonsMapper.set(0,z.LEFT),this.mouseButtonsMapper.set(1,z.MIDDLE),this.mouseButtonsMapper.set(2,z.RIGHT),this.mouseButtonsMapper.set(3,z.BUTTON_4),this.mouseButtonsMapper.set(4,z.BUTTON_5),this.lastPosition={x:-1/0,y:-1/0}}pointerDownCallback=t=>{if(!st(this.view,{x:t.clientX,y:t.clientY}))return;const e=this.mapEvent(t,b.DOWN),i=t.target;Gi.has(i.tagName)||i.setPointerCapture(e.pointerId),this.markAsInBounds(e.pointerId),this.trackedPointers.add(e.pointerId),++this.activePointersCounter>1?(e.eventType=b.ADDITIONAL_POINTER_DOWN,this.onPointerAdd(e)):this.onPointerDown(e)};pointerUpCallback=t=>{if(0===this.activePointersCounter)return;const e=this.mapEvent(t,b.UP),i=t.target;Gi.has(i.tagName)||i.releasePointerCapture(e.pointerId),this.markAsOutOfBounds(e.pointerId),this.trackedPointers.delete(e.pointerId),--this.activePointersCounter>0?(e.eventType=b.ADDITIONAL_POINTER_UP,this.onPointerRemove(e)):this.onPointerUp(e)};pointerMoveCallback=t=>{const e=this.mapEvent(t,b.MOVE),i=t.target;i?.hasPointerCapture(t.pointerId)||Gi.has(i.tagName)||i.setPointerCapture(t.pointerId);const s=st(this.view,{x:e.x,y:e.y}),n=this.pointersInBounds.indexOf(e.pointerId);s?n<0?(e.eventType=b.ENTER,this.onPointerEnter(e),this.markAsInBounds(e.pointerId)):this.onPointerMove(e):n>=0?(e.eventType=b.LEAVE,this.onPointerLeave(e),this.markAsOutOfBounds(e.pointerId)):this.onPointerOutOfBounds(e),this.lastPosition.x=t.x,this.lastPosition.y=t.y};pointerCancelCallback=t=>{const e=this.mapEvent(t,b.CANCEL);this.onPointerCancel(e),this.markAsOutOfBounds(e.pointerId),this.activePointersCounter=0,this.trackedPointers.clear()};pointerEnterCallback=t=>{const e=this.mapEvent(t,b.ENTER);this.onPointerMoveOver(e)};pointerLeaveCallback=t=>{const e=this.mapEvent(t,b.LEAVE);this.onPointerMoveOut(e)};lostPointerCaptureCallback=t=>{const e=this.mapEvent(t,b.CANCEL);this.trackedPointers.has(e.pointerId)&&(this.onPointerCancel(e),this.activePointersCounter=0,this.trackedPointers.clear())};registerListeners(){this.view.addEventListener("pointerdown",this.pointerDownCallback),this.view.addEventListener("pointerup",this.pointerUpCallback),this.view.addEventListener("pointermove",this.pointerMoveCallback),this.view.addEventListener("pointercancel",this.pointerCancelCallback),this.view.addEventListener("pointerenter",this.pointerEnterCallback),this.view.addEventListener("pointerleave",this.pointerLeaveCallback),this.view.addEventListener("lostpointercapture",this.lostPointerCaptureCallback)}unregisterListeners(){this.view.removeEventListener("pointerdown",this.pointerDownCallback),this.view.removeEventListener("pointerup",this.pointerUpCallback),this.view.removeEventListener("pointermove",this.pointerMoveCallback),this.view.removeEventListener("pointercancel",this.pointerCancelCallback),this.view.removeEventListener("pointerenter",this.pointerEnterCallback),this.view.removeEventListener("pointerleave",this.pointerLeaveCallback),this.view.removeEventListener("lostpointercapture",this.lostPointerCaptureCallback)}mapEvent(t,e){const i=this.view.getBoundingClientRect(),{scaleX:s,scaleY:n}=function(t){const e=getComputedStyle(t),i={scaleX:1,scaleY:1};if(void 0!==e.scale&&"none"!==e.scale){const t=e.scale.split(" ");t[0]&&(i.scaleX=parseFloat(t[0])),i.scaleY=t[1]?parseFloat(t[1]):parseFloat(t[0])}const s=new RegExp(/matrix\((.+)\)/).exec(e.transform)?.[1];if(s){const t=s.split(", ");i.scaleX*=parseFloat(t[0]),i.scaleY*=parseFloat(t[3])}return i}(this.view);return{x:t.clientX,y:t.clientY,offsetX:(t.clientX-i.left)/s,offsetY:(t.clientY-i.top)/n,pointerId:t.pointerId,eventType:e,pointerType:nt.get(t.pointerType)??R.OTHER,button:this.mouseButtonsMapper.get(t.button),time:t.timeStamp,stylusData:ot(t)}}resetManager(){super.resetManager(),this.trackedPointers.clear()}}class Hi extends Ri{static activationKeys=["Enter"," "];static cancelationKeys=["Tab"];isPressed=!1;static registeredStaticListeners=!1;static instances=new Set;static keyUpStaticCallback=t=>{-1!==this.activationKeys.indexOf(t.key)&&this.instances.forEach((e=>{e.onKeyUp(t)}))};keyDownCallback=t=>{-1!==Hi.cancelationKeys.indexOf(t.key)&&this.isPressed?this.dispatchEvent(t,b.CANCEL):-1!==Hi.activationKeys.indexOf(t.key)&&this.dispatchEvent(t,b.DOWN)};onKeyUp=t=>{-1!==Hi.activationKeys.indexOf(t.key)&&this.isPressed&&this.dispatchEvent(t,b.UP)};dispatchEvent(t,e){if(!(t.target instanceof HTMLElement))return;const i=this.mapEvent(t,e);switch(e){case b.UP:this.isPressed=!1,this.onPointerUp(i);break;case b.DOWN:this.isPressed=!0,this.onPointerDown(i);break;case b.CANCEL:this.isPressed=!1,this.onPointerCancel(i)}}registerListeners(){this.view.addEventListener("keydown",this.keyDownCallback),Hi.instances.add(this),Hi.registeredStaticListeners||(Hi.registeredStaticListeners=!0,document.addEventListener("keyup",Hi.keyUpStaticCallback,{capture:!0}))}unregisterListeners(){this.view.removeEventListener("keydown",this.keyDownCallback),Hi.instances.delete(this),0===Hi.instances.size&&(document.removeEventListener("keyup",Hi.keyUpStaticCallback,{capture:!0}),Hi.registeredStaticListeners=!1)}mapEvent(t,e){const i=t.target.getBoundingClientRect(),s={x:i?.x+i?.width/2,y:i?.y+i?.height/2},n={x:i?.width/2,y:i?.height/2};return{x:s.x,y:s.y,offsetX:n.x,offsetY:n.y,pointerId:0,eventType:e,pointerType:R.KEY,time:t.timeStamp}}}class Li extends Ri{wheelDelta={x:0,y:0};resetDelta=t=>{this.wheelDelta={x:0,y:0}};wheelCallback=t=>{this.wheelDelta.x+=t.deltaX,this.wheelDelta.y+=t.deltaY;const e=this.mapEvent(t);this.onWheel(e)};registerListeners(){this.view.addEventListener("pointermove",this.resetDelta),this.view.addEventListener("wheel",this.wheelCallback)}unregisterListeners(){this.view.removeEventListener("pointermove",this.resetDelta),this.view.removeEventListener("wheel",this.wheelCallback)}mapEvent(t){return{x:t.clientX+this.wheelDelta.x,y:t.clientY+this.wheelDelta.y,offsetX:t.offsetX-t.deltaX,offsetY:t.offsetY-t.deltaY,pointerId:-1,eventType:b.MOVE,pointerType:R.OTHER,time:t.timeStamp,wheelDeltaY:t.wheelDeltaY}}resetManager(){super.resetManager()}}class Yi{isInitialized=!1;eventManagers=[];defaultViewStyles={userSelect:"",touchAction:""};init(t,e){if(!t)throw new Error(`Cannot find HTML Element for handler ${e.handlerTag}`);this.isInitialized=!0,this.gestureHandler=e,this.view=ki(t),this.defaultViewStyles={userSelect:this.view.style.userSelect,touchAction:this.view.style.touchAction};const i=e.config;this.setUserSelect(i.enabled),this.setTouchAction(i.enabled),this.setContextMenu(i.enabled),this.eventManagers.push(new xi(this.view)),this.eventManagers.push(new Hi(this.view)),this.eventManagers.push(new Li(this.view)),this.eventManagers.forEach((t=>this.gestureHandler.attachEventManager(t)))}isPointerInBounds({x:t,y:e}){return st(this.view,{x:t,y:e})}measureView(){const t=this.view.getBoundingClientRect();return{pageX:t.left,pageY:t.top,width:t.width,height:t.height}}reset(){this.eventManagers.forEach((t=>t.resetManager()))}tryResetCursor(){const t=this.gestureHandler.config;t.activeCursor&&"auto"!==t.activeCursor&&this.gestureHandler.state===n.ACTIVE&&(this.view.style.cursor="auto")}shouldDisableContextMenu(t){return void 0===t.enableContextMenu&&this.gestureHandler.isButtonInConfig(z.RIGHT)||!1===t.enableContextMenu}addContextMenuListeners(t){this.shouldDisableContextMenu(t)?this.view.addEventListener("contextmenu",this.disableContextMenu):t.enableContextMenu&&this.view.addEventListener("contextmenu",this.enableContextMenu)}removeContextMenuListeners(t){this.shouldDisableContextMenu(t)?this.view.removeEventListener("contextmenu",this.disableContextMenu):t.enableContextMenu&&this.view.removeEventListener("contextmenu",this.enableContextMenu)}disableContextMenu(t){t.preventDefault()}enableContextMenu(t){t.stopPropagation()}setUserSelect(t){const{userSelect:e}=this.gestureHandler.config;this.view.style.userSelect=t?e??"none":this.defaultViewStyles.userSelect,this.view.style.webkitUserSelect=t?e??"none":this.defaultViewStyles.userSelect}setTouchAction(t){const{touchAction:e}=this.gestureHandler.config;this.view.style.touchAction=t?e??"none":this.defaultViewStyles.touchAction,this.view.style.WebkitTouchCallout=t?e??"none":this.defaultViewStyles.touchAction}setContextMenu(t){const e=this.gestureHandler.config;t?this.addContextMenuListeners(e):this.removeContextMenuListeners(e)}onEnabledChange(t){this.isInitialized&&(this.setUserSelect(t),this.setTouchAction(t),this.setContextMenu(t),t?this.eventManagers.forEach((t=>{t.registerListeners()})):this.eventManagers.forEach((t=>{t.unregisterListeners()})))}onBegin(){}onActivate(){const t=this.gestureHandler.config;this.view.style.cursor&&"auto"!==this.view.style.cursor||!t.activeCursor||(this.view.style.cursor=t.activeCursor)}onEnd(){this.tryResetCursor()}onCancel(){this.tryResetCursor()}onFail(){this.tryResetCursor()}destroy(t){this.removeContextMenuListeners(t),this.eventManagers.forEach((t=>{t.unregisterListeners()}))}get view(){return this._view}set view(t){this._view=t}}let Xi=!1;const Fi={handleSetJSResponder(t,e){console.warn("handleSetJSResponder: ",t,e)},handleClearJSResponder(){console.warn("handleClearJSResponder: ")},createGestureHandler(t,e,i){if(_()){if(!(t in wi))throw new Error(`react-native-gesture-handler: ${t} is not supported on web.`);const s=wi[t];m.createGestureHandler(e,new s(new Yi)),V.instance.configureInteractions(m.getHandler(e),i)}else{if(!(t in bi))throw new Error(`react-native-gesture-handler: ${t} is not supported on web.`);!function(t,e){if(t in ni)throw new Error(`Handler with tag ${t} already exists`);ni[t]=e,ni[t].handlerTag=t}(e,new(0,bi[t]))}this.updateGestureHandler(e,i)},attachGestureHandler(t,e,i,s){if(!(e instanceof Element||e instanceof o.Component)){Xi=!0;const e=(_()?m.getHandler(t):ri(t)).constructor.name;throw new Error(`${e} with tag ${t} received child that is not valid HTML element.`)}_()?m.getHandler(t).init(e,s):ri(t).setView(e,s)},updateGestureHandler(t,e){_()?(m.getHandler(t).updateGestureConfig(e),V.instance.configureInteractions(m.getHandler(t),e)):ri(t).updateGestureConfig(e)},getGestureHandlerNode:t=>_()?m.getHandler(t):ri(t),dropGestureHandler(t){Xi||(_()?m.dropGestureHandler(t):function(t){t in ni&&(ri(t).destroy(),delete ni[t])}(t))},flushOperations(){}};var Ui=i(14442),Vi=(i(64151),i(8589));const Bi=o.createContext(!1);var Wi=i(47671);function qi({style:t,...e}){return(0,Wi.jsx)(Bi.Provider,{value:!0,children:(0,Wi.jsx)(Vi.A,{style:t??zi.container,...e})})}const zi=Ui.A.create({container:{flex:1}});Ui.A.create({container:{flex:1}});var Ki=i(4550);let ji=1;function $i(){return ji++}function Ji(t,e,i={}){const s={...i};for(const o of e){let e=t[o];r=o,void 0===(n=e)||n===Object(n)&&"__isNative"in n||"onHandlerStateChange"===r||"onGestureEvent"===r||("simultaneousHandlers"===o||"waitFor"===o?e=Zi(t[o]):"hitSlop"===o&&"object"!=typeof e&&(e={top:e,left:e,bottom:e,right:e}),s[o]=e)}var n,r;return s}function Zi(t){var e;return e=t,t=Array.isArray(e)?e:[e],"web"===ct.A.OS?t.map((({current:t})=>t)).filter((t=>t)):t.map((t=>c[t]||t.current?.handlerTag||-1)).filter((t=>t>0))}let Qi=!1;function ts(){Qi||(Qi=!0,oi((()=>{Fi.flushOperations(),Qi=!1})))}const es=1,is=2,ss=3,ns=4;class rs{static mountListeners=new Set;static unmountListeners=new Set;static addMountListener(t){return this.mountListeners.add(t),()=>{this.mountListeners.delete(t)}}static addUnmountListener(t){return this.unmountListeners.add(t),()=>{this.unmountListeners.delete(t)}}static gestureHandlerWillMount(t){this.mountListeners.forEach((e=>e(t)))}static gestureHandlerWillUnmount(t){this.unmountListeners.forEach((e=>e(t)))}static gestureWillMount(t){this.mountListeners.forEach((e=>e(t)))}static gestureWillUnmount(t){this.unmountListeners.forEach((e=>e(t)))}}const os=Ki.A,as={onGestureHandlerEvent:{registrationName:"onGestureHandlerEvent"},onGestureHandlerStateChange:{registrationName:"onGestureHandlerStateChange"},...l()&&"android"===ct.A.OS&&{topOnGestureHandlerEvent:{registrationName:"onGestureHandlerEvent"},topOnGestureHandlerStateChange:{registrationName:"onGestureHandlerStateChange"}}};os.genericDirectEventTypes={...os.genericDirectEventTypes,...as};const hs=os.getViewManagerConfig?.("getConstants");hs&&(hs.genericDirectEventTypes={...hs.genericDirectEventTypes,...as});const{setJSResponder:ls=()=>{},clearJSResponder:us=()=>{}}=os;os.setJSResponder=(t,e)=>{Fi.handleSetJSResponder(t,e),ls(t,e)},os.clearJSResponder=()=>{Fi.handleClearJSResponder(),us()};let cs=!0;const ds=!1;function fs(t){const e=t=>Array.isArray(t)?t.some((t=>t&&null===t.current)):t&&null===t.current;return e(t.simultaneousHandlers)||e(t.waitFor)}const ps={[n.UNDETERMINED]:void 0,[n.BEGAN]:"onBegan",[n.FAILED]:"onFailed",[n.CANCELLED]:"onCancelled",[n.ACTIVE]:"onActivated",[n.END]:"onEnded"};function vs({name:t,allowedProps:e=[],config:i={},transformProps:s,customNativeProps:n=[]}){class r extends o.Component{static displayName=t;static contextType=Bi;handlerTag=-1;constructor(t){if(super(t),this.config={},this.propsRef=o.createRef(),this.isMountedRef=o.createRef(),this.state={allowTouches:cs},t.id){if(void 0!==c[t.id])throw new Error(`Handler with ID "${t.id}" already registered`);c[t.id]=this.handlerTag}}componentDidMount(){const t=this.props;if(this.isMountedRef.current=!0,fs(t)&&oi((()=>{this.update(1)})),this.createGestureHandler(Ji(s?s(this.props):this.props,[...e,...n],i)),!this.viewNode)throw new Error(`[Gesture Handler] Failed to obtain view for ${r.displayName}. Note that old API doesn't support functional components.`);this.attachGestureHandler(ki(this.viewNode))}componentDidUpdate(){const t=ki(this.viewNode);this.viewTag!==t&&this.attachGestureHandler(t),this.update(1)}componentWillUnmount(){this.inspectorToggleListener?.remove(),this.isMountedRef.current=!1,"web"!==ct.A.OS&&function(t){f.delete(t)}(this.handlerTag),Fi.dropGestureHandler(this.handlerTag),ts();const t=this.props.id;t&&delete c[t],rs.gestureHandlerWillUnmount(this)}onGestureHandlerEvent=t=>{t.nativeEvent.handlerTag===this.handlerTag?"function"==typeof this.props.onGestureEvent&&this.props.onGestureEvent?.(t):this.props.onGestureHandlerEvent?.(t)};onGestureHandlerStateChange=t=>{if(t.nativeEvent.handlerTag===this.handlerTag){"function"==typeof this.props.onHandlerStateChange&&this.props.onHandlerStateChange?.(t);const e=t.nativeEvent.state,i=ps[e],s=i&&this.props[i];s&&"function"==typeof s&&s(t)}else this.props.onGestureHandlerStateChange?.(t)};refHandler=t=>{this.viewNode=t;const e=o.Children.only(this.props.children),i=o.version.startsWith("19.")?e.props?.ref:e?.ref;i&&("function"==typeof i?i(t):i.current=t)};createGestureHandler=e=>{this.handlerTag=$i(),this.config=e,Fi.createGestureHandler(t,this.handlerTag,e)};attachGestureHandler=t=>{if(this.viewTag=t,"web"===ct.A.OS)Fi.attachGestureHandler(this.handlerTag,t,ss,this.propsRef);else{!function(t,e){f.set(t,e)}(this.handlerTag,{onGestureEvent:this.onGestureHandlerEvent,onGestureStateChange:this.onGestureHandlerStateChange});const e=(()=>{const t=this.props?.onGestureEvent,e=t&&("current"in t||"workletEventHandler"in t),i=this.props?.onHandlerStateChange;return e||i&&("current"in i||"workletEventHandler"in i)?es:t&&"__isNative"in t?is:ss})();Fi.attachGestureHandler(this.handlerTag,t,e)}ts(),oi((()=>{rs.gestureHandlerWillMount(this)}))};updateGestureHandler=t=>{this.config=t,Fi.updateGestureHandler(this.handlerTag,t),ts()};update(t){if(!this.isMountedRef.current)return;if(fs(this.props)&&t>0)oi((()=>{this.update(t-1)}));else{const t=Ji(s?s(this.props):this.props,[...e,...n],i);u(this.config,t)||this.updateGestureHandler(t)}}setNativeProps(t){const r={...this.props,...t},o=Ji(s?s(r):r,[...e,...n],i);this.updateGestureHandler(o)}render(){let e=this.onGestureHandlerEvent;const{onGestureEvent:i,onGestureHandlerEvent:s}=this.props;if(i&&"function"!=typeof i){if(s)throw new Error("Nesting touch handlers with native animated driver is not supported yet");e=i}else if(s&&"function"!=typeof s)throw new Error("Nesting touch handlers with native animated driver is not supported yet");let n=this.onGestureHandlerStateChange;const{onHandlerStateChange:r,onGestureHandlerStateChange:l}=this.props;if(r&&"function"!=typeof r){if(l)throw new Error("Nesting touch handlers with native animated driver is not supported yet");n=r}else if(l&&"function"!=typeof l)throw new Error("Nesting touch handlers with native animated driver is not supported yet");const u={onGestureHandlerEvent:this.state.allowTouches?e:void 0,onGestureHandlerStateChange:this.state.allowTouches?n:void 0};this.propsRef.current=u;let c=null;try{c=o.Children.only(this.props.children)}catch(f){throw new Error(h(`${t} got more than one view as a child. If you want the gesture to work on multiple views, wrap them with a common parent and attach the gesture to that view.`))}let d=c.props.children;return o.cloneElement(c,{ref:this.refHandler,collapsable:!1,...a()?{handlerType:t,handlerTag:this.handlerTag,enabled:this.props.enabled}:{},testID:this.props.testID??c.props.testID,...u},d)}}return r}const gs=["maxDurationMs","maxDelayMs","numberOfTaps","maxDeltaX","maxDeltaY","maxDist","minPointers"],Es=(vs({name:"TapGestureHandler",allowedProps:[...W,...gs],config:{shouldCancelWhenOutside:!0}}),{get forceTouchAvailable(){return!1}}),ms=["minForce","maxForce","feedbackOnActivation"];class Ts extends o.Component{static forceTouchAvailable=!1;componentDidMount(){console.warn(h("ForceTouchGestureHandler is not available on this platform. Please use ForceTouchGestureHandler.forceTouchAvailable to conditionally render other components that would provide a fallback behavior specific to your usecase"))}render(){return this.props.children}}(Es?.forceTouchAvailable?vs({name:"ForceTouchGestureHandler",allowedProps:[...W,...ms],config:{}}):Ts).forceTouchAvailable=Es?.forceTouchAvailable||!1;const Cs=["minDurationMs","maxDist","numberOfPointers"],ys=(vs({name:"LongPressGestureHandler",allowedProps:[...W,...Cs],config:{shouldCancelWhenOutside:!0}}),["activeOffsetY","activeOffsetX","failOffsetY","failOffsetX","minDist","minVelocity","minVelocityX","minVelocityY","minPointers","maxPointers","avgTouches","enableTrackpadTwoFingerGesture","activateAfterLongPress"]),Ps=["activeOffsetYStart","activeOffsetYEnd","activeOffsetXStart","activeOffsetXEnd","failOffsetYStart","failOffsetYEnd","failOffsetXStart","failOffsetXEnd"];vs({name:"PanGestureHandler",allowedProps:[...W,...ys],config:{},transformProps:function(t){0;return function(t){const e={...t};void 0!==t.activeOffsetX&&(delete e.activeOffsetX,Array.isArray(t.activeOffsetX)?(e.activeOffsetXStart=t.activeOffsetX[0],e.activeOffsetXEnd=t.activeOffsetX[1]):t.activeOffsetX<0?e.activeOffsetXStart=t.activeOffsetX:e.activeOffsetXEnd=t.activeOffsetX);void 0!==t.activeOffsetY&&(delete e.activeOffsetY,Array.isArray(t.activeOffsetY)?(e.activeOffsetYStart=t.activeOffsetY[0],e.activeOffsetYEnd=t.activeOffsetY[1]):t.activeOffsetY<0?e.activeOffsetYStart=t.activeOffsetY:e.activeOffsetYEnd=t.activeOffsetY);void 0!==t.failOffsetX&&(delete e.failOffsetX,Array.isArray(t.failOffsetX)?(e.failOffsetXStart=t.failOffsetX[0],e.failOffsetXEnd=t.failOffsetX[1]):t.failOffsetX<0?e.failOffsetXStart=t.failOffsetX:e.failOffsetXEnd=t.failOffsetX);void 0!==t.failOffsetY&&(delete e.failOffsetY,Array.isArray(t.failOffsetY)?(e.failOffsetYStart=t.failOffsetY[0],e.failOffsetYEnd=t.failOffsetY[1]):t.failOffsetY<0?e.failOffsetYStart=t.failOffsetY:e.failOffsetYEnd=t.failOffsetY);return e}(t)},customNativeProps:Ps});vs({name:"PinchGestureHandler",allowedProps:W,config:{}}),vs({name:"RotationGestureHandler",allowedProps:W,config:{}});const As=["numberOfPointers","direction"],Ss=(vs({name:"FlingGestureHandler",allowedProps:[...W,...As],config:{}}),["shouldActivateOnStart","disallowInterruption"]),Os=[...W,...Ss],Ns=vs({name:"NativeViewGestureHandler",allowedProps:Os,config:{}}),Is=[...Os,"onGestureHandlerEvent","onGestureHandlerStateChange"];function Ds(t,e={}){const i=o.forwardRef(((i,s)=>{const{gestureHandlerProps:n,childProps:r}=Object.keys(i).reduce(((t,e)=>(Is.includes(e)?t.gestureHandlerProps[e]=i[e]:t.childProps[e]=i[e],t)),{gestureHandlerProps:{...e},childProps:{enabled:i.enabled,hitSlop:i.hitSlop,testID:i.testID}}),a=(0,o.useRef)(null),h=(0,o.useRef)(null);return(0,o.useImperativeHandle)(s,(()=>{const t=h.current;return a.current&&t?(a.current.handlerTag=t.handlerTag,a.current):null}),[a,h]),(0,Wi.jsx)(Ns,{...n,ref:h,children:(0,Wi.jsx)(t,{...r,ref:a})})}));return i.displayName=t?.displayName||t?.render?.name||"string"==typeof t&&t||"ComponentWrapper",i}const _s={UNDEFINED:0,BEGAN:1,START:2,UPDATE:3,CHANGE:4,END:5,FINALIZE:6,TOUCHES_DOWN:7,TOUCHES_MOVE:8,TOUCHES_UP:9,TOUCHES_CANCELLED:10};class ws{}let bs,Ms=0;class ks extends ws{gestureId=-1;handlerTag=-1;handlerName="";config={};handlers={gestureId:-1,handlerTag:-1,isWorklet:[]};constructor(){super(),this.gestureId=Ms++,this.handlers.gestureId=this.gestureId}addDependency(t,e){const i=this.config[t];this.config[t]=i?Array().concat(i,e):[e]}withRef(t){return this.config.ref=t,this}isWorklet(t){return void 0!==t.__workletHash}onBegin(t){return this.handlers.onBegin=t,this.handlers.isWorklet[_s.BEGAN]=this.isWorklet(t),this}onStart(t){return this.handlers.onStart=t,this.handlers.isWorklet[_s.START]=this.isWorklet(t),this}onEnd(t){return this.handlers.onEnd=t,this.handlers.isWorklet[_s.END]=this.isWorklet(t),this}onFinalize(t){return this.handlers.onFinalize=t,this.handlers.isWorklet[_s.FINALIZE]=this.isWorklet(t),this}onTouchesDown(t){return this.config.needsPointerData=!0,this.handlers.onTouchesDown=t,this.handlers.isWorklet[_s.TOUCHES_DOWN]=this.isWorklet(t),this}onTouchesMove(t){return this.config.needsPointerData=!0,this.handlers.onTouchesMove=t,this.handlers.isWorklet[_s.TOUCHES_MOVE]=this.isWorklet(t),this}onTouchesUp(t){return this.config.needsPointerData=!0,this.handlers.onTouchesUp=t,this.handlers.isWorklet[_s.TOUCHES_UP]=this.isWorklet(t),this}onTouchesCancelled(t){return this.config.needsPointerData=!0,this.handlers.onTouchesCancelled=t,this.handlers.isWorklet[_s.TOUCHES_CANCELLED]=this.isWorklet(t),this}enabled(t){return this.config.enabled=t,this}shouldCancelWhenOutside(t){return this.config.shouldCancelWhenOutside=t,this}hitSlop(t){return this.config.hitSlop=t,this}activeCursor(t){return this.config.activeCursor=t,this}mouseButton(t){return this.config.mouseButton=t,this}runOnJS(t){return this.config.runOnJS=t,this}simultaneousWithExternalGesture(...t){for(const e of t)this.addDependency("simultaneousWith",e);return this}requireExternalGestureToFail(...t){for(const e of t)this.addDependency("requireToFail",e);return this}blocksExternalGesture(...t){for(const e of t)this.addDependency("blocksHandlers",e);return this}withTestId(t){return this.config.testId=t,this}cancelsTouchesInView(t){return this.config.cancelsTouchesInView=t,this}initialize(){this.handlerTag=$i(),this.handlers={...this.handlers,handlerTag:this.handlerTag},this.config.ref&&(this.config.ref.current=this)}toGestureArray(){return[this]}prepare(){}get shouldUseReanimated(){return!0!==this.config.runOnJS&&!this.handlers.isWorklet.includes(!1)&&!function(){const t=i.g;return!(t.nativeCallSyncHook&&!t.__REMOTEDEV__||t.RN$Bridgeless)}()}}class Rs extends ks{onUpdate(t){return this.handlers.onUpdate=t,this.handlers.isWorklet[_s.UPDATE]=this.isWorklet(t),this}onChange(t){return this.handlers.onChange=t,this.handlers.isWorklet[_s.CHANGE]=this.isWorklet(t),this}manualActivation(t){return this.config.manualActivation=t,this}}try{bs=i(19727)}catch(Hn){bs=void 0}bs?.useSharedValue||(bs=void 0);const Gs={code:"function reactNativeGestureHandler_reanimatedWrapperJs1(){const{tagMessage}=this.__closure;console.warn(tagMessage('Please use newer version of react-native-reanimated in order to control state of the gestures.'));}"};void 0===bs||bs.setGestureState||(bs.setGestureState=function({_worklet_7298969188432_init_data:t,tagMessage:e}){const i=function(){console.warn(e("Please use newer version of react-native-reanimated in order to control state of the gestures."))};return i.__closure={tagMessage:e},i.__workletHash=7298969188432,i.__initData=t,i}({_worklet_7298969188432_init_data:Gs,tagMessage:h}));const xs=function({_worklet_4317557963300_init_data:t,CALLBACK_TYPE:e}){const i=function(t,i){switch(t){case e.BEGAN:return i.onBegin;case e.START:return i.onStart;case e.UPDATE:return i.onUpdate;case e.CHANGE:return i.onChange;case e.END:return i.onEnd;case e.FINALIZE:return i.onFinalize;case e.TOUCHES_DOWN:return i.onTouchesDown;case e.TOUCHES_MOVE:return i.onTouchesMove;case e.TOUCHES_UP:return i.onTouchesUp;case e.TOUCHES_CANCELLED:return i.onTouchesCancelled}};return i.__closure={CALLBACK_TYPE:e},i.__workletHash=4317557963300,i.__initData=t,i}({_worklet_4317557963300_init_data:{code:"function getHandler_reactNativeGestureHandler_useAnimatedGestureJs1(type,gesture){const{CALLBACK_TYPE}=this.__closure;switch(type){case CALLBACK_TYPE.BEGAN:return gesture.onBegin;case CALLBACK_TYPE.START:return gesture.onStart;case CALLBACK_TYPE.UPDATE:return gesture.onUpdate;case CALLBACK_TYPE.CHANGE:return gesture.onChange;case CALLBACK_TYPE.END:return gesture.onEnd;case CALLBACK_TYPE.FINALIZE:return gesture.onFinalize;case CALLBACK_TYPE.TOUCHES_DOWN:return gesture.onTouchesDown;case CALLBACK_TYPE.TOUCHES_MOVE:return gesture.onTouchesMove;case CALLBACK_TYPE.TOUCHES_UP:return gesture.onTouchesUp;case CALLBACK_TYPE.TOUCHES_CANCELLED:return gesture.onTouchesCancelled;}}"},CALLBACK_TYPE:_s}),Hs=function({_worklet_2039840524711_init_data:t,TouchEventType:e,CALLBACK_TYPE:i}){const s=function(t){switch(t){case e.TOUCHES_DOWN:return i.TOUCHES_DOWN;case e.TOUCHES_MOVE:return i.TOUCHES_MOVE;case e.TOUCHES_UP:return i.TOUCHES_UP;case e.TOUCHES_CANCELLED:return i.TOUCHES_CANCELLED}return i.UNDEFINED};return s.__closure={TouchEventType:e,CALLBACK_TYPE:i},s.__workletHash=2039840524711,s.__initData=t,s}({_worklet_2039840524711_init_data:{code:"function touchEventTypeToCallbackType_reactNativeGestureHandler_useAnimatedGestureJs2(eventType){const{TouchEventType,CALLBACK_TYPE}=this.__closure;switch(eventType){case TouchEventType.TOUCHES_DOWN:return CALLBACK_TYPE.TOUCHES_DOWN;case TouchEventType.TOUCHES_MOVE:return CALLBACK_TYPE.TOUCHES_MOVE;case TouchEventType.TOUCHES_UP:return CALLBACK_TYPE.TOUCHES_UP;case TouchEventType.TOUCHES_CANCELLED:return CALLBACK_TYPE.TOUCHES_CANCELLED;}return CALLBACK_TYPE.UNDEFINED;}"},TouchEventType:r,CALLBACK_TYPE:_s}),Ls=function({_worklet_5108402624264_init_data:t,getHandler:e,tagMessage:i}){const s=function(t,s,n,...r){const o=e(t,s);s.isWorklet[t]?o?.(n,...r):o&&console.warn(i("Animated gesture callback must be a worklet"))};return s.__closure={getHandler:e,tagMessage:i},s.__workletHash=5108402624264,s.__initData=t,s}({_worklet_5108402624264_init_data:{code:"function runWorklet_reactNativeGestureHandler_useAnimatedGestureJs3(type,gesture,event,...args){const{getHandler,tagMessage}=this.__closure;const handler=getHandler(type,gesture);if(gesture.isWorklet[type]){handler===null||handler===void 0||handler(event,...args);}else if(handler){console.warn(tagMessage('Animated gesture callback must be a worklet'));}}"},getHandler:xs,tagMessage:h}),Ys=function({_worklet_7889847699524_init_data:t}){const e=function(t){return null!=t.oldState};return e.__closure={},e.__workletHash=7889847699524,e.__initData=t,e}({_worklet_7889847699524_init_data:{code:"function isStateChangeEvent_reactNativeGestureHandler_useAnimatedGestureJs4(event){return event.oldState!=null;}"}}),Xs=function({_worklet_13087507825621_init_data:t}){const e=function(t){return null!=t.eventType};return e.__closure={},e.__workletHash=0xbe72c4143d5,e.__initData=t,e}({_worklet_13087507825621_init_data:{code:"function isTouchEvent_reactNativeGestureHandler_useAnimatedGestureJs5(event){return event.eventType!=null;}"}}),Fs={code:"function reactNativeGestureHandler_useAnimatedGestureJs6(event){const{sharedHandlersCallbacks,isStateChangeEvent,State,runWorklet,CALLBACK_TYPE,lastUpdateEvent,isTouchEvent,stateControllers,GestureStateManager,TouchEventType,touchEventTypeToCallbackType}=this.__closure;const currentCallback=sharedHandlersCallbacks.value;if(!currentCallback){return;}for(let i=0;i<currentCallback.length;i++){const gesture=currentCallback[i];if(event.handlerTag!==gesture.handlerTag){continue;}if(isStateChangeEvent(event)){if(event.oldState===State.UNDETERMINED&&event.state===State.BEGAN){runWorklet(CALLBACK_TYPE.BEGAN,gesture,event);}else if((event.oldState===State.BEGAN||event.oldState===State.UNDETERMINED)&&event.state===State.ACTIVE){runWorklet(CALLBACK_TYPE.START,gesture,event);lastUpdateEvent.value[gesture.handlerTag]=undefined;}else if(event.oldState!==event.state&&event.state===State.END){if(event.oldState===State.ACTIVE){runWorklet(CALLBACK_TYPE.END,gesture,event,true);}runWorklet(CALLBACK_TYPE.FINALIZE,gesture,event,true);}else if((event.state===State.FAILED||event.state===State.CANCELLED)&&event.state!==event.oldState){if(event.oldState===State.ACTIVE){runWorklet(CALLBACK_TYPE.END,gesture,event,false);}runWorklet(CALLBACK_TYPE.FINALIZE,gesture,event,false);}}else if(isTouchEvent(event)){if(!stateControllers[i]){stateControllers[i]=GestureStateManager.create(event.handlerTag);}if(event.eventType!==TouchEventType.UNDETERMINED){runWorklet(touchEventTypeToCallbackType(event.eventType),gesture,event,stateControllers[i]);}}else{runWorklet(CALLBACK_TYPE.UPDATE,gesture,event);if(gesture.onChange&&gesture.changeEventCalculator){var _gesture$changeEventC;runWorklet(CALLBACK_TYPE.CHANGE,gesture,(_gesture$changeEventC=gesture.changeEventCalculator)===null||_gesture$changeEventC===void 0?void 0:_gesture$changeEventC.call(gesture,event,lastUpdateEvent.value[gesture.handlerTag]));lastUpdateEvent.value[gesture.handlerTag]=event;}}}}"};const Us=function({_worklet_15895574323364_init_data:t}){const e=function(t,e){let i;return i=void 0===e?{changeX:t.x,changeY:t.y}:{changeX:t.x-e.x,changeY:t.y-e.y},{...t,...i}};return e.__closure={},e.__workletHash=0xe74fa0fa0a4,e.__initData=t,e}({_worklet_15895574323364_init_data:{code:"function changeEventCalculator_reactNativeGestureHandler_hoverGestureJs1(current,previous){let changePayload;if(previous===undefined){changePayload={changeX:current.x,changeY:current.y};}else{changePayload={changeX:current.x-previous.x,changeY:current.y-previous.y};}return{...current,...changePayload};}"}});class Vs extends Rs{config={};constructor(){super(),this.handlerName="HoverGestureHandler"}effect(t){return this.config.hoverEffect=t,this}onChange(t){return this.handlers.changeEventCalculator=Us,super.onChange(t)}}const Bs=[...q,...gs,...ys,...Ps,...Cs,...ms,...As,"hoverEffect",...Ss];function Ws(t){return"number"==typeof t?t:t instanceof ks?t.handlerTag:t.current?.handlerTag??-1}function qs(t){return t?.map(Ws)?.filter((t=>t>0))??[]}function zs(t){return{waitFor:qs(t.config.requireToFail),simultaneousHandlers:qs(t.config.simultaneousWith),blocksHandlers:qs(t.config.blocksHandlers)}}function Ks({preparedGesture:t,gestureConfig:e,gesturesToAttach:i,viewTag:s,webEventHandlersRef:n}){e.initialize(),oi((()=>{t.isMounted&&e.prepare()}));for(const r of i)Fi.createGestureHandler(r.handlerName,r.handlerTag,Ji(r.config,Bs)),v(r.handlerTag,r,r.config.testId);oi((()=>{if(t.isMounted){for(const t of i)Fi.updateGestureHandler(t.handlerTag,Ji(t.config,Bs,zs(t)));ts()}}));for(const r of i){const t=r.shouldUseReanimated?es:ns;"web"===ct.A.OS?Fi.attachGestureHandler(r.handlerTag,s,ss,n):Fi.attachGestureHandler(r.handlerTag,s,t),rs.gestureWillMount(r)}if(t.attachedGestures=i,t.animatedHandlers){const e=t=>t.shouldUseReanimated;t.animatedHandlers.value=i.filter(e).map((t=>t.handlers))}}function js(t,e){if(e.length!==t.attachedGestures.length)return!0;for(let i=0;i<e.length;i++)if(e[i].handlerName!==t.attachedGestures[i].handlerName||e[i].shouldUseReanimated!==t.attachedGestures[i].shouldUseReanimated)return!0;return!1}function $s(t){for(const e of t.attachedGestures)Fi.dropGestureHandler(e.handlerTag),g(e.handlerTag,e.config.testId),rs.gestureWillUnmount(e);ts()}const Js=(0,o.forwardRef)((({children:t},e)=>{try{const s=o.Children.only(t);if(i=s,!i.ref?.rngh&&("WebShape"===Object.getPrototypeOf(i?.type)?.name||at.has(i?.type?.displayName))){return o.cloneElement(s,{ref:e},s.props.children)}return(0,Wi.jsx)("div",{ref:e,style:{display:"contents"},children:s})}catch(Hn){throw new Error(h("GestureDetector got more than one view as a child. If you want the gesture to work on multiple views, wrap them with a common parent and attach the gesture to that view."))}var i})),Zs=Js;function Qs(t,e,i,s,n){const r=function(){const[t,e]=(0,o.useState)(!1);return(0,o.useCallback)((()=>{e(!t)}),[t,e])}(),a=(0,o.useCallback)((o=>{const a=ki(t.viewRef),h=a!==t.previousViewTag;h||js(e,i)?(t.viewRef,$s(e),Ks({preparedGesture:e,gestureConfig:s,gesturesToAttach:i,webEventHandlersRef:n,viewTag:a}),h&&(t.previousViewTag=a,t.forceRebuildReanimatedEvent=!0,r())):o||function(t,e,i){e.prepare();for(let n=0;n<i.length;n++){const e=t.attachedGestures[n];i[n].handlerTag!==e.handlerTag&&(i[n].handlerTag=e.handlerTag,i[n].handlers.handlerTag=e.handlerTag)}const s=t.attachedGestures;oi((()=>{if(!t.isMounted)return;if(s!==t.attachedGestures)return;let e=s.length!==i.length;for(let t=0;t<i.length;t++){const n=s[t];n.handlers.gestureId!==i[t].handlers.gestureId&&(i[t].shouldUseReanimated||n.shouldUseReanimated)&&(e=!0),n.config=i[t].config,n.handlers=i[t].handlers,Fi.updateGestureHandler(n.handlerTag,Ji(n.config,Bs,zs(n))),v(n.handlerTag,n,n.config.testId)}if(t.animatedHandlers&&e){const e=s.filter((t=>t.shouldUseReanimated)).map((t=>t.handlers));t.animatedHandlers.value=e}ts()}))}(e,s,i)}),[r,s,i,e,t,n]);return a}function tn(t,e){if(void 0===t)return!1;for(const i of Zi(t))if(i===e.handlerTag)return!0;return!1}const en=t=>{(0,o.useContext)(Bi);const e=t.gesture;!function(t,e){const i=["userSelect","enableContextMenu","touchAction"];for(const s of i){const i=t[s];if(void 0!==i)for(const t of e.toGestureArray())t.config[s]=i}}(t,e);const i=(0,o.useMemo)((()=>e.toGestureArray()),[e]),s=i.some((t=>t.shouldUseReanimated)),a=(0,o.useRef)({onGestureHandlerEvent:t=>{O(t.nativeEvent)},onGestureHandlerStateChange:_()?t=>{O(t.nativeEvent)}:void 0}),h=(0,o.useRef)({firstRender:!0,viewRef:null,previousViewTag:-1,forceRebuildReanimatedEvent:!1}).current,l=o.useRef({attachedGestures:[],animatedEventHandler:null,animatedHandlers:null,shouldUseReanimated:s,isMounted:!1}).current,u=Qs(h,l,i,e,a),c=function(t,e){return(0,o.useCallback)((i=>{null!==i&&(t.viewRef=i,-1===t.previousViewTag&&(t.previousViewTag=ki(t.viewRef)),t.firstRender||e(!0))}),[t,e])}(h,u),d=h.firstRender||h.forceRebuildReanimatedEvent||js(l,i);return h.forceRebuildReanimatedEvent=!1,function(t,e){if(!bs)return;const i=bs.useSharedValue(null),s=bs.useSharedValue([]),o=function({_worklet_615977787608_init_data:t,sharedHandlersCallbacks:e,isStateChangeEvent:i,State:s,runWorklet:n,CALLBACK_TYPE:r,lastUpdateEvent:o,isTouchEvent:a,stateControllers:h,GestureStateManager:l,TouchEventType:u,touchEventTypeToCallbackType:c}){const d=function(t){const d=e.value;if(d)for(let e=0;e<d.length;e++){const f=d[e];t.handlerTag===f.handlerTag&&(i(t)?t.oldState===s.UNDETERMINED&&t.state===s.BEGAN?n(r.BEGAN,f,t):t.oldState!==s.BEGAN&&t.oldState!==s.UNDETERMINED||t.state!==s.ACTIVE?t.oldState!==t.state&&t.state===s.END?(t.oldState===s.ACTIVE&&n(r.END,f,t,!0),n(r.FINALIZE,f,t,!0)):t.state!==s.FAILED&&t.state!==s.CANCELLED||t.state===t.oldState||(t.oldState===s.ACTIVE&&n(r.END,f,t,!1),n(r.FINALIZE,f,t,!1)):(n(r.START,f,t),o.value[f.handlerTag]=void 0):a(t)?(h[e]||(h[e]=l.create(t.handlerTag)),t.eventType!==u.UNDETERMINED&&n(c(t.eventType),f,t,h[e])):(n(r.UPDATE,f,t),f.onChange&&f.changeEventCalculator&&(n(r.CHANGE,f,f.changeEventCalculator?.(t,o.value[f.handlerTag])),o.value[f.handlerTag]=t)))}};return d.__closure={sharedHandlersCallbacks:e,isStateChangeEvent:i,State:s,runWorklet:n,CALLBACK_TYPE:r,lastUpdateEvent:o,isTouchEvent:a,stateControllers:h,GestureStateManager:l,TouchEventType:u,touchEventTypeToCallbackType:c},d.__workletHash=615977787608,d.__initData=t,d}({_worklet_615977787608_init_data:Fs,sharedHandlersCallbacks:i,isStateChangeEvent:Ys,State:n,runWorklet:Ls,CALLBACK_TYPE:_s,lastUpdateEvent:s,isTouchEvent:Xs,stateControllers:[],GestureStateManager:T,TouchEventType:r,touchEventTypeToCallbackType:Hs}),a=bs.useEvent(o,["onGestureHandlerStateChange","onGestureHandlerEvent"],e);t.animatedEventHandler=a,t.animatedHandlers=i}(l,d),(0,o.useLayoutEffect)((()=>{const t=ki(h.viewRef);return l.isMounted=!0,Ks({preparedGesture:l,gestureConfig:e,gesturesToAttach:i,webEventHandlersRef:a,viewTag:t}),()=>{l.isMounted=!1,$s(l)}}),[]),(0,o.useEffect)((()=>{h.firstRender?h.firstRender=!1:u()}),[t]),function(t,e){(0,o.useEffect)((()=>rs.addMountListener((i=>{for(const s of e.attachedGestures){const e=s.config.blocksHandlers,n=s.config.requireToFail,r=s.config.simultaneousWith;if(tn(e,i)||tn(n,i)||tn(r,i))return void t()}}))),[t,e])}(u,l),s?(0,Wi.jsx)(Zs,{ref:c,onGestureHandlerEvent:l.animatedEventHandler,children:t.children}):(0,Wi.jsx)(Js,{ref:c,children:t.children})};class sn extends ks{config={};constructor(){super(),this.handlerName="FlingGestureHandler"}numberOfPointers(t){return this.config.numberOfPointers=t,this}direction(t){return this.config.direction=t,this}}const nn=function({_worklet_6555184671956_init_data:t}){const e=function(t,e){let i;return i=void 0===e?{forceChange:t.force}:{forceChange:t.force-e.force},{...t,...i}};return e.__closure={},e.__workletHash=6555184671956,e.__initData=t,e}({_worklet_6555184671956_init_data:{code:"function changeEventCalculator_reactNativeGestureHandler_forceTouchGestureJs1(current,previous){let changePayload;if(previous===undefined){changePayload={forceChange:current.force};}else{changePayload={forceChange:current.force-previous.force};}return{...current,...changePayload};}"}});class rn extends Rs{config={};constructor(){super(),this.handlerName="ForceTouchGestureHandler"}minForce(t){return this.config.minForce=t,this}maxForce(t){return this.config.maxForce=t,this}feedbackOnActivation(t){return this.config.feedbackOnActivation=t,this}onChange(t){return this.handlers.changeEventCalculator=nn,super.onChange(t)}}function on(t,e){return void 0===t?[...e]:[...t,...e]}class an extends ws{gestures=[];simultaneousGestures=[];requireGesturesToFail=[];constructor(...t){super(),this.gestures=t}prepareSingleGesture(t,e,i){if(t instanceof ks){const s={...t.config};s.simultaneousWith=on(s.simultaneousWith,e),s.requireToFail=on(s.requireToFail,i),t.config=s}else t instanceof an&&(t.simultaneousGestures=e,t.requireGesturesToFail=i,t.prepare())}prepare(){for(const t of this.gestures)this.prepareSingleGesture(t,this.simultaneousGestures,this.requireGesturesToFail)}initialize(){for(const t of this.gestures)t.initialize()}toGestureArray(){return this.gestures.flatMap((t=>t.toGestureArray()))}}class hn extends an{prepare(){const t=this.gestures.map((t=>this.gestures.filter((e=>e!==t)).flatMap((t=>t.toGestureArray()))));for(let e=0;e<this.gestures.length;e++)this.prepareSingleGesture(this.gestures[e],t[e],this.requireGesturesToFail)}}class ln extends an{prepare(){const t=this.gestures.map((t=>t.toGestureArray()));let e=[];for(let i=0;i<this.gestures.length;i++)this.prepareSingleGesture(this.gestures[i],this.simultaneousGestures,this.requireGesturesToFail.concat(e)),e=e.concat(t[i])}}class un extends ks{config={};constructor(){super(),this.handlerName="LongPressGestureHandler",this.shouldCancelWhenOutside(!0)}minDuration(t){return this.config.minDurationMs=t,this}maxDistance(t){return this.config.maxDist=t,this}numberOfPointers(t){return this.config.numberOfPointers=t,this}}const cn=function({_worklet_6591024890621_init_data:t}){const e=function(t,e){let i;return i=void 0===e?{changeX:t.translationX,changeY:t.translationY}:{changeX:t.translationX-e.translationX,changeY:t.translationY-e.translationY},{...t,...i}};return e.__closure={},e.__workletHash=6591024890621,e.__initData=t,e}({_worklet_6591024890621_init_data:{code:"function changeEventCalculator_reactNativeGestureHandler_panGestureJs1(current,previous){let changePayload;if(previous===undefined){changePayload={changeX:current.translationX,changeY:current.translationY};}else{changePayload={changeX:current.translationX-previous.translationX,changeY:current.translationY-previous.translationY};}return{...current,...changePayload};}"}});class dn extends Rs{config={};constructor(){super(),this.handlerName="PanGestureHandler"}activeOffsetY(t){return Array.isArray(t)?(this.config.activeOffsetYStart=t[0],this.config.activeOffsetYEnd=t[1]):t<0?this.config.activeOffsetYStart=t:this.config.activeOffsetYEnd=t,this}activeOffsetX(t){return Array.isArray(t)?(this.config.activeOffsetXStart=t[0],this.config.activeOffsetXEnd=t[1]):t<0?this.config.activeOffsetXStart=t:this.config.activeOffsetXEnd=t,this}failOffsetY(t){return Array.isArray(t)?(this.config.failOffsetYStart=t[0],this.config.failOffsetYEnd=t[1]):t<0?this.config.failOffsetYStart=t:this.config.failOffsetYEnd=t,this}failOffsetX(t){return Array.isArray(t)?(this.config.failOffsetXStart=t[0],this.config.failOffsetXEnd=t[1]):t<0?this.config.failOffsetXStart=t:this.config.failOffsetXEnd=t,this}minPointers(t){return this.config.minPointers=t,this}maxPointers(t){return this.config.maxPointers=t,this}minDistance(t){return this.config.minDist=t,this}minVelocity(t){return this.config.minVelocity=t,this}minVelocityX(t){return this.config.minVelocityX=t,this}minVelocityY(t){return this.config.minVelocityY=t,this}averageTouches(t){return this.config.avgTouches=t,this}enableTrackpadTwoFingerGesture(t){return this.config.enableTrackpadTwoFingerGesture=t,this}activateAfterLongPress(t){return this.config.activateAfterLongPress=t,this}onChange(t){return this.handlers.changeEventCalculator=cn,super.onChange(t)}}const fn=function({_worklet_168466708215_init_data:t}){const e=function(t,e){let i;return i=void 0===e?{scaleChange:t.scale}:{scaleChange:t.scale/e.scale},{...t,...i}};return e.__closure={},e.__workletHash=168466708215,e.__initData=t,e}({_worklet_168466708215_init_data:{code:"function changeEventCalculator_reactNativeGestureHandler_pinchGestureJs1(current,previous){let changePayload;if(previous===undefined){changePayload={scaleChange:current.scale};}else{changePayload={scaleChange:current.scale/previous.scale};}return{...current,...changePayload};}"}});class pn extends Rs{constructor(){super(),this.handlerName="PinchGestureHandler"}onChange(t){return this.handlers.changeEventCalculator=fn,super.onChange(t)}}const vn=function({_worklet_3631609729009_init_data:t}){const e=function(t,e){let i;return i=void 0===e?{rotationChange:t.rotation}:{rotationChange:t.rotation-e.rotation},{...t,...i}};return e.__closure={},e.__workletHash=3631609729009,e.__initData=t,e}({_worklet_3631609729009_init_data:{code:"function changeEventCalculator_reactNativeGestureHandler_rotationGestureJs1(current,previous){let changePayload;if(previous===undefined){changePayload={rotationChange:current.rotation};}else{changePayload={rotationChange:current.rotation-previous.rotation};}return{...current,...changePayload};}"}});class gn extends Rs{constructor(){super(),this.handlerName="RotationGestureHandler"}onChange(t){return this.handlers.changeEventCalculator=vn,super.onChange(t)}}class En extends ks{config={};constructor(){super(),this.handlerName="TapGestureHandler",this.shouldCancelWhenOutside(!0)}minPointers(t){return this.config.minPointers=t,this}numberOfTaps(t){return this.config.numberOfTaps=t,this}maxDistance(t){return this.config.maxDist=t,this}maxDuration(t){return this.config.maxDurationMs=t,this}maxDelay(t){return this.config.maxDelayMs=t,this}maxDeltaX(t){return this.config.maxDeltaX=t,this}maxDeltaY(t){return this.config.maxDeltaY=t,this}}class mn extends ks{config={};constructor(){super(),this.handlerName="NativeViewGestureHandler"}shouldActivateOnStart(t){return this.config.shouldActivateOnStart=t,this}disallowInterruption(t){return this.config.disallowInterruption=t,this}}const Tn=function({_worklet_8341633256781_init_data:t}){const e=function(t,e){return t};return e.__closure={},e.__workletHash=8341633256781,e.__initData=t,e}({_worklet_8341633256781_init_data:{code:"function changeEventCalculator_reactNativeGestureHandler_manualGestureJs1(current,_previous){return current;}"}});class Cn extends Rs{constructor(){super(),this.handlerName="ManualGestureHandler"}onChange(t){return this.handlers.changeEventCalculator=Tn,super.onChange(t)}}const yn={Tap:()=>new En,Pan:()=>new dn,Pinch:()=>new pn,Rotation:()=>new gn,Fling:()=>new sn,LongPress:()=>new un,ForceTouch:()=>new rn,Native:()=>new mn,Manual:()=>new Cn,Hover:()=>new Vs,Race:(...t)=>new an(...t),Simultaneous:(...t)=>new hn(...t),Exclusive:(...t)=>new ln(...t)};var Pn=i(11340),An=i(23141);const Sn=Ds(o.forwardRef(((t,e)=>(0,Wi.jsx)(Vi.A,{ref:e,accessibilityRole:"button",...t}))),{shouldCancelWhenOutside:!1,shouldActivateOnStart:!1});let On=null;class Nn extends o.Component{static defaultProps={delayLongPress:600};constructor(t){super(t),this.lastActive=!1,this.longPressDetected=!1}handleEvent=({nativeEvent:t})=>{const{state:e,oldState:i,pointerInside:s}=t,r=s&&e===n.ACTIVE;r!==this.lastActive&&this.props.onActiveStateChange&&this.props.onActiveStateChange(r),!this.longPressDetected&&i===n.ACTIVE&&e!==n.CANCELLED&&this.lastActive&&this.props.onPress&&this.props.onPress(s),!this.lastActive&&e===("android"!==ct.A.OS?n.ACTIVE:n.BEGAN)&&s?(this.longPressDetected=!1,this.props.onLongPress&&(this.longPressTimeout=setTimeout(this.onLongPress,this.props.delayLongPress))):(e!==n.ACTIVE||s||void 0===this.longPressTimeout)&&(void 0===this.longPressTimeout||e!==n.END&&e!==n.CANCELLED&&e!==n.FAILED)||(clearTimeout(this.longPressTimeout),this.longPressTimeout=void 0),this.lastActive=r};onLongPress=()=>{this.longPressDetected=!0,this.props.onLongPress?.()};onHandlerStateChange=t=>{this.props.onHandlerStateChange?.(t),this.handleEvent(t)};onGestureEvent=t=>{this.props.onGestureEvent?.(t),this.handleEvent(t)};render(){const{rippleColor:t,style:e,...i}=this.props;null===On&&(On=l());const s=On?t:(0,Pn.A)(t??void 0);return(0,Wi.jsx)(Sn,{ref:this.props.innerRef,rippleColor:s,style:[e,"ios"===ct.A.OS&&{cursor:void 0}],...i,onGestureEvent:this.onGestureEvent,onHandlerStateChange:this.onHandlerStateChange})}}An.A.createAnimatedComponent(Nn);const In=o.forwardRef(((t,e)=>(0,Wi.jsx)(Nn,{innerRef:e,...t})));Ui.A.create({underlay:{position:"absolute",left:0,right:0,bottom:0,top:0}});o.Component;o.Component;const Dn=0,_n=1,wn=2;class bn extends o.Component{static defaultProps={delayLongPress:600,extraButtonProps:{rippleColor:"transparent",exclusive:!0}};longPressDetected=!1;pointerInside=!0;STATE=Dn;handlePressIn(){if(this.props.delayPressIn?this.pressInTimeout=setTimeout((()=>{this.moveToState(_n),this.pressInTimeout=null}),this.props.delayPressIn):this.moveToState(_n),this.props.onLongPress){const t=(this.props.delayPressIn||0)+(this.props.delayLongPress||0);this.longPressTimeout=setTimeout(this.onLongPressDetected,t)}}handleMoveOutside(){this.props.delayPressOut?this.pressOutTimeout=this.pressOutTimeout||setTimeout((()=>{this.moveToState(wn),this.pressOutTimeout=null}),this.props.delayPressOut):this.moveToState(wn)}handleGoToUndetermined(){clearTimeout(this.pressOutTimeout),this.props.delayPressOut?this.pressOutTimeout=setTimeout((()=>{this.STATE===Dn&&this.moveToState(_n),this.moveToState(Dn),this.pressOutTimeout=null}),this.props.delayPressOut):(this.STATE===Dn&&this.moveToState(_n),this.moveToState(Dn))}componentDidMount(){this.reset()}reset(){this.longPressDetected=!1,this.pointerInside=!0,clearTimeout(this.pressInTimeout),clearTimeout(this.pressOutTimeout),clearTimeout(this.longPressTimeout),this.pressOutTimeout=null,this.longPressTimeout=null,this.pressInTimeout=null}moveToState(t){t!==this.STATE&&(t===_n?this.props.onPressIn?.():t===wn?this.props.onPressOut?.():t===Dn&&(this.reset(),this.STATE===_n&&this.props.onPressOut?.()),this.props.onStateChange?.(this.STATE,t),this.STATE=t)}onGestureEvent=({nativeEvent:{pointerInside:t}})=>{this.pointerInside!==t&&(t?this.onMoveIn():this.onMoveOut()),this.pointerInside=t};onHandlerStateChange=({nativeEvent:t})=>{const{state:e}=t;if(e===n.CANCELLED||e===n.FAILED)this.moveToState(Dn);else if(e===("android"!==ct.A.OS?n.ACTIVE:n.BEGAN)&&this.STATE===Dn)this.handlePressIn();else if(e===n.END){const t=!this.longPressDetected&&this.STATE!==wn&&null===this.pressOutTimeout;this.handleGoToUndetermined(),t&&this.props.onPress?.()}};onLongPressDetected=()=>{this.longPressDetected=!0,this.props.onLongPress?.()};componentWillUnmount(){this.reset()}onMoveIn(){this.STATE===wn&&this.moveToState(_n)}onMoveOut(){clearTimeout(this.longPressTimeout),this.longPressTimeout=null,this.STATE===_n&&this.handleMoveOutside()}render(){const t=("number"==typeof this.props.hitSlop?{top:this.props.hitSlop,left:this.props.hitSlop,bottom:this.props.hitSlop,right:this.props.hitSlop}:this.props.hitSlop)??void 0,e={accessible:!1!==this.props.accessible,accessibilityLabel:this.props.accessibilityLabel,accessibilityHint:this.props.accessibilityHint,accessibilityRole:this.props.accessibilityRole,accessibilityState:this.props.accessibilityState,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,nativeID:this.props.nativeID,onLayout:this.props.onLayout};return(0,Wi.jsx)(In,{style:this.props.containerStyle,onHandlerStateChange:this.props.disabled?void 0:this.onHandlerStateChange,onGestureEvent:this.onGestureEvent,hitSlop:t,userSelect:this.props.userSelect,shouldActivateOnStart:this.props.shouldActivateOnStart,disallowInterruption:this.props.disallowInterruption,testID:this.props.testID,touchSoundDisabled:this.props.touchSoundDisabled??!1,enabled:!this.props.disabled,...this.props.extraButtonProps,children:(0,Wi.jsx)(An.A.View,{...e,style:this.props.style,children:this.props.children})})}}i(54211);o.Component;o.Component;var Mn=i(986),kn=i(85313),Rn=i(28313);Ds(Mn.A,{disallowInterruption:!1}),Ds(kn.A,{shouldCancelWhenOutside:!1,shouldActivateOnStart:!0,disallowInterruption:!0});const Gn=Ds(Rn.A);Ds(Vi.A);var xn=i(19979);o.Component;Ui.A.create({container:{overflow:"hidden"},leftActions:{...Ui.A.absoluteFillObject,flexDirection:xn.A.isRTL?"row-reverse":"row"},rightActions:{...Ui.A.absoluteFillObject,flexDirection:xn.A.isRTL?"row":"row-reverse"}});a();i(20160),i(4401),i(81011);o.Component;Ui.A.create({drawerContainer:{...Ui.A.absoluteFillObject,zIndex:1001,flexDirection:"row"},containerInFront:{...Ui.A.absoluteFillObject,zIndex:1002},containerOnBack:{...Ui.A.absoluteFillObject},main:{flex:1,zIndex:0,overflow:"hidden"},overlay:{...Ui.A.absoluteFillObject,zIndex:1e3}});N()}}]);