"use strict";(self.webpackChunkdocs_reanimated=self.webpackChunkdocs_reanimated||[]).push([[1918],{2940:(e,n,t)=>{t.d(n,{A:()=>a});const a="import React from 'react';\nimport { StyleSheet, View, Button } from 'react-native';\nimport Animated, {\n  useSharedValue,\n  useAnimatedStyle,\n  withTiming,\n  withRepeat,\n  cancelAnimation,\n} from 'react-native-reanimated';\n\ninterface AppProps {\n  width: number;\n}\n\nexport default function App({ width }: AppProps) {\n  const offset = useSharedValue<number>(width / 2 - 160);\n\n  const animatedStyles = useAnimatedStyle(() => ({\n    transform: [{ translateX: offset.value }],\n  }));\n\n  const startAnimation = () => {\n    offset.value = withRepeat(\n      withTiming(offset.value > 0 ? -width / 2 + 160 : width / 2 - 160, {\n        duration: 1500,\n      }),\n      -1,\n      true\n    );\n  };\n\n  React.useEffect(() => {\n    startAnimation();\n  }, []);\n\n  const handleCancelAnimation = () => {\n    // highlight-next-line\n    cancelAnimation(offset);\n  };\n\n  return (\n    <View style={styles.container}>\n      <Animated.View style={[styles.box, animatedStyles]} />\n      <View style={styles.row}>\n        <Button title=\"Cancel animation\" onPress={handleCancelAnimation} />\n        <Button title=\"Start animation\" onPress={startAnimation} />\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100%',\n  },\n  box: {\n    height: 120,\n    width: 120,\n    backgroundColor: '#b58df1',\n    borderRadius: 20,\n    marginBottom: 30,\n  },\n  row: {\n    flexDirection: 'row',\n    gap: 10,\n  },\n});\n"},12277:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>m});const a=JSON.parse('{"id":"core/cancelAnimation","title":"cancelAnimation","description":"cancelAnimation lets you cancel a running animation paired to a shared value.","source":"@site/versioned_docs/version-3.x/core/cancelAnimation.mdx","sourceDirName":"core","slug":"/core/cancelAnimation","permalink":"/react-native-reanimated/docs/core/cancelAnimation","draft":false,"unlisted":false,"editUrl":"https://github.com/software-mansion/react-native-reanimated/edit/main/packages/docs-reanimated/versioned_docs/version-3.x/core/cancelAnimation.mdx","tags":[],"version":"3.x","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"createAnimatedComponent","permalink":"/react-native-reanimated/docs/core/createAnimatedComponent"},"next":{"title":"Scroll","permalink":"/react-native-reanimated/docs/category/scroll"}}');var i=t(74848),r=t(28453),o=t(83409),s=t(2940);const l={sidebar_position:7},c="cancelAnimation",d={},m=[{value:"Reference",id:"reference",level:2},{value:"Arguments",id:"arguments",level:3},{value:"<code>sharedValue</code>",id:"sharedvalue",level:4},{value:"Returns",id:"returns",level:3},{value:"Example",id:"example",level:2},{value:"Remarks",id:"remarks",level:2},{value:"Platform compatibility",id:"platform-compatibility",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components},{Details:t,InteractiveExample:a,PlatformCompatibility:l}=n;return t||f("Details",!0),a||f("InteractiveExample",!0),l||f("PlatformCompatibility",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"cancelanimation",children:"cancelAnimation"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"cancelAnimation"})," lets you cancel a running animation paired to a ",(0,i.jsx)(n.a,{href:"/docs/fundamentals/glossary#shared-value",children:"shared value"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"import { cancelAnimation } from 'react-native-reanimated';\n\nfunction App() {\n  const offset = useSharedValue(100);\n\n  const handleCancel = () => {\n    // highlight-next-line\n    cancelAnimation(offset);\n  };\n}\n"})}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:"Type definitions"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"type SharedValue<T> = { value: T };\n\nfunction cancelAnimation<T>(sharedValue: SharedValue<T>): void;\n"})})]}),"\n",(0,i.jsx)(n.h3,{id:"arguments",children:"Arguments"}),"\n",(0,i.jsx)(n.h4,{id:"sharedvalue",children:(0,i.jsx)(n.code,{children:"sharedValue"})}),"\n",(0,i.jsxs)(n.p,{children:["The shared value of a running animation that you want to cancel. If no animation is running, the ",(0,i.jsx)(n.code,{children:"cancelAnimation"})," function does nothing."]}),"\n",(0,i.jsx)(n.h3,{id:"returns",children:"Returns"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"cancelAnimation"})," returns ",(0,i.jsx)(n.code,{children:"undefined"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"example",children:"Example"}),"\n","\n",(0,i.jsx)(a,{src:s.A,component:o.A}),"\n",(0,i.jsx)(n.h2,{id:"remarks",children:"Remarks"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["You can resume the animation by assigning the same animation (i.e. ",(0,i.jsx)(n.code,{children:"withSpring"}),", ",(0,i.jsx)(n.code,{children:"withTiming"}),") to the shared value again."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"platform-compatibility",children:"Platform compatibility"}),"\n",(0,i.jsx)(l,{android:!0,ios:!0,web:!0})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}function f(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},62257:(e,n,t)=>{t.d(n,{A:()=>c});var a=t(96540),i=t(72188),r=t(46413),o=t(78506),s=a.forwardRef(((e,n)=>{var t=e.accessibilityLabel,i=e.color,s=e.disabled,c=e.onPress,d=e.testID,m=e.title;return a.createElement(r.A,{accessibilityLabel:t,accessibilityRole:"button",disabled:s,focusable:!s,onPress:c,ref:n,style:[l.button,i&&{backgroundColor:i},s&&l.buttonDisabled],testID:d},a.createElement(o.A,{style:[l.text,s&&l.textDisabled]},m))}));s.displayName="Button";var l=i.A.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}});const c=s},83409:(e,n,t)=>{t.d(n,{A:()=>d});var a=t(96540),i=t(9176),r=t(62257),o=t(72188),s=t(55535),l=t(74848);const c={code:"function CancelAnimationTsx1(){const{offset}=this.__closure;return{transform:[{translateX:offset.value}]};}"};function d(e){let{width:n}=e;const t=(0,s.useSharedValue)(n/2-160),o=(0,s.useAnimatedStyle)(function(){const e=()=>({transform:[{translateX:t.value}]});return e.__closure={offset:t},e.__workletHash=4959159826752,e.__initData=c,e}()),d=()=>{t.value=(0,s.withRepeat)((0,s.withTiming)(t.value>0?-n/2+160:n/2-160,{duration:1500}),-1,!0)};a.useEffect((()=>{d()}),[]);return(0,l.jsxs)(i.A,{style:m.container,children:[(0,l.jsx)(s.default.View,{style:[m.box,o]}),(0,l.jsxs)(i.A,{style:m.row,children:[(0,l.jsx)(r.A,{title:"Cancel animation",onPress:()=>{(0,s.cancelAnimation)(t)}}),(0,l.jsx)(r.A,{title:"Start animation",onPress:d})]})]})}const m=o.A.create({container:{flex:1,alignItems:"center",justifyContent:"center",height:"100%"},box:{height:120,width:120,backgroundColor:"#b58df1",borderRadius:20,marginBottom:30},row:{flexDirection:"row",gap:10}})}}]);