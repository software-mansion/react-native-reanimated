"use strict";(globalThis.webpackChunkdocs_reanimated=globalThis.webpackChunkdocs_reanimated||[]).push([[8050],{14663:e=>{e.exports=JSON.parse('{"permalink":"/react-native-reanimated/examples/switch","source":"@site/blog/switch.md","title":"Switch","description":"A switch element is a user interface component that allows users to toggle between two or more states. It is commonly used to turn on/off a setting, enable/disable a feature, or select between options.","date":"2026-02-27T15:40:00.000Z","tags":[],"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"switch","title":"Switch"},"unlisted":false,"prevItem":{"title":"Slider","permalink":"/react-native-reanimated/examples/slider"}}')},16985:(e,n,t)=>{t.d(n,{A:()=>m});const o="collapseButton_X7H2",a="arrow_XdVJ";var r,i=t(39471);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},s.apply(null,arguments)}const l=({title:e,titleId:n,...t})=>i.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:12,height:7,fill:"none",viewBox:"0 0 12 7","aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,r||(r=i.createElement("path",{stroke:"#001A72",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m1 1 5 5 5-5"})));var u;function c(){return c=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},c.apply(null,arguments)}const d=({title:e,titleId:n,...t})=>i.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:12,height:7,fill:"none",viewBox:"0 0 12 7","aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,u||(u=i.createElement("path",{stroke:"#F8F9FF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m1 1 5 5 5-5"})));var h=t(10287),v=t(34164),p=t(47671);const m=({label:e,labelCollapsed:n,collapsed:t,onCollapse:r,className:i})=>{const{colorMode:s}=(0,h.G)();return(0,p.jsxs)("div",{className:(0,v.A)(o,i),"data-collapsed":t,onClick:()=>r(),children:["light"===s?(0,p.jsx)(l,{className:a}):(0,p.jsx)(d,{className:a}),(0,p.jsx)("button",{children:t?n:e})]})}},57038:(e,n,t)=>{t.d(n,{A:()=>te});var o=t(79855),a=t(75606),r=t(39471),i=t(42901),s=t(42805),l=()=>{};var u=function(){var e=!1;if(s.A)try{var n={};Object.defineProperty(n,"passive",{get:()=>(e=!0,!1)}),window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch(t){}return e}();function c(){return this.cancelBubble}function d(){return this.defaultPrevented}function h(e,n,t,o){var a=function(e){return null!=e&&(u?e:Boolean(e.capture))}(o),r=e=>{return t(((n=e).nativeEvent=n,n.persist=l,n.isDefaultPrevented=d,n.isPropagationStopped=c,n));var n};return e.addEventListener(n,r,a),function(){null!=e&&e.removeEventListener(n,r,a)}}var v,p,m="keyboard",f="keyboard",w=!1,g=new Set,b="keyboard",y="mouse",x="touch",A="contextmenu",k="mousedown",C="mousemove",S="mouseup",j="pointerdown",P="pointermove",_="scroll",E="selectionchange",T="touchcancel",V="touchmove",I="touchstart",L={passive:!0},O={capture:!0,passive:!0};function R(){null==v&&null==p||(null!=v&&(f=v,v=null),null!=p&&(m=p,p=null),D())}function B(e){var n=e.type;if("undefined"!=typeof window&&null!=window.PointerEvent){if(n===j)return void(m!==e.pointerType&&(f=e.pointerType,m=e.pointerType,D()));if(n===P)return void(f!==e.pointerType&&(f=e.pointerType,D()))}else{if(w||(n===k&&m!==y&&(f=y,m=y,D()),n===C&&f!==y&&(f=y,D())),n===I)return w=!0,e.touches&&e.touches.length>1&&(w=!1),void(m!==x&&(f=x,m=x,D()));n!==A&&n!==S&&n!==E&&n!==_&&n!==T&&n!==V||(w=!1)}}function D(){var e={activeModality:m,modality:f};g.forEach(n=>{n(e)})}s.A&&(h(window,"blur",function(){v=f,p=m,m=b,f=b,D(),w=!1},L),h(window,"focus",function(){R()},L),h(document,"keydown",function(e){e.metaKey||e.altKey||e.ctrlKey||f!==b&&(f=b,m=b,D())},O),h(document,"visibilitychange",function(){"hidden"!==document.visibilityState&&R()},O),h(document,j,B,O),h(document,P,B,O),h(document,A,B,O),h(document,k,B,O),h(document,C,B,O),h(document,S,B,O),h(document,T,B,O),h(document,V,B,O),h(document,I,B,O),h(document,E,B,O),h(document,_,B,O));var H=t(22562),M=t(79318);function N(e,n){var t=(0,M.A)(()=>new Map),o=(0,M.A)(()=>(o,a)=>{var r=t.get(o);null!=r&&r(),null==a&&(t.delete(o),a=()=>{});var i=h(o,e,a,n);return t.set(o,i),i});return(0,H.A)(()=>()=>{t.forEach(e=>{e()}),t.clear()},[t]),o}var F={},K={passive:!0},X="react-gui:hover:lock",J="react-gui:hover:unlock";function W(e,n,t){var o=document.createEvent("CustomEvent"),a=t||F,r=a.bubbles,i=void 0===r||r,s=a.cancelable,l=void 0===s||s,u=a.detail;o.initCustomEvent(n,i,l,u),e.dispatchEvent(o)}function G(e){var n=e.pointerType;return null!=n?n:f}function U(e,n){var t=n.contain,o=n.disabled,a=n.onHoverStart,r=n.onHoverChange,i=n.onHoverUpdate,s=n.onHoverEnd,l=!("undefined"==typeof window||null==window.PointerEvent),u=N(l?"pointermove":"mousemove",K),c=N(l?"pointerenter":"mouseenter",K),d=N(l?"pointerleave":"mouseleave",K),h=N(X,K),v=N(J,K);(0,H.A)(()=>{var n=e.current;if(null!==n){var l=function(e){null!=s&&s(e),null!=r&&r(!1),u(n,null),d(n,null)},p=function(n){var o=e.current;null!=o&&"touch"!==G(n)&&(t&&W(o,J),l(n))},m=function(e){"touch"!==G(e)&&null!=i&&(null==e.x&&(e.x=e.clientX),null==e.y&&(e.y=e.clientY),i(e))},f=function(e){null!=a&&a(e),null!=r&&r(!0),null!=i&&u(n,o?null:m),d(n,o?null:p)};c(n,o?null:function(n){var a=e.current;if(null!=a&&"touch"!==G(n)){t&&W(a,X),f(n);h(a,o?null:function(e){e.target!==a&&l(n)}),v(a,o?null:function(e){e.target!==a&&f(n)})}})}},[c,u,d,h,v,t,o,a,r,i,s,e])}var Y=t(94497),z=t(31721),Z=t(8589),q=["children","delayLongPress","delayPressIn","delayPressOut","disabled","onBlur","onContextMenu","onFocus","onHoverIn","onHoverOut","onKeyDown","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","tabIndex","testOnly_hovered","testOnly_pressed"];function Q(e,n){var t=e.children,s=e.delayLongPress,l=e.delayPressIn,u=e.delayPressOut,c=e.disabled,d=e.onBlur,h=e.onContextMenu,v=e.onFocus,p=e.onHoverIn,m=e.onHoverOut,f=e.onKeyDown,w=e.onLongPress,g=e.onPress,b=e.onPressMove,y=e.onPressIn,x=e.onPressOut,A=e.style,k=e.tabIndex,C=e.testOnly_hovered,S=e.testOnly_pressed,j=(0,a.A)(e,q),P=$(!0===C),_=P[0],E=P[1],T=$(!1),V=T[0],I=T[1],L=$(!0===S),O=L[0],R=L[1],B=(0,r.useRef)(null),D=(0,i.A)(n,B),H=(0,r.useMemo)(()=>({delayLongPress:s,delayPressStart:l,delayPressEnd:u,disabled:c,onLongPress:w,onPress:g,onPressChange:R,onPressStart:y,onPressMove:b,onPressEnd:x}),[s,l,u,c,w,g,y,b,x,R]),M=(0,Y.A)(B,H),N=M.onContextMenu,F=M.onKeyDown;U(B,{contain:!0,disabled:c,onHoverChange:E,onHoverStart:p,onHoverEnd:m});var K,X={hovered:_,focused:V,pressed:O},J=r.useCallback(e=>{e.nativeEvent.target===B.current&&(I(!1),null!=d&&d(e))},[B,I,d]),W=r.useCallback(e=>{e.nativeEvent.target===B.current&&(I(!0),null!=v&&v(e))},[B,I,v]),G=r.useCallback(e=>{null!=N&&N(e),null!=h&&h(e)},[h,N]),z=r.useCallback(e=>{null!=F&&F(e),null!=f&&f(e)},[f,F]);return K=void 0!==k?k:c?-1:0,r.createElement(Z.A,(0,o.A)({},j,M,{"aria-disabled":c,onBlur:J,onContextMenu:G,onFocus:W,onKeyDown:z,ref:D,style:[c?ee.disabled:ee.active,"function"==typeof A?A(X):A],tabIndex:K}),"function"==typeof t?t(X):t)}function $(e){var n=(0,r.useState)(!1);return[n[0]||e,n[1]]}var ee=z.A.create({active:{cursor:"pointer",touchAction:"manipulation"},disabled:{pointerEvents:"box-none"}}),ne=(0,r.memo)((0,r.forwardRef)(Q));ne.displayName="Pressable";const te=ne},64967:(e,n,t)=>{t.d(n,{A:()=>p});t(39471);var o=t(31721),a=t(90424),r=t(57038),i=t(90441),s=t(8589),l=t(66515),u=t(47671);const c={code:"function SwitchJs1(){const{interpolateColor,value,trackColors,withTiming,duration,height}=this.__closure;const color=interpolateColor(value.value,[0,1],[trackColors.off,trackColors.on]);const colorValue=withTiming(color,{duration:duration});return{backgroundColor:colorValue,borderRadius:height.value/2};}"},d={code:"function SwitchJs2(){const{interpolate,value,width,height,withTiming,duration}=this.__closure;const moveValue=interpolate(Number(value.value),[0,1],[0,width.value-height.value]);const translateValue=withTiming(moveValue,{duration:duration});return{transform:[{translateX:translateValue}],borderRadius:height.value/2};}"},h=({value:e,onPress:n,style:t,duration:o=400,trackColors:a={on:"#82cab2",off:"#fa7f7c"}})=>{const i=(0,l.useSharedValue)(0),s=(0,l.useSharedValue)(0),h=(0,l.useAnimatedStyle)(function({_worklet_1970655606697_init_data:e,interpolateColor:n,value:t,trackColors:o,withTiming:a,duration:r,height:i}){const s=function(){const e=n(t.value,[0,1],[o.off,o.on]);return{backgroundColor:a(e,{duration:r}),borderRadius:i.value/2}};return s.__closure={interpolateColor:n,value:t,trackColors:o,withTiming:a,duration:r,height:i},s.__workletHash=1970655606697,s.__initData=e,s}({_worklet_1970655606697_init_data:c,interpolateColor:l.interpolateColor,value:e,trackColors:a,withTiming:l.withTiming,duration:o,height:i})),p=(0,l.useAnimatedStyle)(function({_worklet_9540285382782_init_data:e,interpolate:n,value:t,width:o,height:a,withTiming:r,duration:i}){const s=function(){const e=n(Number(t.value),[0,1],[0,o.value-a.value]);return{transform:[{translateX:r(e,{duration:i})}],borderRadius:a.value/2}};return s.__closure={interpolate:n,value:t,width:o,height:a,withTiming:r,duration:i},s.__workletHash=9540285382782,s.__initData=e,s}({_worklet_9540285382782_init_data:d,interpolate:l.interpolate,value:e,width:s,height:i,withTiming:l.withTiming,duration:o}));return(0,u.jsx)(r.A,{onPress:n,children:(0,u.jsx)(l.default.View,{onLayout:e=>{i.value=e.nativeEvent.layout.height,s.value=e.nativeEvent.layout.width},style:[v.track,t,h],children:(0,u.jsx)(l.default.View,{style:[v.thumb,p]})})})},v=o.A.create({track:{alignItems:"flex-start",width:100,height:40,padding:5},thumb:{height:"100%",aspectRatio:1,backgroundColor:"white"}});function p(){const e=(0,l.useSharedValue)(!1),n=()=>{e.value=!e.value};return(0,u.jsxs)(i.A,{style:m.container,children:[(0,u.jsx)(h,{value:e,onPress:n,style:m.switch}),(0,u.jsx)(s.A,{style:m.buttonContainer,children:(0,u.jsx)(a.A,{onPress:n,title:"Click me"})})]})}const m=o.A.create({switch:{width:200,height:80,padding:10},container:{flex:1,height:300,alignItems:"center",justifyContent:"center"},buttonContainer:{paddingTop:"1rem",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}})},68924:(e,n,t)=>{t.d(n,{A:()=>o});const o="import React from 'react';\nimport {\n  Pressable,\n  SafeAreaView,\n  View,\n  StyleSheet,\n  Button,\n} from 'react-native';\nimport Animated, {\n  interpolate,\n  interpolateColor,\n  useAnimatedStyle,\n  useSharedValue,\n  withTiming,\n} from 'react-native-reanimated';\n\nconst Switch = ({\n  value,\n  onPress,\n  style,\n  duration = 400,\n  trackColors = { on: '#82cab2', off: '#fa7f7c' },\n}) => {\n  const height = useSharedValue(0);\n  const width = useSharedValue(0);\n\n  const trackAnimatedStyle = useAnimatedStyle(() => {\n    const color = interpolateColor(\n      value.value,\n      [0, 1],\n      [trackColors.off, trackColors.on]\n    );\n    const colorValue = withTiming(color, { duration });\n\n    return {\n      backgroundColor: colorValue,\n      borderRadius: height.value / 2,\n    };\n  });\n\n  const thumbAnimatedStyle = useAnimatedStyle(() => {\n    const moveValue = interpolate(\n      Number(value.value),\n      [0, 1],\n      [0, width.value - height.value]\n    );\n    const translateValue = withTiming(moveValue, { duration });\n\n    return {\n      transform: [{ translateX: translateValue }],\n      borderRadius: height.value / 2,\n    };\n  });\n\n  return (\n    <Pressable onPress={onPress}>\n      <Animated.View\n        onLayout={(e) => {\n          height.value = e.nativeEvent.layout.height;\n          width.value = e.nativeEvent.layout.width;\n        }}\n        style={[switchStyles.track, style, trackAnimatedStyle]}>\n        <Animated.View\n          style={[switchStyles.thumb, thumbAnimatedStyle]}></Animated.View>\n      </Animated.View>\n    </Pressable>\n  );\n};\n\nconst switchStyles = StyleSheet.create({\n  track: {\n    alignItems: 'flex-start',\n    width: 100,\n    height: 40,\n    padding: 5,\n  },\n  thumb: {\n    height: '100%',\n    aspectRatio: 1,\n    backgroundColor: 'white',\n  },\n});\n\nexport default function App() {\n  const isOn = useSharedValue(false);\n\n  const handlePress = () => {\n    isOn.value = !isOn.value;\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <Switch value={isOn} onPress={handlePress} style={styles.switch} />\n      <View style={styles.buttonContainer}>\n        <Button onPress={handlePress} title=\"Click me\" />\n      </View>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  switch: {\n    width: 200,\n    height: 80,\n    padding: 10,\n  },\n  container: {\n    flex: 1,\n    height: 300,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  buttonContainer: {\n    paddingTop: '1rem',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n"},88459:(e,n,t)=>{t.d(n,{A:()=>l});var o=t(39471),a=t(58670);const r={container:"container_oGcb",collapseButton:"collapseButton_YVdr"};var i=t(16985),s=t(47671);function l({src:e,showLines:n}){const[t,l]=(0,o.useState)(!0);if(!n)return(0,s.jsx)(a.A,{language:"jsx",children:e});const[u,c]=n,d=e.split("\n").slice(u,c+1).join("\n");return(0,s.jsxs)("div",{className:r.container,children:[(0,s.jsx)(i.A,{label:"Collapse the full code",labelCollapsed:"Expand the full code",collapsed:t,onCollapse:()=>l(!t),className:r.collapseButton}),(0,s.jsx)(a.A,{language:"jsx",children:t?d:e})]})}},90424:(e,n,t)=>{t.d(n,{A:()=>u});var o=t(39471),a=t(31721),r=t(21844),i=t(31071),s=o.forwardRef((e,n)=>{var t=e.accessibilityLabel,a=e.color,s=e.disabled,u=e.onPress,c=e.testID,d=e.title;return o.createElement(r.A,{accessibilityLabel:t,accessibilityRole:"button",disabled:s,focusable:!s,onPress:u,ref:n,style:[l.button,a&&{backgroundColor:a},s&&l.buttonDisabled],testID:c},o.createElement(i.A,{style:[l.text,s&&l.textDisabled]},d))});s.displayName="Button";var l=a.A.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}});const u=s},90441:(e,n,t)=>{t.d(n,{A:()=>v});var o=t(79855),a=t(75606),r=t(39471),i=t(31721),s=t(8589),l=t(42805),u=["style"],c=l.A&&window.CSS&&window.CSS.supports&&window.CSS.supports("top: constant(safe-area-inset-top)")?"constant":"env",d=r.forwardRef((e,n)=>{var t=e.style,i=(0,a.A)(e,u);return r.createElement(s.A,(0,o.A)({},i,{ref:n,style:[h.root,t]}))});d.displayName="SafeAreaView";var h=i.A.create({root:{paddingTop:c+"(safe-area-inset-top)",paddingRight:c+"(safe-area-inset-right)",paddingBottom:c+"(safe-area-inset-bottom)",paddingLeft:c+"(safe-area-inset-left)"}});const v=d},91180:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>u,metadata:()=>o,toc:()=>h});var o=t(14663),a=t(47671),r=t(30620),i=t(64967),s=t(68924),l=t(88459);const u={slug:"switch",title:"Switch"},c=void 0,d={authorsImageUrls:[]},h=[];function v(e){const n={a:"a",code:"code",p:"p",strong:"strong",...(0,r.R)(),...e.components},{ExampleVideo:t,InteractiveExample:o}=n;return t||m("ExampleVideo",!0),o||m("InteractiveExample",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"A switch element is a user interface component that allows users to toggle between two or more states. It is commonly used to turn on/off a setting, enable/disable a feature, or select between options."}),"\n","\n",(0,a.jsx)(o,{src:s.A,component:i.A}),"\n",(0,a.jsxs)(n.p,{children:["The following implementation of a switch relies on ",(0,a.jsx)(n.a,{href:"/docs/fundamentals/glossary#animatable-value",children:"animatable values"}),". Leveraging animatable values of color and position enables smooth transition between the two states."]}),"\n",(0,a.jsx)("samp",{id:"Switch",children:"Switch"}),"\n",(0,a.jsx)(l.A,{src:s.A,showLines:[26,52]}),"\n",(0,a.jsx)(t,{sources:{android:"/react-native-reanimated/recordings/examples/switch_android.mp4",ios:"/react-native-reanimated/recordings/examples/switch_ios.mov"}}),"\n",(0,a.jsxs)(n.p,{children:["We use the ",(0,a.jsx)(n.code,{children:"useSharedValue"})," hook to store the dimensions of the element, which allows for precise calculation of position changes during the animation. The hook is there to prevent unnecessary re-renders."]}),"\n",(0,a.jsx)(l.A,{src:s.A,showLines:[23,25]}),"\n",(0,a.jsxs)(n.p,{children:["The values are updated during the ",(0,a.jsx)(n.code,{children:"onLayout"})," event of the element."]}),"\n",(0,a.jsx)(l.A,{src:s.A,showLines:[56,61]}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.strong,{children:"Switch"})," component can represent any boolean value passed as a prop. The state dynamically adjusts based on the ",(0,a.jsx)(n.code,{children:"value"})," prop resulting in smooth transition animations. It enables passing any function using the ",(0,a.jsx)(n.code,{children:"onPress"})," prop. The ",(0,a.jsx)(n.code,{children:"duration"})," prop controls the duration of the animation. The ",(0,a.jsx)(n.code,{children:"style"})," and ",(0,a.jsx)(n.code,{children:"trackColors"})," props enable personalization."]}),"\n",(0,a.jsx)("samp",{id:"Switch",children:"Switch"}),"\n",(0,a.jsx)(l.A,{src:s.A,showLines:[16,67]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(v,{...e})}):v(e)}function m(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);