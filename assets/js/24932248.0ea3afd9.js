"use strict";(self.webpackChunkdocs_reanimated=self.webpackChunkdocs_reanimated||[]).push([[7097],{4768:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"api/animations/withSpring","title":"withSpring","description":"Starts a spring-based animation.","source":"@site/versioned_docs/version-2.x/api/animations/withSpring.md","sourceDirName":"api/animations","slug":"/api/animations/withSpring","permalink":"/react-native-reanimated/docs/2.x/api/animations/withSpring","draft":false,"unlisted":false,"editUrl":"https://github.com/software-mansion/react-native-reanimated/edit/main/packages/docs-reanimated/versioned_docs/version-2.x/api/animations/withSpring.md","tags":[],"version":"2.x","frontMatter":{"id":"withSpring","title":"withSpring","sidebar_label":"withSpring"},"sidebar":"docs","previous":{"title":"withSequence","permalink":"/react-native-reanimated/docs/2.x/api/animations/withSequence"},"next":{"title":"withTiming","permalink":"/react-native-reanimated/docs/2.x/api/animations/withTiming"}}');var r=t(47671),s=t(30620);const a={id:"withSpring",title:"withSpring",sidebar_label:"withSpring"},d=void 0,l={},c=[{value:"Arguments",id:"arguments",level:3},{value:"<code>toValue</code> [number | string]",id:"tovalue-number--string",level:4},{value:"<code>options</code> [object]",id:"options-object",level:4},{value:"<code>callback</code> [function](optional)",id:"callback-functionoptional",level:4},{value:"Returns",id:"returns",level:3},{value:"Example",id:"example",level:2}];function o(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Starts a spring-based animation."}),"\n",(0,r.jsx)(n.h3,{id:"arguments",children:"Arguments"}),"\n",(0,r.jsxs)(n.h4,{id:"tovalue-number--string",children:[(0,r.jsx)(n.code,{children:"toValue"})," [number | string]"]}),"\n",(0,r.jsxs)(n.p,{children:["The target value at which the spring should settle.\nIt can be specified as a color value by providing string like: ",(0,r.jsx)(n.code,{children:"rgba(255, 105, 180, 0)"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Currently supported formats are:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:'"rgb(r, g, b)"'})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:'"rgba(r, g, b, a)"'})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:'"hsl(h, s, l)"'})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:'"hsla(h, s, l, a)"'})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:'"#rgb"'})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:'"#rgba"'})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:'"#rrggbb"'})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:'"#rrggbbaa"'})}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"options-object",children:[(0,r.jsx)(n.code,{children:"options"})," [object]"]}),"\n",(0,r.jsx)(n.p,{children:"Object carrying spring configuration.\nAllowed parameters are listed below:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Options"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"damping"}),(0,r.jsx)(n.td,{children:"10"}),(0,r.jsx)(n.td,{children:"How hard the animation decelerates."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"mass"}),(0,r.jsx)(n.td,{children:"1"}),(0,r.jsx)(n.td,{children:"The weight of the spring. Reducing this value makes the animation faster."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"stiffness"}),(0,r.jsx)(n.td,{children:"100"}),(0,r.jsx)(n.td,{children:"How bouncy the animation is."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"overshootClamping"}),(0,r.jsx)(n.td,{children:"false"}),(0,r.jsx)(n.td,{children:"Whether the animation can bounce over the specified value."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"restDisplacementThreshold"}),(0,r.jsx)(n.td,{children:"0.01"}),(0,r.jsx)(n.td,{children:"The displacement below which the spring is considered to be at rest."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"restSpeedThreshold"}),(0,r.jsx)(n.td,{children:"2"}),(0,r.jsx)(n.td,{children:"The speed in pixels per second from which the spring is considered to be at rest."})]})]})]}),"\n",(0,r.jsxs)(n.h4,{id:"callback-functionoptional",children:[(0,r.jsx)(n.code,{children:"callback"})," [function](optional)"]}),"\n",(0,r.jsxs)(n.p,{children:["The provided function will be called when the animation is complete.\nIn case the animation is cancelled, the callback will receive ",(0,r.jsx)(n.code,{children:"false"})," as the argument, otherwise it will receive ",(0,r.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"returns",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:["This method returns an animation object. It can be either assigned directly to a Shared Value or can be used as a value for a style object returned from ",(0,r.jsx)(n.a,{href:"/docs/2.x/api/hooks/useAnimatedStyle",children:(0,r.jsx)(n.code,{children:"useAnimatedStyle"})}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",metastring:"{20}",children:"import Animated, {\n  useSharedValue,\n  withSpring,\n  useAnimatedStyle,\n  useAnimatedGestureHandler,\n} from 'react-native-reanimated';\nimport { PanGestureHandler } from 'react-native-gesture-handler';\n\nfunction App() {\n  const x = useSharedValue(0);\n\n  const gestureHandler = useAnimatedGestureHandler({\n    onStart: (_, ctx) => {\n      ctx.startX = x.value;\n    },\n    onActive: (event, ctx) => {\n      x.value = ctx.startX + event.translationX;\n    },\n    onEnd: (_) => {\n      x.value = withSpring(0);\n    },\n  });\n\n  const animatedStyle = useAnimatedStyle(() => {\n    return {\n      transform: [\n        {\n          translateX: x.value,\n        },\n      ],\n    };\n  });\n\n  return (\n    <PanGestureHandler onGestureEvent={gestureHandler}>\n      <Animated.View style={[styles.box, animatedStyle]} />\n    </PanGestureHandler>\n  );\n}\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},30620:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>d});var i=t(39471);const r={},s=i.createContext(r);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);