(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{102:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return r})),t.d(n,"metadata",(function(){return m})),t.d(n,"toc",(function(){return s})),t.d(n,"default",(function(){return d}));var a=t(3),i=t(8),o=(t(0),t(346)),r={id:"keyframeAnimations",title:"Keyframe Animations",sidebar_label:"Keyframe Animations"},m={unversionedId:"api/LayoutAnimations/keyframeAnimations",id:"api/LayoutAnimations/keyframeAnimations",isDocsHomePage:!1,title:"Keyframe Animations",description:"The document explains how you can define complex animation using simple and popular animation definitions schema - Keyframes.",source:"@site/docs/api/LayoutAnimations/KeyframeAnimations.md",slug:"/api/LayoutAnimations/keyframeAnimations",permalink:"/react-native-reanimated/docs/next/api/LayoutAnimations/keyframeAnimations",version:"current",sidebar_label:"Keyframe Animations",sidebar:"docs",previous:{title:"Exiting Animations",permalink:"/react-native-reanimated/docs/next/api/LayoutAnimations/exitAnimations"},next:{title:"Layout Transitions",permalink:"/react-native-reanimated/docs/next/api/LayoutAnimations/layoutTransitions"}},s=[{value:"How to define Keyframe animation?",id:"how-to-define-keyframe-animation",children:[{value:"1. Import Keyframe",id:"1-import-keyframe",children:[]},{value:"2. Create Keyframe object, define initial and final state",id:"2-create-keyframe-object-define-initial-and-final-state",children:[]},{value:"3. Add middle points",id:"3-add-middle-points",children:[]},{value:"4. Customize transitions using an easing function",id:"4-customize-transitions-using-an-easing-function",children:[]}]},{value:"How to use keyframe animations?",id:"how-to-use-keyframe-animations",children:[{value:"1. Choose Animated Component which entering or exiting you want to animate",id:"1-choose-animated-component-which-entering-or-exiting-you-want-to-animate",children:[]},{value:"2. Customize the animation",id:"2-customize-the-animation",children:[]},{value:"3. Make sure that your animated component is under an AnimatedLayout. If it&#39;s not then add AnimatedLayout somewhere above the component.",id:"3-make-sure-that-your-animated-component-is-under-an-animatedlayout-if-its-not-then-add-animatedlayout-somewhere-above-the-component",children:[]}]},{value:"Available modifiers",id:"available-modifiers",children:[{value:"duration",id:"duration",children:[]},{value:"delay",id:"delay",children:[]},{value:"withCallback",id:"withcallback",children:[]}]},{value:"Example",id:"example",children:[]}],c={toc:s};function d(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},c,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("p",null,"The document explains how you can define complex animation using simple and popular animation definitions schema - Keyframes."),Object(o.b)("h2",{id:"how-to-define-keyframe-animation"},"How to define Keyframe animation?"),Object(o.b)("h3",{id:"1-import-keyframe"},"1. Import Keyframe"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},"import { Keyframe } from 'react-native-reanimated';\n")),Object(o.b)("h3",{id:"2-create-keyframe-object-define-initial-and-final-state"},"2. Create Keyframe object, define initial and final state"),Object(o.b)("p",null,"In Keyframe's constructor pass object with definitions of your animation. Object keys should be within range ",Object(o.b)("inlineCode",{parentName:"p"},"0-100")," and correspond to animation progress,\nso to ",Object(o.b)("inlineCode",{parentName:"p"},"0")," assign the style, you want for your object at the beginning of the animation and to ",Object(o.b)("inlineCode",{parentName:"p"},"100")," assign the style you want for your object to have at the end of the animation."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},"import { Keyframe } from 'react-native-reanimated';\n\nconst keyframe = new Keyframe({\n    0: {\n      transform: [{ rotate: '0deg' }],\n    },\n    100: {\n      transform: [{ rotate: '45deg' }],\n    },\n  }\n")),Object(o.b)("p",null,"Instead of using ",Object(o.b)("inlineCode",{parentName:"p"},"0")," and ",Object(o.b)("inlineCode",{parentName:"p"},"100"),", you can define edge points using ",Object(o.b)("inlineCode",{parentName:"p"},"from")," and ",Object(o.b)("inlineCode",{parentName:"p"},"to")," keywords. The result will be the same."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},"import { Keyframe } from 'react-native-reanimated';\n\nconst keyframe = new Keyframe({\n    from: {\n      transform: [{ rotate: '0deg' }],\n    },\n    to: {\n      transform: [{ rotate: '45deg' }],\n    },\n  }\n")),Object(o.b)("p",null,"Providing keyframe ",Object(o.b)("inlineCode",{parentName:"p"},"0")," or ",Object(o.b)("inlineCode",{parentName:"p"},"from")," is required as it contains the initial state of the object you want to animate.\nMake sure you provided the initial value for all style properties you want to animate in other keyframes.\nRemember not to provide both ",Object(o.b)("inlineCode",{parentName:"p"},"0")," and ",Object(o.b)("inlineCode",{parentName:"p"},"from"),", or ",Object(o.b)("inlineCode",{parentName:"p"},"100")," and ",Object(o.b)("inlineCode",{parentName:"p"},"to")," keyframe as it will result in parsing conflict."),Object(o.b)("h3",{id:"3-add-middle-points"},"3. Add middle points"),Object(o.b)("p",null,"Between edge points, you can define middle points in which you want your object to have certain style properties.\nRemember that you can specify style only for those properties that you set the initial value in ",Object(o.b)("inlineCode",{parentName:"p"},"0")," or ",Object(o.b)("inlineCode",{parentName:"p"},"from")," keyframe.\nIf you want to animate transform style, make sure that all properties in the transformation array are in the same order in all keyframes."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},"import { Keyframe } from 'react-native-reanimated';\n\nconst keyframe = new Keyframe({\n    0: {\n      transform: [{ rotate: '0deg' }],\n    },\n    45: {\n      transform: [{ rotate: '100deg' }]\n    },\n    100: {\n      transform: [{ rotate: '45deg' }],\n    },\n  }\n")),Object(o.b)("h3",{id:"4-customize-transitions-using-an-easing-function"},"4. Customize transitions using an easing function"),Object(o.b)("p",null,"If easing property is not provided, it defaults to linear easing function."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},"import { Keyframe, Easing } from 'react-native-reanimated';\n\nconst keyframe = new Keyframe({\n    0: {\n      transform: [{ rotate: '0deg' }],\n    },\n    45: {\n      transform: [{ rotate: '100deg' }],\n      easing: Easing.exp,\n    },\n    100: {\n      transform: [{ rotate: '45deg' }],\n    },\n  }\n")),Object(o.b)("h2",{id:"how-to-use-keyframe-animations"},"How to use keyframe animations?"),Object(o.b)("p",null,"Currently, you can define animations using keyframes only for entry and exit animations. "),Object(o.b)("h3",{id:"1-choose-animated-component-which-entering-or-exiting-you-want-to-animate"},"1. Choose Animated Component which entering or exiting you want to animate"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},"    // AnimatedComponent - component created by createAnimatedComponent or imported from Reanimated\n    // keyframe - Keyframe object\n    <AnimatedComponent exiting={keyframe} />\n")),Object(o.b)("h3",{id:"2-customize-the-animation"},"2. Customize the animation"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},"    <AnimatedComponent exiting={keyframe.duration(3000).delay(200)} />\n")),Object(o.b)("h3",{id:"3-make-sure-that-your-animated-component-is-under-an-animatedlayout-if-its-not-then-add-animatedlayout-somewhere-above-the-component"},"3. Make sure that your animated component is under an AnimatedLayout. If it's not then add AnimatedLayout somewhere above the component."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},"    <AnimatedLayout> // +\n        <Text> sth </Text>\n        <AnimatedComponent exiting={keyframe.duration(3000).delay(200)} />\n    </AnimatedLayout> // +\n")),Object(o.b)("h2",{id:"available-modifiers"},"Available modifiers"),Object(o.b)("p",null,"The order of modifiers doesn't matter."),Object(o.b)("h3",{id:"duration"},"duration"),Object(o.b)("p",null,"default: 500\nHow long the animation should last."),Object(o.b)("h3",{id:"delay"},"delay"),Object(o.b)("p",null,"default: 0\nAllows to start with a specified delay."),Object(o.b)("h3",{id:"withcallback"},"withCallback"),Object(o.b)("p",null,"Allows to execute code when keyframe animation ends."),Object(o.b)("h2",{id:"example"},"Example"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},"export function KeyframeAnimation(): React.ReactElement {\n  const [show, setShow] = useState(false);\n\n  const enteringAnimation = new Keyframe({\n    0: {\n      originX: 50,\n      transform: [{ rotate: '45deg' }],\n    },\n    30: {\n      originX: 10,\n      transform: [{ rotate: '-90deg' }],\n    },\n    100: {\n      originX: 0,\n      transform: [{ rotate: '0deg' }],\n      easing: Easing.quad,\n    },\n  }).duration(2000);\n\n  const exitingAnimation = new Keyframe({\n    0: {\n      opacity: 1,\n      transform: [{ skewX: '0deg' }],\n    },\n    30: {\n      opacity: 0.5,\n      transform: [{ skewX: '40deg' }],\n      easing: Easing.exp,\n    },\n    100: {\n      opacity: 0,\n      transform: [{ skewX: '-10deg' }],\n    },\n  }).duration(2000);\n  \n  return (\n    <View style={{ flexDirection: 'column-reverse' }}>\n      <Button\n        title=\"animate\"\n        onPress={() => {\n          setShow((last) => !last);\n        }}\n      />\n      <View\n        style={{ height: 400, alignItems: 'center', justifyContent: 'center' }}>\n        {show && (\n          <AnimatedLayout>\n            <Animated.View\n              entering={enteringAnimation}\n              exiting={exitingAnimation}\n              style={{\n                height: 100,\n                width: 200,\n                backgroundColor: 'blue',\n                alignItems: 'center',\n                justifyContent: 'center',\n              }}\n            />\n          </AnimatedLayout>\n        )}\n      </View>\n    </View>\n  );\n}\n")),Object(o.b)("video",{src:"https://user-images.githubusercontent.com/48885911/125463255-04502655-3147-4d15-ae5b-f327666eadff.mov",controls:"controls",muted:"muted"}))}d.isMDXComponent=!0},346:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return f}));var a=t(0),i=t.n(a);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=i.a.createContext({}),d=function(e){var n=i.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):m(m({},n),e)),t},l=function(e){var n=d(e.components);return i.a.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},p=i.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,r=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),l=d(t),p=a,f=l["".concat(r,".").concat(p)]||l[p]||u[p]||o;return t?i.a.createElement(f,m(m({ref:n},c),{},{components:t})):i.a.createElement(f,m({ref:n},c))}));function f(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,r=new Array(o);r[0]=p;var m={};for(var s in n)hasOwnProperty.call(n,s)&&(m[s]=n[s]);m.originalType=e,m.mdxType="string"==typeof e?e:a,r[1]=m;for(var c=2;c<o;c++)r[c]=t[c];return i.a.createElement.apply(null,r)}return i.a.createElement.apply(null,t)}p.displayName="MDXCreateElement"}}]);