"use strict";(globalThis.webpackChunkdocs_reanimated=globalThis.webpackChunkdocs_reanimated||[]).push([[2479,4860,4947,7328,8165],{30620:(e,t,i)=>{i.d(t,{R:()=>r,x:()=>a});var n=i(39471);const s={},o=n.createContext(s);function r(e){const t=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(o.Provider,{value:t},e.children)}},57038:(e,t,i)=>{i.d(t,{A:()=>ie});var n=i(82195),s=i(21098),o=i(39471),r=i(42901),a=i(42805),l=()=>{};var h=function(){var e=!1;if(a.A)try{var t={};Object.defineProperty(t,"passive",{get:()=>(e=!0,!1)}),window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(i){}return e}();function u(){return this.cancelBubble}function d(){return this.defaultPrevented}function c(e,t,i,n){var s=function(e){return null!=e&&(h?e:Boolean(e.capture))}(n),o=e=>{return i(((t=e).nativeEvent=t,t.persist=l,t.isDefaultPrevented=d,t.isPropagationStopped=u,t));var t};return e.addEventListener(t,o,s),function(){null!=e&&e.removeEventListener(t,o,s)}}var m,g,f="keyboard",y="keyboard",p=!1,v=new Set,w="keyboard",I="mouse",S="touch",E="contextmenu",R="mousedown",C="mousemove",x="mouseup",b="pointerdown",L="pointermove",M="scroll",T="selectionchange",P="touchcancel",A="touchmove",D="touchstart",z={passive:!0},_={capture:!0,passive:!0};function O(){null==m&&null==g||(null!=m&&(y=m,m=null),null!=g&&(f=g,g=null),V())}function k(e){var t=e.type;if("undefined"!=typeof window&&null!=window.PointerEvent){if(t===b)return void(f!==e.pointerType&&(y=e.pointerType,f=e.pointerType,V()));if(t===L)return void(y!==e.pointerType&&(y=e.pointerType,V()))}else{if(p||(t===R&&f!==I&&(y=I,f=I,V()),t===C&&y!==I&&(y=I,V())),t===D)return p=!0,e.touches&&e.touches.length>1&&(p=!1),void(f!==S&&(y=S,f=S,V()));t!==E&&t!==x&&t!==T&&t!==M&&t!==P&&t!==A||(p=!1)}}function V(){var e={activeModality:f,modality:y};v.forEach(t=>{t(e)})}a.A&&(c(window,"blur",function(){m=y,g=f,f=w,y=w,V(),p=!1},z),c(window,"focus",function(){O()},z),c(document,"keydown",function(e){e.metaKey||e.altKey||e.ctrlKey||y!==w&&(y=w,f=w,V())},_),c(document,"visibilitychange",function(){"hidden"!==document.visibilityState&&O()},_),c(document,b,k,_),c(document,L,k,_),c(document,E,k,_),c(document,R,k,_),c(document,C,k,_),c(document,x,k,_),c(document,P,k,_),c(document,A,k,_),c(document,D,k,_),c(document,T,k,_),c(document,M,k,_));var H=i(22562),W=i(79318);function N(e,t){var i=(0,W.A)(()=>new Map),n=(0,W.A)(()=>(n,s)=>{var o=i.get(n);null!=o&&o(),null==s&&(i.delete(n),s=()=>{});var r=c(n,e,s,t);return i.set(n,r),r});return(0,H.A)(()=>()=>{i.forEach(e=>{e()}),i.clear()},[i]),n}var F={},K={passive:!0},B="react-gui:hover:lock",G="react-gui:hover:unlock";function q(e,t,i){var n=document.createEvent("CustomEvent"),s=i||F,o=s.bubbles,r=void 0===o||o,a=s.cancelable,l=void 0===a||a,h=s.detail;n.initCustomEvent(t,r,l,h),e.dispatchEvent(n)}function U(e){var t=e.pointerType;return null!=t?t:y}function j(e,t){var i=t.contain,n=t.disabled,s=t.onHoverStart,o=t.onHoverChange,r=t.onHoverUpdate,a=t.onHoverEnd,l=!("undefined"==typeof window||null==window.PointerEvent),h=N(l?"pointermove":"mousemove",K),u=N(l?"pointerenter":"mouseenter",K),d=N(l?"pointerleave":"mouseleave",K),c=N(B,K),m=N(G,K);(0,H.A)(()=>{var t=e.current;if(null!==t){var l=function(e){null!=a&&a(e),null!=o&&o(!1),h(t,null),d(t,null)},g=function(t){var n=e.current;null!=n&&"touch"!==U(t)&&(i&&q(n,G),l(t))},f=function(e){"touch"!==U(e)&&null!=r&&(null==e.x&&(e.x=e.clientX),null==e.y&&(e.y=e.clientY),r(e))},y=function(e){null!=s&&s(e),null!=o&&o(!0),null!=r&&h(t,n?null:f),d(t,n?null:g)};u(t,n?null:function(t){var s=e.current;if(null!=s&&"touch"!==U(t)){i&&q(s,B),y(t);c(s,n?null:function(e){e.target!==s&&l(t)}),m(s,n?null:function(e){e.target!==s&&y(t)})}})}},[u,h,d,c,m,i,n,s,o,r,a,e])}var Y=i(94497),X=i(31721),J=i(8589),Q=["children","delayLongPress","delayPressIn","delayPressOut","disabled","onBlur","onContextMenu","onFocus","onHoverIn","onHoverOut","onKeyDown","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","tabIndex","testOnly_hovered","testOnly_pressed"];function Z(e,t){var i=e.children,a=e.delayLongPress,l=e.delayPressIn,h=e.delayPressOut,u=e.disabled,d=e.onBlur,c=e.onContextMenu,m=e.onFocus,g=e.onHoverIn,f=e.onHoverOut,y=e.onKeyDown,p=e.onLongPress,v=e.onPress,w=e.onPressMove,I=e.onPressIn,S=e.onPressOut,E=e.style,R=e.tabIndex,C=e.testOnly_hovered,x=e.testOnly_pressed,b=(0,s.A)(e,Q),L=$(!0===C),M=L[0],T=L[1],P=$(!1),A=P[0],D=P[1],z=$(!0===x),_=z[0],O=z[1],k=(0,o.useRef)(null),V=(0,r.A)(t,k),H=(0,o.useMemo)(()=>({delayLongPress:a,delayPressStart:l,delayPressEnd:h,disabled:u,onLongPress:p,onPress:v,onPressChange:O,onPressStart:I,onPressMove:w,onPressEnd:S}),[a,l,h,u,p,v,I,w,S,O]),W=(0,Y.A)(k,H),N=W.onContextMenu,F=W.onKeyDown;j(k,{contain:!0,disabled:u,onHoverChange:T,onHoverStart:g,onHoverEnd:f});var K,B={hovered:M,focused:A,pressed:_},G=o.useCallback(e=>{e.nativeEvent.target===k.current&&(D(!1),null!=d&&d(e))},[k,D,d]),q=o.useCallback(e=>{e.nativeEvent.target===k.current&&(D(!0),null!=m&&m(e))},[k,D,m]),U=o.useCallback(e=>{null!=N&&N(e),null!=c&&c(e)},[c,N]),X=o.useCallback(e=>{null!=F&&F(e),null!=y&&y(e)},[y,F]);return K=void 0!==R?R:u?-1:0,o.createElement(J.A,(0,n.A)({},b,W,{"aria-disabled":u,onBlur:G,onContextMenu:U,onFocus:q,onKeyDown:X,ref:V,style:[u?ee.disabled:ee.active,"function"==typeof E?E(B):E],tabIndex:K}),"function"==typeof i?i(B):i)}function $(e){var t=(0,o.useState)(!1);return[t[0]||e,t[1]]}var ee=X.A.create({active:{cursor:"pointer",touchAction:"manipulation"},disabled:{pointerEvents:"box-none"}}),te=(0,o.memo)((0,o.forwardRef)(Z));te.displayName="Pressable";const ie=te},81223:(e,t,i)=>{i.d(t,{J6:()=>ae});var n=i(11115);let s;const o="You can set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold. Specifying both is not supported.",r="FlashList v2 is only supported on new architecture",a="LayoutManager is not initialized, layout info is unavailable",l="LayoutManager is not initialized, child container layout is unavailable",h="LayoutManager is not initialized, window size is unavailable",u="Horizontal prop cannot be toggled, you can use a key on FlashList to recreate it.",d="LayoutManager is not initialized, visible indices are not unavailable",c="Masonry and horizontal props are incompatible",m="numColumns and horizontal props are incompatible",g="index out of bounds, not enough layouts",f="Sticky headers are not supported when list is horizontal";var y=i(39471),p=i(38923),v=i(19979);const w="keyExtractor is not defined. This might cause the animations to not work as expected.",I="keyExtractor is not defined, maintainVisibleContentPosition may not work as expected.",S="Exceeded max renders without commit. This might mean that you have duplicate keys in your keyExtractor output or your list is nested in a ScrollView causing a lot of items to render at once. If it's none of those and is causing a real issue or error, consider reporing this on FlashList Github";function E(e,t){return!R(e,t)}function R(e,t){return Math.abs(e-t)<=1}const C=(0,y.createContext)(void 0),x=C.Provider;function b(){return(0,y.useContext)(C)}function L(e){const[t,i]=(0,y.useState)(e),n=b();return[t,(0,y.useCallback)((e,t)=>{i(t=>"function"==typeof e?e(t):e),t||null==n||n.layout()},[n])]}const M=class{constructor(e,t){this.possiblyViewableIndices=[],this.hasInteracted=!1,this.viewableIndices=[],this.lastReportedViewableIndices=[],this.timers=new Set,this.viewabilityConfig=e,this.viewableIndicesChanged=t}dispose(){this.timers.forEach(clearTimeout)}updateViewableItems(e,t,i,n,s){var r,a,l,h,u,d,c,m;if(void 0!==s&&(this.possiblyViewableIndices=s),null!==(null===(r=this.viewabilityConfig)||void 0===r?void 0:r.itemVisiblePercentThreshold)&&void 0!==(null===(a=this.viewabilityConfig)||void 0===a?void 0:a.itemVisiblePercentThreshold)&&null!==(null===(l=this.viewabilityConfig)||void 0===l?void 0:l.viewAreaCoveragePercentThreshold)&&void 0!==(null===(h=this.viewabilityConfig)||void 0===h?void 0:h.viewAreaCoveragePercentThreshold))throw new Error(o);if(null!==(d=null===(u=this.viewabilityConfig)||void 0===u?void 0:u.waitForInteraction)&&void 0!==d&&d&&!this.hasInteracted)return;const g=this.possiblyViewableIndices.filter(s=>{var o,r;return this.isItemViewable(s,e,t,i,null===(o=this.viewabilityConfig)||void 0===o?void 0:o.viewAreaCoveragePercentThreshold,null===(r=this.viewabilityConfig)||void 0===r?void 0:r.itemVisiblePercentThreshold,n)});this.viewableIndices=g;const f=null!==(m=null===(c=this.viewabilityConfig)||void 0===c?void 0:c.minimumViewTime)&&void 0!==m?m:250;if(f>0){const e=setTimeout(()=>{this.timers.delete(e),this.checkViewableIndicesChanges(g)},f);this.timers.add(e)}else this.checkViewableIndicesChanges(g)}checkViewableIndicesChanges(e){const t=e.filter(e=>this.viewableIndices.includes(e)),i=t.filter(e=>!this.lastReportedViewableIndices.includes(e)),n=this.lastReportedViewableIndices.filter(e=>!t.includes(e));(i.length>0||n.length>0)&&(this.lastReportedViewableIndices=t,this.viewableIndicesChanged(t,i,n))}clearLastReportedViewableIndices(){this.lastReportedViewableIndices=[]}isItemViewable(e,t,i,n,s,o,r){const a=r(e);if(void 0===a)return!1;const l=(t?a.x:a.y)-i,h=t?a.width:a.height,u=t?n.width:n.height,d=Math.min(l+h,u)-Math.max(l,0);if(d===h)return!0;if(0===d)return!1;const c=null!=s;return(c?d/u:d/h)>=(c?.01*s:.01*(null!=o?o:0))}};class T{constructor(e){var t;this.viewabilityHelpers=[],this.hasInteracted=!1,this.dispose=()=>{this.viewabilityHelpers.forEach(e=>e.dispose())},this.onVisibleIndicesChanged=e=>{this.updateViewableItems(e)},this.recordInteraction=()=>{this.hasInteracted||(this.hasInteracted=!0,this.viewabilityHelpers.forEach(e=>{e.hasInteracted=!0}),this.updateViewableItems())},this.updateViewableItems=e=>{var t;const i=this.rvManager.getWindowSize();if(void 0===i||!this.shouldListenToVisibleIndices)return;const n=(null!==(t=this.rvManager.getAbsoluteLastScrollOffset())&&void 0!==t?t:0)-this.rvManager.firstItemOffset;this.viewabilityHelpers.forEach(t=>{var s;t.updateViewableItems(null!==(s=this.rvManager.props.horizontal)&&void 0!==s&&s,n,i,e=>this.rvManager.getLayout(e),e)})},this.recomputeViewableItems=()=>{this.viewabilityHelpers.forEach(e=>e.clearLastReportedViewableIndices()),this.updateViewableItems()},this.createViewabilityHelper=(e,t)=>{const i=(e,t)=>{const i=this.rvManager.props.data[e],n=void 0===i||void 0===this.rvManager.props.keyExtractor?e.toString():this.rvManager.props.keyExtractor(i,e);return{index:e,isViewable:t,item:i,key:n,timestamp:Date.now()}};return new M(e,(e,n,s)=>{null==t||t({viewableItems:e.map(e=>i(e,!0)),changed:[...n.map(e=>i(e,!0)),...s.map(e=>i(e,!1))]})})},this.rvManager=e,null!==e.props.onViewableItemsChanged&&void 0!==e.props.onViewableItemsChanged&&this.viewabilityHelpers.push(this.createViewabilityHelper(e.props.viewabilityConfig,t=>{var i,n;null===(n=(i=e.props).onViewableItemsChanged)||void 0===n||n.call(i,t)})),(null!==(t=e.props.viewabilityConfigCallbackPairs)&&void 0!==t?t:[]).forEach((t,i)=>{this.viewabilityHelpers.push(this.createViewabilityHelper(t.viewabilityConfig,t=>{var n,s;const o=null===(s=null===(n=e.props.viewabilityConfigCallbackPairs)||void 0===n?void 0:n[i])||void 0===s?void 0:s.onViewableItemsChanged;null==o||o(t)}))})}get shouldListenToVisibleIndices(){return this.viewabilityHelpers.length>0}}class P{constructor(e,t){this.nextIndex=0,this.inputValues=new Array(Math.max(1,e)),this.currentAverage=null!=t?t:0,this.currentCount=void 0===t?0:1,this.nextIndex=this.currentCount,this.inputValues[0]=t}get currentValue(){return this.currentAverage}addValue(e){const t=this.getNextIndex(),i=this.inputValues[t],n=void 0===i?this.currentCount+1:this.currentCount;this.inputValues[t]=e,this.currentAverage=this.currentAverage*(this.currentCount/n)+(e-(null!=i?i:0))/n,this.currentCount=n}getNextIndex(){const e=this.nextIndex;return this.nextIndex=(this.nextIndex+1)%this.inputValues.length,e}}class A{constructor(e,t){this.averageWindows=new Map,this.windowSize=e,this.defaultValue=t}addValue(e,t){let i=this.averageWindows.get(t);i||(i=new P(this.windowSize),this.averageWindows.set(t,i)),i.addValue(e)}getCurrentValue(e){var t,i;const n=this.averageWindows.get(e);return null!==(i=null!==(t=null==n?void 0:n.currentValue)&&void 0!==t?t:this.defaultValue)&&void 0!==i?i:0}reset(){this.averageWindows.clear()}}class D{constructor(e,t){this.startIndex=e,this.endIndex=t}get length(){return Math.max(0,this.endIndex-this.startIndex+1)}at(e){return this.startIndex+e}equals(e){return this.startIndex===e.startIndex&&this.endIndex===e.endIndex}toArray(){if(0===this.length)return[];const e=new Array(this.length);for(let t=0;t<this.length;t++)e[t]=this.startIndex+t;return e}includes(e){return e>=this.startIndex&&e<=this.endIndex}indexOf(e){return this.includes(e)?e-this.startIndex:-1}findValue(e){for(let t=0;t<this.length;t++){const i=this.startIndex+t;if(e(i,t,this))return i}}every(e){for(let t=0;t<this.length;t++){if(!e(this.startIndex+t,t,this))return!1}return!0}slice(e=0,t=this.length){const i=this.startIndex+e,n=this.startIndex+Math.min(t,this.length)-1;return new D(i,Math.max(i-1,n))}*[Symbol.iterator](){for(let e=this.startIndex;e<=this.endIndex;e++)yield e}}function z(e,t,i,n){let s=0,o=e.length-1,r=-1;for(;s<=o;){const a=Math.floor((s+o)/2),l=e[a],h=i?l.x:l.y,u=i?l.width:l.height;n?h>=t||h+u>t?(r=a,o=a-1):s=a+1:h<=t?(r=a,s=a+1):o=a-1}return r}D.EMPTY=new D(-1,-2);class _{constructor(e,t){var i,n;this.requiresRepaint=!1,this.maxItemsToProcess=250,this.spanSizeInfo={},this.spanTracker=[],this.currentMaxIndexWithChangedLayout=-1,this.lastSkippedLayoutIndex=Number.MAX_VALUE,this.heightAverageWindow=new A(5,200),this.widthAverageWindow=new A(5,200),this.getItemType=e.getItemType,this.overrideItemLayout=e.overrideItemLayout,this.layouts=null!==(i=null==t?void 0:t.layouts)&&void 0!==i?i:[],t?this.updateLayoutParams(e):(this.horizontal=Boolean(e.horizontal),this.windowSize=e.windowSize,this.maxColumns=null!==(n=e.maxColumns)&&void 0!==n?n:1)}getEstimatedWidth(e){return this.widthAverageWindow.getCurrentValue(this.getItemType(e))}getEstimatedHeight(e){return this.heightAverageWindow.getCurrentValue(this.getItemType(e))}isHorizontal(){return this.horizontal}getWindowsSize(){return this.windowSize}getVisibleLayouts(e,t){const i=(n=this.layouts,s=e,o=this.horizontal,z(n,s,o,!0));var n,s,o;const r=function(e,t,i){return z(e,t,i,!1)}(this.layouts,t,this.horizontal);return-1!==i&&-1!==r?new D(i,r):D.EMPTY}deleteLayout(e){e.sort((e,t)=>t-e);for(const i of e)this.layouts.splice(i,1);const t=Math.min(...e);this._recomputeLayouts(this.getMinRecomputeIndex(t),this.getMaxRecomputeIndex(t))}modifyLayout(e,t){var i;this.maxItemsToProcess=Math.max(this.maxItemsToProcess,10*e.length);let n=Number.MAX_VALUE;if(this.layouts.length>t&&(this.layouts.length=t,this.spanTracker.length=t,n=t-1),n=Math.min(n,this.computeEstimatesAndMinMaxChangedLayout(e)),this.layouts.length<t&&t>0){const e=this.layouts.length;this.layouts.length=t,this.spanTracker.length=t;for(let i=e;i<t;i++)this.getLayout(i),this.getSpan(i);this.recomputeLayouts(e,t-1)}if(n=Math.min(n,this.lastSkippedLayoutIndex,this.computeMinIndexWithChangedSpan(e),null!==(i=this.processLayoutInfo(e,t))&&void 0!==i?i:n,this.computeEstimatesAndMinMaxChangedLayout(e)),n>=0&&n<t){const e=this.getMaxRecomputeIndex(n);this._recomputeLayouts(n,e)}this.currentMaxIndexWithChangedLayout=-1}getLayout(e){if(e>=this.layouts.length)throw new Error(g);let t=this.layouts[e];return t||(t={x:0,y:0,width:0,height:0},this.layouts[e]=t),t.isWidthMeasured&&t.isHeightMeasured||this.estimateLayout(e),t}updateLayoutParams(e){var t,i,n;this.windowSize=e.windowSize,this.horizontal=null!==(t=e.horizontal)&&void 0!==t?t:this.horizontal,this.maxColumns=null!==(i=e.maxColumns)&&void 0!==i?i:this.maxColumns,this.optimizeItemArrangement=null!==(n=e.optimizeItemArrangement)&&void 0!==n?n:this.optimizeItemArrangement}getLayoutCount(){return this.layouts.length}getSpan(e,t=!1){var i;this.spanSizeInfo.span=void 0,this.overrideItemLayout(e,this.spanSizeInfo);const n=Math.min(null!==(i=this.spanSizeInfo.span)&&void 0!==i?i:1,this.maxColumns);return t||(this.spanTracker[e]=n),n}handleSpanChange(e){}getMaxRecomputeIndex(e){return Math.min(Math.max(e,this.currentMaxIndexWithChangedLayout)+this.maxItemsToProcess,this.layouts.length-1)}getMinRecomputeIndex(e){return e}_recomputeLayouts(e,t){if(this.recomputeLayouts(e,t),this.lastSkippedLayoutIndex>=e&&this.lastSkippedLayoutIndex<=t&&(this.lastSkippedLayoutIndex=Number.MAX_VALUE),t+1<this.layouts.length){this.lastSkippedLayoutIndex=Math.min(t+1,this.lastSkippedLayoutIndex);const e=this.layouts.length-1;this.layouts[e].y<this.layouts[t].y&&(this.recomputeLayouts(this.lastSkippedLayoutIndex,e),this.lastSkippedLayoutIndex=Number.MAX_VALUE)}}computeEstimatesAndMinMaxChangedLayout(e){let t=Number.MAX_VALUE;for(const i of e){const{index:e,dimensions:n}=i,s=this.layouts[e];(e>=this.lastSkippedLayoutIndex||!s||!s.isHeightMeasured||!s.isWidthMeasured||E(s.height,n.height)||E(s.width,n.width))&&(t=Math.min(t,e),this.currentMaxIndexWithChangedLayout=Math.max(this.currentMaxIndexWithChangedLayout,e)),this.heightAverageWindow.addValue(n.height,this.getItemType(e)),this.widthAverageWindow.addValue(n.width,this.getItemType(e))}return t}computeMinIndexWithChangedSpan(e){let t=Number.MAX_VALUE;for(const i of e){const{index:e}=i,n=this.getSpan(e,!0);n!==this.spanTracker[e]&&(this.spanTracker[e]=n,this.handleSpanChange(e),t=Math.min(t,e))}return t}}class O extends _{constructor(e,t){super(e,t),this.fullRelayoutRequired=!1,this.boundedSize=e.windowSize.width}updateLayoutParams(e){const t=this.maxColumns;super.updateLayoutParams(e),this.boundedSize===e.windowSize.width&&t===e.maxColumns||(this.boundedSize=e.windowSize.width,this.layouts.length>0&&(this.updateAllWidths(),this.recomputeLayouts(0,this.layouts.length-1),this.requiresRepaint=!0))}processLayoutInfo(e,t){for(const i of e){const{index:e,dimensions:t}=i,n=this.layouts[e];n.height=t.height,n.isHeightMeasured=!0,n.isWidthMeasured=!0}if(this.fullRelayoutRequired)return this.updateAllWidths(),this.fullRelayoutRequired=!1,0}estimateLayout(e){const t=this.layouts[e];t.width=this.getWidth(e),t.height=this.getEstimatedHeight(e),t.isWidthMeasured=!0,t.enforcedWidth=!0}handleSpanChange(e){this.fullRelayoutRequired=!0}getLayoutSize(){if(0===this.layouts.length)return{width:0,height:0};const e=this.computeTotalHeightTillRow(this.layouts.length-1);return{width:this.boundedSize,height:e}}recomputeLayouts(e,t){const i=this.locateFirstIndexInRow(Math.max(0,e-1)),n=this.getLayout(i);let s=n.x,o=n.y;for(let r=i;r<=t;r++){const e=this.getLayout(r);if(!this.checkBounds(s,e.width)){const e=this.processAndReturnTallestItemInRow(r-1);o=e.y+e.height,s=0}e.x=s,e.y=o,s+=e.width}t===this.layouts.length-1&&this.processAndReturnTallestItemInRow(t)}getWidth(e){return this.boundedSize/this.maxColumns*this.getSpan(e)}processAndReturnTallestItemInRow(e){var t,i;const n=this.locateFirstIndexInRow(e);let s,o=0,r=n,a=!1;for(;r<=e;){const e=this.layouts[r];if(a=a||Boolean(e.isHeightMeasured),o=Math.max(o,e.height),e.height>(null!==(t=e.minHeight)&&void 0!==t?t:0)&&e.height>(null!==(i=null==s?void 0:s.height)&&void 0!==i?i:0)&&(s=e),r++,r>=this.layouts.length)break}if(!s&&o>0&&(o=Number.MAX_SAFE_INTEGER),s=null!=s?s:this.layouts[n],!a)return s;if(s){let t=s.height;for(o-s.height>1&&(t=0,this.requiresRepaint=!0),r=n;r<=e&&(this.layouts[r].minHeight=t,t>0&&(this.layouts[r].height=t),r++,!(r>=this.layouts.length)););s.minHeight=0}return s}computeTotalHeightTillRow(e){const t=this.locateFirstIndexInRow(e),i=this.layouts[t].y;let n=0,s=t;for(;s<=e&&(n=Math.max(n,this.layouts[s].height),s++,!(s>=this.layouts.length)););return i+n}updateAllWidths(){for(let e=0;e<this.layouts.length;e++)this.layouts[e].width=this.getWidth(e)}checkBounds(e,t){return e+t<=this.boundedSize+.9}locateFirstIndexInRow(e){if(0===e)return 0;let t=e;for(;t>=0&&0!==this.layouts[t].x;t--);return Math.max(t,0)}}class k extends _{constructor(e,t){super(e,t),this.hasSize=!1,this.tallestItemHeight=0,this.boundedSize=this.horizontal?e.windowSize.height:e.windowSize.width,this.hasSize=this.boundedSize>0}updateLayoutParams(e){const t=this.horizontal;super.updateLayoutParams(e);const i=this.boundedSize;this.boundedSize=this.horizontal?e.windowSize.height:e.windowSize.width,i===this.boundedSize&&t===this.horizontal||this.layouts.length>0&&(this.recomputeLayouts(0,this.layouts.length-1),this.requiresRepaint=!0)}processLayoutInfo(e,t){for(const i of e){const{index:e,dimensions:t}=i,n=this.layouts[e];n.width=this.horizontal?t.width:this.boundedSize,n.isHeightMeasured=!0,n.isWidthMeasured=!0,n.height=t.height}this.horizontal&&!this.hasSize&&this.normalizeLayoutHeights(e)}estimateLayout(e){const t=this.layouts[e];t.width=this.horizontal?this.getEstimatedWidth(e):this.boundedSize,t.height=this.getEstimatedHeight(e),t.isWidthMeasured=!this.horizontal,t.enforcedWidth=!this.horizontal}getLayoutSize(){var e,t;if(0===this.layouts.length)return{width:0,height:0};const i=this.layouts[this.layouts.length-1];return{width:this.horizontal?i.x+i.width:this.boundedSize,height:this.horizontal?null!==(t=null===(e=this.tallestItem)||void 0===e?void 0:e.height)&&void 0!==t?t:this.boundedSize:i.y+i.height}}normalizeLayoutHeights(e){var t,i;let n;for(const s of e){const{index:e}=s,o=this.layouts[e];o.height>(null!==(t=o.minHeight)&&void 0!==t?t:0)&&o.height>(null!==(i=null==n?void 0:n.height)&&void 0!==i?i:0)&&(n=o)}if(n&&n.height!==this.tallestItemHeight){let e=n.height;n.height<this.tallestItemHeight&&(this.requiresRepaint=!0,e=0);for(const t of this.layouts)e>0&&(t.height=n.height),t.minHeight=e;n.minHeight=0,this.tallestItem=n,this.tallestItemHeight=n.height}}recomputeLayouts(e,t){for(let i=e;i<=t;i++){const e=this.getLayout(i);if(0===i)e.x=0,e.y=0;else{const t=this.getLayout(i-1);e.x=this.horizontal?t.x+t.width:0,e.y=this.horizontal?0:t.y+t.height}this.horizontal?this.hasSize&&(e.minHeight=this.boundedSize):e.width=this.boundedSize}}}class V extends _{constructor(e,t){var i;super(e,t),this.currentColumn=0,this.fullRelayoutRequired=!1,this.boundedSize=e.windowSize.width,this.optimizeItemArrangement=e.optimizeItemArrangement,this.columnHeights=null!==(i=this.columnHeights)&&void 0!==i?i:Array(this.maxColumns).fill(0)}updateLayoutParams(e){const t=this.maxColumns,i=this.optimizeItemArrangement;super.updateLayoutParams(e),this.boundedSize===e.windowSize.width&&t===e.maxColumns&&i===e.optimizeItemArrangement||(this.boundedSize=e.windowSize.width,this.layouts.length>0&&(this.updateAllWidths(),this.recomputeLayouts(0,this.layouts.length-1),this.requiresRepaint=!0))}processLayoutInfo(e,t){for(const i of e){const{index:e,dimensions:t}=i,n=this.layouts[e];n.height=t.height,n.isHeightMeasured=!0,n.isWidthMeasured=!0,this.layouts[e]=n}if(this.fullRelayoutRequired)return this.updateAllWidths(),this.fullRelayoutRequired=!1,0}estimateLayout(e){const t=this.layouts[e];t.width=this.getWidth(e),t.height=this.getEstimatedHeight(e),t.isWidthMeasured=!0,t.enforcedWidth=!0}handleSpanChange(e){this.fullRelayoutRequired=!0}getLayoutSize(){if(0===this.layouts.length)return{width:0,height:0};const e=Math.max(...this.columnHeights);return{width:this.boundedSize,height:e}}recomputeLayouts(e,t){0===e?(this.columnHeights=Array(this.maxColumns).fill(0),this.currentColumn=0):this.updateColumnHeightsToIndex(e);const i=this.layouts.length;for(let n=e;n<i;n++){const e=this.getLayout(n),t=this.getSpan(n,!0);this.optimizeItemArrangement?1===t?this.placeSingleColumnItem(e):this.placeOptimizedMultiColumnItem(e,t):this.placeItemSequentially(e,t)}}getWidth(e){return this.boundedSize/this.maxColumns*this.getSpan(e)}updateAllWidths(){for(let e=0;e<this.layouts.length;e++)this.layouts[e].width=this.getWidth(e),this.layouts[e].minHeight=void 0}placeItemSequentially(e,t){this.currentColumn+t>this.maxColumns&&(this.currentColumn=0);let i=this.columnHeights[this.currentColumn];for(let n=this.currentColumn+1;n<this.currentColumn+t;n++)n<this.maxColumns&&(i=Math.max(i,this.columnHeights[n]));e.x=this.boundedSize/this.maxColumns*this.currentColumn,e.y=i;for(let n=this.currentColumn;n<this.currentColumn+t;n++)n<this.maxColumns&&(this.columnHeights[n]=i+e.height);this.currentColumn+=t,this.currentColumn>=this.maxColumns&&(this.currentColumn=0)}placeSingleColumnItem(e){let t=0,i=this.columnHeights[0];for(let n=1;n<this.maxColumns;n++)this.columnHeights[n]<i&&(i=this.columnHeights[n],t=n);e.x=this.boundedSize/this.maxColumns*t,e.y=this.columnHeights[t],this.columnHeights[t]+=e.height}placeOptimizedMultiColumnItem(e,t){let i=0,n=Number.MAX_VALUE;for(let o=0;o<=this.maxColumns-t;o++){let s=this.columnHeights[o];for(let e=o+1;e<o+t;e++)s=Math.max(s,this.columnHeights[e]);let r=0;for(let i=0;i<this.maxColumns;i++)r+=i>=o&&i<o+t?s+e.height:this.columnHeights[i];r<n&&(n=r,i=o)}const s=Math.max(...this.columnHeights.slice(i,i+t));e.x=this.boundedSize/this.maxColumns*i,e.y=s;for(let o=i;o<i+t;o++)this.columnHeights[o]=s+e.height}updateColumnHeightsToIndex(e){this.columnHeights=Array(this.maxColumns).fill(0),this.currentColumn=0;for(let t=0;t<e;t++){const e=this.layouts[t],i=e.width,n=this.boundedSize/this.maxColumns,s=Math.round(i/n),o=Math.round(e.x/n),r=Math.min(o+s,this.maxColumns);for(let t=o;t<r;t++)this.columnHeights[t]=Math.max(this.columnHeights[t],e.y+e.height);this.optimizeItemArrangement||(this.currentColumn=(o+s)%this.maxColumns)}}}const H=500,W=!1,N=!1;class F{constructor(){this.scrollOffset=0,this.drawDistance=H,this.enableOffsetProjection=!0,this.averageRenderTime=16,this.forceDisableOffsetProjection=!1,this.engagedIndices=D.EMPTY,this.smallMultiplier=.3,this.largeMultiplier=.7,this.velocityHistory=[0,0,0,-.1,-.1],this.velocityIndex=0}updateScrollOffset(e,t,i){this.scrollOffset=e;const n=i.getWindowsSize(),s=i.isHorizontal();t&&this.updateVelocityHistory(s?t.x:t.y);const o=this.isScrollingBackward(),r=this.enableOffsetProjection&&!this.forceDisableOffsetProjection?this.getProjectedScrollOffset(e,this.averageRenderTime):e,a=r+(s?n.width:n.height),l=2*this.drawDistance,h=o?this.largeMultiplier:this.smallMultiplier,u=o?this.smallMultiplier:this.largeMultiplier,d=Math.ceil(l*h),c=Math.ceil(l*u);let m=Math.max(0,r-d);let g=a+c+Math.max(0,d-r);const f=i.getLayoutSize(),y=s?f.width:f.height;if(g>y){const e=g-y;g=y,m=Math.max(0,m-e)}const p=i.getVisibleLayouts(m,g),v=this.engagedIndices;return this.engagedIndices=p,p.equals(v)?void 0:p}updateVelocityHistory(e){this.velocityHistory[this.velocityIndex]=e,this.velocityIndex=(this.velocityIndex+1)%this.velocityHistory.length}isScrollingBackward(){let e=0,t=0;for(let i=0;i<this.velocityHistory.length;i++)this.velocityHistory[i]>0?e++:this.velocityHistory[i]<0&&t++;return e<t}getMedianVelocity(){const e=[...this.velocityHistory].sort((e,t)=>e-t),t=e.length;if(t%2==1)return e[Math.floor(t/2)];const i=t/2;return(e[i-1]+e[i])/2}getProjectedScrollOffset(e,t){return e+this.getMedianVelocity()*t}computeVisibleIndices(e){const t=e.getWindowsSize(),i=e.isHorizontal(),n=this.scrollOffset,s=n+(i?t.width:t.height);return e.getVisibleLayouts(n,s)}getEngagedIndices(){return this.engagedIndices}setScrollDirection(e){"forward"===e?(this.velocityHistory=[0,0,0,.1,.1],this.velocityIndex=0):(this.velocityHistory=[0,0,0,-.1,-.1],this.velocityIndex=0)}resetVelocityHistory(){this.isScrollingBackward()?this.setScrollDirection("backward"):this.setScrollDirection("forward")}}class K{constructor(e=Number.MAX_SAFE_INTEGER){this.disableRecycling=!1,this.maxItemsInRecyclePool=e,this.recycleKeyPools=new Map,this.keyMap=new Map,this.stableIdMap=new Map,this.keyCounter=0,this.unProcessedIndices=new Set}sync(e,t,i,n){this.clearRecyclePool(),this.unProcessedIndices.clear(),this.keyMap.forEach((s,o)=>{const{index:r,stableId:a,itemType:l}=s;if(r>=n)return void this.recycleKey(o);if(this.disableRecycling||this.unProcessedIndices.add(r),!i.includes(r))return void this.recycleKey(o);const h=e(r),u=t(r);a===h&&l===u||this.recycleKey(o)});for(const o of i)this.hasOptimizedKey(e(o))&&this.syncItem(o,t(o),e(o));for(const o of i)this.hasOptimizedKey(e(o))||this.syncItem(o,t(o),e(o));const s=[];for(const o of this.keyMap.values()){const e=o.index;e<n&&!i.includes(e)&&s.push(e)}for(const o of s)this.hasOptimizedKey(e(o))&&this.syncItem(o,t(o),e(o));for(const o of s)this.hasOptimizedKey(e(o))||this.syncItem(o,t(o),e(o));this.cleanup(e,t,i,n)}hasOptimizedKey(e){return this.stableIdMap.has(e)}cleanup(e,t,i,n){const s=new Array;for(const[r,a]of this.keyMap.entries()){const{index:i,itemType:o,stableId:l}=a,h=i>=n,u=!h&&e(i)!==l;if(h||u){const i=this.unProcessedIndices.values().next().value;let n=!0;if(void 0!==i){const s=t(i),r=e(i);o===s&&(this.syncItem(i,s,r),n=!1)}n&&(this.deleteKeyFromRecyclePool(o,r),this.stableIdMap.delete(l),s.push(r))}}for(const r of s)this.keyMap.delete(r);const o=this.keyMap.size-i.length;if(o>this.maxItemsInRecyclePool){const e=o-this.maxItemsInRecyclePool;let t=0;const n=Array.from(this.keyMap.entries()).reverse();for(let s=0;s<n.length&&t<e;s++){const[e,o]=n[s],{index:r,itemType:a,stableId:l}=o;i.includes(r)||(this.deleteKeyFromRecyclePool(a,e),this.stableIdMap.delete(l),this.keyMap.delete(e),t++)}}}recycleKey(e){if(this.disableRecycling)return;const t=this.keyMap.get(e);if(!t)return;const{itemType:i}=t;this.getRecyclePoolForType(i).add(e)}getRenderStack(){return this.keyMap}syncItem(e,t,i){const n=this.stableIdMap.get(i)||this.getKeyFromRecyclePool(t)||this.generateKey();this.unProcessedIndices.delete(e);const s=this.keyMap.get(n);return s?(this.deleteKeyFromRecyclePool(t,n),this.deleteKeyFromRecyclePool(s.itemType,n),this.stableIdMap.delete(s.stableId),s.index=e,s.itemType=t,s.stableId=i):this.keyMap.set(n,{itemType:t,index:e,stableId:i}),this.stableIdMap.set(i,n),n}clearRecyclePool(){for(const e of this.recycleKeyPools.values())e.clear()}generateKey(){return(this.keyCounter++).toString()}deleteKeyFromRecyclePool(e,t){var i;null===(i=this.recycleKeyPools.get(e))||void 0===i||i.delete(t)}getRecyclePoolForType(e){let t=this.recycleKeyPools.get(e);return t||(t=new Set,this.recycleKeyPools.set(e,t)),t}getKeyFromRecyclePool(e){const t=this.getRecyclePoolForType(e);if(t.size>0){const e=t.values().next().value;return t.delete(e),e}}}class B{get animationOptimizationsEnabled(){return this._animationOptimizationsEnabled}set animationOptimizationsEnabled(e){this._animationOptimizationsEnabled=e,this.renderStackManager.disableRecycling=e}get isOffsetProjectionEnabled(){return this.engagedIndicesTracker.enableOffsetProjection}get isDisposed(){return this._isDisposed}get numColumns(){var e;return null!==(e=this.propsRef.numColumns)&&void 0!==e?e:1}constructor(e){this.initialDrawBatchSize=2,this.isFirstLayoutComplete=!1,this.hasRenderedProgressively=!1,this.progressiveRenderCount=0,this._isDisposed=!1,this._isLayoutManagerDirty=!1,this._animationOptimizationsEnabled=!1,this.firstItemOffset=0,this.ignoreScrollEvents=!1,this.isFirstPaintOnUiComplete=!1,this.updateRenderStack=e=>{this.renderStackManager.sync(this.getDataKey,this.getItemType,e,this.getDataLength())},this.getDataKey=this.getDataKey.bind(this),this.getItemType=this.getItemType.bind(this),this.overrideItemLayout=this.overrideItemLayout.bind(this),this.propsRef=e,this.engagedIndicesTracker=new F,this.renderStackManager=new K(e.maxItemsInRecyclePool),this.itemViewabilityManager=new T(this),this.checkPropsAndWarn()}get props(){return this.propsRef}setOffsetProjectionEnabled(e){this.engagedIndicesTracker.enableOffsetProjection=e}updateProps(e){var t,i,n;this.propsRef=e,this.engagedIndicesTracker.drawDistance=null!==(t=e.drawDistance)&&void 0!==t?t:this.engagedIndicesTracker.drawDistance,this.initialDrawBatchSize=null!==(n=null===(i=this.propsRef.overrideProps)||void 0===i?void 0:i.initialDrawBatchSize)&&void 0!==n?n:this.initialDrawBatchSize}updateScrollOffset(e,t){if(this.layoutManager&&!this._isDisposed){const i=this.engagedIndicesTracker.updateScrollOffset(e-this.firstItemOffset,t,this.layoutManager);if(i)return this.updateRenderStack(i),i}}updateAverageRenderTime(e){this.engagedIndicesTracker.averageRenderTime=e}getIsFirstLayoutComplete(){return this.isFirstLayoutComplete}getLayout(e){if(!this.layoutManager)throw new Error(a);return this.layoutManager.getLayout(e)}tryGetLayout(e){if(this.layoutManager&&e>=0&&e<this.layoutManager.getLayoutCount())return this.layoutManager.getLayout(e)}getChildContainerDimensions(){if(!this.layoutManager)throw new Error(l);return this.layoutManager.getLayoutSize()}getRenderStack(){return this.renderStackManager.getRenderStack()}getWindowSize(){if(!this.layoutManager)throw new Error(h);return this.layoutManager.getWindowsSize()}getLastScrollOffset(){return this.engagedIndicesTracker.scrollOffset}getMaxScrollOffset(){return Math.max(0,(this.propsRef.horizontal?this.getChildContainerDimensions().width:this.getChildContainerDimensions().height)-(this.propsRef.horizontal?this.getWindowSize().width:this.getWindowSize().height)+this.firstItemOffset)}getAbsoluteLastScrollOffset(){return this.engagedIndicesTracker.scrollOffset+this.firstItemOffset}setScrollDirection(e){this.engagedIndicesTracker.setScrollDirection(e)}resetVelocityCompute(){this.engagedIndicesTracker.resetVelocityHistory()}updateLayoutParams(e,t){var i,n;this.firstItemOffset=t;const s=this.getLayoutManagerClass();if(this.layoutManager&&Boolean(null===(i=this.layoutManager)||void 0===i?void 0:i.isHorizontal())!==Boolean(this.propsRef.horizontal))throw new Error(u);this._isLayoutManagerDirty&&(this.layoutManager=void 0,this._isLayoutManagerDirty=!1);const o={windowSize:e,maxColumns:this.numColumns,horizontal:Boolean(this.propsRef.horizontal),optimizeItemArrangement:null===(n=this.propsRef.optimizeItemArrangement)||void 0===n||n,overrideItemLayout:this.overrideItemLayout,getItemType:this.getItemType};this.layoutManager instanceof s?this.layoutManager.updateLayoutParams(o):this.layoutManager=new s(o,this.layoutManager)}hasLayout(){return void 0!==this.layoutManager}computeVisibleIndices(){if(!this.layoutManager)throw new Error(d);return this.engagedIndicesTracker.computeVisibleIndices(this.layoutManager)}getEngagedIndices(){return this.engagedIndicesTracker.getEngagedIndices()}modifyChildrenLayout(e,t){var i,n;return null===(i=this.layoutManager)||void 0===i||i.modifyLayout(e,t),0!==t&&((null===(n=this.layoutManager)||void 0===n?void 0:n.requiresRepaint)?(this.layoutManager.requiresRepaint=!1,!0):this.hasRenderedProgressively?!!this.isFirstPaintOnUiComplete&&void 0!==this.recomputeEngagedIndices():(this.renderProgressively(),!this.hasRenderedProgressively))}computeItemViewability(){this.itemViewabilityManager.shouldListenToVisibleIndices&&this.itemViewabilityManager.updateViewableItems(this.propsRef.masonry?this.engagedIndicesTracker.getEngagedIndices().toArray():this.computeVisibleIndices().toArray())}recordInteraction(){this.itemViewabilityManager.recordInteraction()}recomputeViewableItems(){this.itemViewabilityManager.recomputeViewableItems()}processDataUpdate(){var e,t;this.hasLayout()&&(this.modifyChildrenLayout([],null!==(t=null===(e=this.propsRef.data)||void 0===e?void 0:e.length)&&void 0!==t?t:0),this.hasRenderedProgressively&&!this.recomputeEngagedIndices()&&this.updateRenderStack(this.engagedIndicesTracker.getEngagedIndices()))}recomputeEngagedIndices(){return this.updateScrollOffset(this.getAbsoluteLastScrollOffset())}restoreIfNeeded(){this._isDisposed&&(this._isDisposed=!1)}dispose(){this._isDisposed=!0,this.itemViewabilityManager.dispose()}markLayoutManagerDirty(){this._isLayoutManagerDirty=!0}getInitialScrollIndex(){var e,t;return null!==(e=this.propsRef.initialScrollIndex)&&void 0!==e?e:(null===(t=this.propsRef.maintainVisibleContentPosition)||void 0===t?void 0:t.startRenderingFromBottom)?this.getDataLength()-1:void 0}shouldMaintainVisibleContentPosition(){var e;return!(null===(e=this.propsRef.maintainVisibleContentPosition)||void 0===e?void 0:e.disabled)&&!this.propsRef.horizontal}getDataLength(){var e,t;return null!==(t=null===(e=this.propsRef.data)||void 0===e?void 0:e.length)&&void 0!==t?t:0}hasStableDataKeys(){return Boolean(this.propsRef.keyExtractor)}getDataKey(e){var t,i,n;return null!==(n=null===(i=(t=this.propsRef).keyExtractor)||void 0===i?void 0:i.call(t,this.propsRef.data[e],e))&&void 0!==n?n:e.toString()}getLayoutManagerClass(){if(this.propsRef.masonry&&this.propsRef.horizontal)throw new Error(c);if(this.numColumns>1&&this.propsRef.horizontal)throw new Error(m);return this.propsRef.masonry?V:this.numColumns>1&&!this.propsRef.horizontal?O:k}applyInitialScrollAdjustment(){var e;if(!this.layoutManager||0===this.getDataLength())return;const t=this.getInitialScrollIndex(),i=null===(e=this.layoutManager)||void 0===e?void 0:e.getLayout(null!=t?t:0),n=this.propsRef.horizontal?null==i?void 0:i.x:null==i?void 0:i.y;void 0!==t?(this.layoutManager.recomputeLayouts(0,t),this.engagedIndicesTracker.scrollOffset=null!=n?n:0+this.firstItemOffset):this.engagedIndicesTracker.scrollOffset=(null!=n?n:0)-this.firstItemOffset}renderProgressively(){this.progressiveRenderCount++;const e=this.layoutManager;if(e){this.applyInitialScrollAdjustment();const t=this.computeVisibleIndices();this.hasRenderedProgressively=t.every(t=>e.getLayout(t).isHeightMeasured&&e.getLayout(t).isWidthMeasured),this.hasRenderedProgressively&&(this.isFirstLayoutComplete=!0);const i=this.numColumns*this.initialDrawBatchSize**Math.ceil(this.progressiveRenderCount/5);!this.hasRenderedProgressively&&this.updateRenderStack(t.slice(0,Math.min(t.length,this.getRenderStack().size+i)))}}getItemType(e){var t,i,n;return(null!==(n=null===(i=(t=this.propsRef).getItemType)||void 0===i?void 0:i.call(t,this.propsRef.data[e],e))&&void 0!==n?n:"default").toString()}overrideItemLayout(e,t){var i,n;null===(n=null===(i=this.propsRef)||void 0===i?void 0:i.overrideItemLayout)||void 0===n||n.call(i,t,this.propsRef.data[e],e,this.numColumns,this.propsRef.extraData)}checkPropsAndWarn(){this.propsRef.onStartReached&&!this.propsRef.keyExtractor&&console.warn(I)}}class G{constructor(){this.lastUpdateTime=Date.now(),this.velocity={x:0,y:0},this.timeoutId=null}computeVelocity(e,t,i,n){this.cleanUp();const s=Date.now(),o=(e-t)/Math.max(1,s-this.lastUpdateTime);this.lastUpdateTime=s,this.velocity.x=i?o:0,this.velocity.y=i?0:o,n(this.velocity,!1),this.timeoutId=setTimeout(()=>{this.cleanUp(),this.lastUpdateTime=Date.now(),this.velocity.x=0,this.velocity.y=0,n(this.velocity,!0)},100)}cleanUp(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}}function q(){const[e]=(0,y.useState)(()=>new Set);(0,y.useEffect)(()=>()=>{e.forEach(e=>cancelAnimationFrame(e)),e.clear()},[e]);return{requestAnimationFrame:(0,y.useCallback)(t=>{const n=i.g.requestAnimationFrame(i=>{e.delete(n),t(i)});e.add(n)},[e])}}const U=(e,t)=>{const i=(0,y.useRef)(!1);(0,y.useEffect)(()=>{e.getIsFirstLayoutComplete()&&!i.current&&(i.current=!0,t())})};var j=i(8589);const Y=p.A.View,X=e=>{const t=(0,y.useRef)(null),{index:i,refHolder:n,layout:s,onSizeChanged:o,renderItem:r,extraData:a,item:l,target:h,CellRendererComponent:u,ItemSeparatorComponent:d,trailingItem:c,horizontal:m}=e;(0,y.useLayoutEffect)(()=>(n.set(i,t),()=>{n.get(i)===t&&n.delete(i)}),[i,n]);const g=(0,y.useCallback)(e=>{null==o||o(i,e.nativeEvent.layout)},[i,o]),f=(0,y.useMemo)(()=>d&&void 0!==c?y.createElement(d,{leadingItem:l,trailingItem:c}):null,[d,l,c]),p=(0,y.useMemo)(()=>{var e;return null!==(e=null==r?void 0:r({item:l,index:i,extraData:a,target:h}))&&void 0!==e?e:null},[l,a,h,r]),v={flexDirection:m?"row":"column",position:"StickyHeader"===h?"relative":"absolute",width:s.enforcedWidth?s.width:void 0,height:s.enforcedHeight?s.height:void 0,minHeight:s.minHeight,minWidth:s.minWidth,maxHeight:s.maxHeight,maxWidth:s.maxWidth,left:s.x,top:s.y},w=null!=u?u:j.A;return y.createElement(w,{ref:t,onLayout:g,style:v,index:i},p,f)},J=y.memo(X,(e,t)=>{return e.index===t.index&&(i=e.layout,n=t.layout,i.x===n.x&&i.y===n.y&&i.width===n.width&&i.height===n.height&&i.enforcedWidth===n.enforcedWidth&&i.enforcedHeight===n.enforcedHeight&&i.minWidth===n.minWidth&&i.minHeight===n.minHeight&&i.maxWidth===n.maxWidth&&i.maxHeight===n.maxHeight)&&e.refHolder===t.refHolder&&e.onSizeChanged===t.onSizeChanged&&e.extraData===t.extraData&&e.target===t.target&&e.item===t.item&&e.renderItem===t.renderItem&&e.CellRendererComponent===t.CellRendererComponent&&e.ItemSeparatorComponent===t.ItemSeparatorComponent&&e.trailingItem===t.trailingItem&&e.horizontal===t.horizontal;var i,n});const Q=e=>{const{data:t,renderStack:i,getLayout:n,refHolder:s,onSizeChanged:o,renderItem:r,extraData:a,viewHolderCollectionRef:l,getChildContainerLayout:h,onCommitLayoutEffect:u,CellRendererComponent:d,ItemSeparatorComponent:c,onCommitEffect:m,horizontal:g,getAdjustmentMargin:f}=e,[p,v]=y.useState(0),w=h(),I=g?null==w?void 0:w.height:null==w?void 0:w.width,S=b();(0,y.useLayoutEffect)(()=>{p>0&&(null==S||S.layout())},[I]),(0,y.useLayoutEffect)(()=>{p>0&&(null==u||u())},[p]),(0,y.useEffect)(()=>{p>0&&(null==m||m())},[p]),(0,y.useImperativeHandle)(l,()=>({commitLayout:()=>{v(e=>e+1)}}),[v]);const E=t&&t.length>0,R={width:g?null==w?void 0:w.width:void 0,height:null==w?void 0:w.height,marginTop:g?void 0:f(),marginLeft:g?f():void 0,opacity:p>0?1:0};return y.createElement(j.A,{style:E&&R},w&&E&&Array.from(i.entries(),([e,{index:i}])=>{const l=t[i],h=c?t[i+1]:void 0;return y.createElement(J,{key:e,index:i,item:l,trailingItem:h,layout:{...n(i)},refHolder:s,onSizeChanged:o,target:"Cell",renderItem:r,extraData:a,CellRendererComponent:d,ItemSeparatorComponent:c,horizontal:g})}))};function Z(e,t,i){return t-e-i}var $=i(58928);const ee=e=>y.isValidElement(e)?e:"function"==typeof e?y.createElement(e):null,te=p.A.ScrollView;const ie=({stickyHeaderIndices:e,renderItem:t,stickyHeaderRef:i,recyclerViewManager:n,scrollY:s,data:o,extraData:r})=>{const[a,l]=(0,y.useState)({currentStickyIndex:-1,pushStartsAt:Number.MAX_SAFE_INTEGER}),{currentStickyIndex:h,pushStartsAt:u}=a,d=(0,y.useMemo)(()=>[...e].sort((e,t)=>e-t),[e]),c=0===d.length||n.getDataLength()<=d[d.length-1],m=(0,y.useCallback)(()=>{var e,t,i,s,o,r;if(c)return;const a=n.getLastScrollOffset(),m=function(e,t,i){let n=0,s=e.length-1,o=-1;for(;n<=s;){const r=Math.floor((n+s)/2);i(e[r])<=t?(o=r,n=r+1):s=r-1}return o}(d,a,e=>n.getLayout(e).y),g=null!==(e=d[m])&&void 0!==e?e:-1;let f=null!==(t=d[m+1])&&void 0!==t?t:-1;f>n.getEngagedIndices().endIndex&&(f=-1);const y=(-1===f?Number.MAX_SAFE_INTEGER:(null!==(s=null===(i=n.tryGetLayout(f))||void 0===i?void 0:i.y)&&void 0!==s?s:0)+n.firstItemOffset)-(null!==(r=null===(o=n.tryGetLayout(g))||void 0===o?void 0:o.height)&&void 0!==r?r:0);g===h&&y===u||l({currentStickyIndex:g,pushStartsAt:y})},[c,n,d,h,u]);(0,y.useEffect)(()=>{m()},[m]),(0,y.useImperativeHandle)(i,()=>({reportScrollEvent:()=>{m()}}),[m]);const g=(0,y.useRef)(new Map).current,f=(0,y.useMemo)(()=>{var e,t;const i=null!==(t=null===(e=n.tryGetLayout(h))||void 0===e?void 0:e.height)&&void 0!==t?t:0;return s.interpolate({inputRange:[u,u+i],outputRange:[0,-i],extrapolate:"clamp"})},[n,h,s,u]);return(0,y.useMemo)(()=>y.createElement(Y,{style:{position:"absolute",top:0,left:0,right:0,zIndex:1,transform:[{translateY:f}]}},-1!==h&&h<o.length?y.createElement(J,{index:h,item:o[h],renderItem:t,layout:{x:0,y:0,width:0,height:0},refHolder:g,extraData:r,trailingItem:null,target:"StickyHeader"}):null),[f,h,o,t,g,r])};function ne({scrollAnchorRef:e,horizontal:t}){const[i,n]=(0,y.useState)(1e6);(0,y.useImperativeHandle)(e,()=>({scrollBy:e=>{n(t=>t+e)}}),[]);return(0,y.useMemo)(()=>y.createElement(j.A,{style:{position:"absolute",height:0,top:t?0:i,left:t?i:0}}),[i,t])}function se(e,t,n,s){const o=(()=>{const e=(0,y.useRef)(!1);return(0,y.useLayoutEffect)(()=>(e.current=!1,()=>{e.current=!0}),[]),e})(),[r,a]=(0,y.useState)(0),l=(0,y.useRef)(!1),h=(0,y.useRef)(!1),u=(0,y.useRef)(e.getDataLength()),{setTimeout:d}=function(){const[e]=(0,y.useState)(()=>new Set);return(0,y.useEffect)(()=>()=>{e.forEach(e=>i.g.clearTimeout(e)),e.clear()},[e]),{setTimeout:(0,y.useCallback)((t,n)=>{const s=i.g.setTimeout(()=>{e.delete(s),t()},n);e.add(s)},[e])}}(),c=(0,y.useRef)(void 0),m=(0,y.useRef)(void 0),g=(0,y.useRef)([]),f=(0,y.useCallback)((t,i)=>{void 0!==e.updateScrollOffset(t)?(g.current.push(i),a(e=>e+1)):i()},[e]),p=(0,y.useCallback)(()=>{if(e.getIsFirstLayoutComplete()&&e.hasStableDataKeys()&&e.getDataLength()>0&&e.shouldMaintainVisibleContentPosition()){const t=Math.max(0,e.computeVisibleIndices().startIndex);void 0!==t&&t>=0&&(c.current=e.getDataKey(t),m.current={...e.getLayout(t)})}},[e]),I=(0,y.useCallback)(()=>{var t,i,o;const{horizontal:r,data:a}=e.props,h=g.current;g.current=[],h.forEach(e=>e());const y=e.getDataLength();if(e.getIsFirstLayoutComplete()&&e.hasStableDataKeys()&&y>0&&e.shouldMaintainVisibleContentPosition()){const h=y!==u.current;if(c.current){const u=null!==(t=e.getEngagedIndices().findValue(t=>e.getDataKey(t)===c.current))&&void 0!==t?t:h?null==a?void 0:a.findIndex((t,i)=>e.getDataKey(i)===c.current):void 0;if(void 0!==u&&u>=0){const t=r?e.getLayout(u).x-m.current.x:e.getLayout(u).y-m.current.y;if(m.current={...e.getLayout(u)},0!==t&&!l.current&&!e.animationOptimizationsEnabled){if(W)null===(i=s.current)||void 0===i||i.scrollBy(t);else{const i=r?{x:e.getAbsoluteLastScrollOffset()+t,animated:!1}:{y:e.getAbsoluteLastScrollOffset()+t,animated:!1};null===(o=n.current)||void 0===o||o.scrollTo(i)}h&&(f(e.getAbsoluteLastScrollOffset()+t,()=>{}),e.ignoreScrollEvents=!0,d(()=>{e.ignoreScrollEvents=!1},100))}}}p()}u.current=e.getDataLength()},[e,s,n,d,f,p]),S=(0,y.useMemo)(()=>({get props(){return e.props},scrollToOffset:({offset:t,animated:i,skipFirstItemOffset:s=!0})=>{const{horizontal:o}=e.props;if(n.current){v.A.isRTL&&o&&(t=Z(t,e.getChildContainerDimensions().width,e.getWindowSize().width)+(s?e.firstItemOffset:-e.firstItemOffset));const r=t+(s?0:e.firstItemOffset),a=o?{x:r,y:0}:{x:0,y:r};n.current.scrollTo({...a,animated:i})}},clearLayoutCacheOnUpdate:()=>{e.markLayoutManagerDirty()},flashScrollIndicators:()=>{n.current.flashScrollIndicators()},getNativeScrollRef:()=>n.current,getScrollResponder:()=>n.current.getScrollResponder(),getScrollableNode:()=>n.current.getScrollableNode(),scrollToEnd:async({animated:t}={})=>{const{data:i}=e.props;if(i&&i.length>0){const n=i.length-1;e.getEngagedIndices().includes(n)||await S.scrollToIndex({index:n,animated:t})}d(()=>{var e;null===(e=n.current)||void 0===e||e.scrollToEnd({animated:t})},0)},scrollToTop:({animated:e}={})=>{S.scrollToOffset({offset:0,animated:e})},scrollToIndex:({index:t,animated:i,viewPosition:s,viewOffset:r})=>new Promise(a=>{const{horizontal:h}=e.props;if(n.current&&t>=0&&t<e.getDataLength()){l.current=!0,e.setOffsetProjectionEnabled(!1);const n=()=>{const i=e.getLayout(t),n=h?i.x:i.y;let o=n;if(void 0!==s||void 0!==r){const t=h?e.getWindowSize().width:e.getWindowSize().height,a=h?i.width:i.height;void 0!==s&&(o=n-(t-a)*s),void 0!==r&&(o+=r)}return o+e.firstItemOffset},u=e.getAbsoluteLastScrollOffset(),c=2*(h?e.getWindowSize().width:e.getWindowSize().height),m=()=>{let t=u;const i=n();return i>t?(t=Math.max(i-c,t),e.setScrollDirection("forward")):(t=Math.min(i+c,t),e.setScrollDirection("backward")),t};let g=n(),y=m(),p=g,v=y;const w=5,I=s=>{if(o.current)return void a();if(s>=w)return void E();f(i?p+s/(w-1)*(v-p):v+s/(w-1)*(p-v),()=>{if(t>=e.getDataLength())return S.scrollToEnd({animated:i}),void a();const o=n();o<g&&o<y||o>g&&o>y?(p=o,v=m(),g=o,y=v,I(0)):I(s+1)})},E=()=>{p=n();const t=e.getMaxScrollOffset();p>t&&(p=t),i&&S.scrollToOffset({offset:v,animated:!1,skipFirstItemOffset:!0}),S.scrollToOffset({offset:p,animated:i,skipFirstItemOffset:!0}),d(()=>{l.current=!1,e.setOffsetProjectionEnabled(!0),a()},i?300:200)};I(0)}else a()}),scrollToItem:({item:t,animated:i,viewPosition:s,viewOffset:o})=>{const{data:r}=e.props;if(n.current&&r){const e=r.findIndex(e=>e===t);e>=0&&S.scrollToIndex({index:e,animated:i,viewPosition:s,viewOffset:o})}},getFirstItemOffset:()=>e.firstItemOffset,getWindowSize:()=>e.getWindowSize(),getLayout:t=>e.tryGetLayout(t),getAbsoluteLastScrollOffset:()=>e.getAbsoluteLastScrollOffset(),getChildContainerDimensions:()=>e.getChildContainerDimensions(),recordInteraction:()=>{e.recordInteraction()},computeVisibleIndices:()=>e.computeVisibleIndices(),getFirstVisibleIndex:()=>e.computeVisibleIndices().startIndex,recomputeViewableItems:()=>{e.recomputeViewableItems()},prepareForLayoutAnimationRender:()=>{e.props.keyExtractor||console.warn(w),e.animationOptimizationsEnabled=!0}}),[e,n,d,o,f]),E=(0,y.useCallback)(()=>{var t,i,n;const{horizontal:s,data:o,initialScrollIndexParams:r}=e.props,a=null!==(t=e.getInitialScrollIndex())&&void 0!==t?t:-1,u=null!==(i=null==o?void 0:o.length)&&void 0!==i?i:0;if(a>=0&&a<u&&!h.current&&e.getIsFirstLayoutComplete()){d(()=>{h.current=!0,l.current=!1},100),l.current=!0;const t=null!==(n=null==r?void 0:r.viewOffset)&&void 0!==n?n:0,i=s?e.getLayout(a).x+t:e.getLayout(a).y+t;S.scrollToOffset({offset:i,animated:!1,skipFirstItemOffset:!1}),d(()=>{S.scrollToOffset({offset:i,animated:!1,skipFirstItemOffset:!1})},0)}},[S,e,d]);return(0,y.useImperativeHandle)(t,()=>{const t={...n.current,...S};return Object.defineProperty(t,"props",{get:()=>e.props,enumerable:!0,configurable:!0}),t},[S,n,e]),{applyOffsetCorrection:I,computeFirstVisibleIndexForOffsetCorrection:p,applyInitialScrollIndex:E,handlerMethods:S}}class oe{constructor(){this.renderTimeAvgWindow=new P(5),this.lastTimerStartedAt=-1,this.maxRenderTime=32,this.defaultRenderTime=16,this.rendersWithoutCommit=0,this.maxRendersWithoutCommit=40}startTracking(){this.rendersWithoutCommit++,N&&-1===this.lastTimerStartedAt&&(this.lastTimerStartedAt=Date.now())}markRenderComplete(){this.rendersWithoutCommit=0,N&&-1!==this.lastTimerStartedAt&&(this.renderTimeAvgWindow.addValue(Date.now()-this.lastTimerStartedAt),this.lastTimerStartedAt=-1)}hasExceededMaxRendersWithoutCommit(){return this.rendersWithoutCommit>=this.maxRendersWithoutCommit}getRawValue(){return this.renderTimeAvgWindow.currentValue}getAverageRenderTime(){return N?Math.min(this.maxRenderTime,Math.max(Math.round(this.renderTimeAvgWindow.currentValue),16)):this.defaultRenderTime}}const re=(e,t)=>{var i;const{horizontal:n,renderItem:s,data:o,extraData:r,onLoad:a,CellRendererComponent:l,overrideProps:h,refreshing:u,onRefresh:d,progressViewOffset:c,ListEmptyComponent:m,ListHeaderComponent:g,ListHeaderComponentStyle:w,ListFooterComponent:I,ListFooterComponentStyle:C,ItemSeparatorComponent:M,renderScrollComponent:T,style:P,stickyHeaderIndices:A,maintainVisibleContentPosition:D,onCommitLayoutEffect:z,..._}=e,[O]=(0,y.useState)(()=>new oe);O.startTracking();const k=(0,y.useRef)(null),V=(0,y.useRef)(null),H=(0,y.useRef)(null),W=(0,y.useRef)(void 0),N=(0,y.useRef)(new Set).current,F=(0,y.useRef)(new p.A.Value(0)).current,K=(0,y.useRef)(null),Y=(0,y.useRef)(null),[X,J]=L(0),[re,ae]=(0,y.useState)(0),le=(0,y.useMemo)(()=>new Map,[]),{recyclerViewManager:he,velocityTracker:ue}=(e=>{const[t]=(0,y.useState)(()=>new B(e)),[i]=(0,y.useState)(()=>new G),{data:n}=e;return(0,y.useMemo)(()=>{t.updateProps(e)},[e]),(0,y.useMemo)(()=>{t.processDataUpdate()},[n]),(0,y.useEffect)(()=>(t.restoreIfNeeded(),()=>{t.dispose(),i.cleanUp()}),[]),{recyclerViewManager:t,velocityTracker:i}})(e),{applyOffsetCorrection:de,computeFirstVisibleIndexForOffsetCorrection:ce,applyInitialScrollIndex:me,handlerMethods:ge}=se(he,t,k,Y),fe=(0,y.useRef)(null);((e,t)=>{const i=(0,y.useRef)(Date.now()),[n,s]=(0,y.useState)(!1),o=e.getDataLength(),{requestAnimationFrame:r}=q();(0,y.useMemo)(()=>{i.current=Date.now()},[o]),U(e,()=>{const n=Date.now()-i.current;r(()=>{e.isFirstPaintOnUiComplete=!0,null==t||t({elapsedTimeInMs:n}),s(!0)})})})(he,a);const{checkBounds:ye}=function(e,t){const i=(0,y.useRef)(!1),n=(0,y.useRef)(!1),s=(0,y.useRef)(!1),o=(0,y.useRef)(Date.now()),{data:r}=e.props,{requestAnimationFrame:a}=q(),l=e.hasLayout()?e.getWindowSize().height:0,h=e.hasLayout()?e.getChildContainerDimensions().height:0,u=e.hasLayout()?e.getWindowSize().width:0,d=e.hasLayout()?e.getChildContainerDimensions().width:0,c=(0,y.useCallback)(()=>{var t;o.current=Date.now();const{onEndReached:r,onStartReached:a,maintainVisibleContentPosition:l,horizontal:h,onEndReachedThreshold:u,onStartReachedThreshold:d}=e.props,c=null!==(t=null==l?void 0:l.autoscrollToBottomThreshold)&&void 0!==t?t:-1;if((r||a||!(c<0))&&e.getIsFirstLayoutComplete()){const t=e.getAbsoluteLastScrollOffset(),o=e.getChildContainerDimensions(),l=e.getWindowSize(),m=!0===h,g=m?l.width:l.height,f=(m?o.width:o.height)+e.firstItemOffset;if(r){const e=(null!=u?u:.5)*g,n=Math.ceil(t+g)>=f-e;n&&!i.current&&(i.current=!0,r()),i.current=n}if(a){const e=t<=(null!=d?d:.2)*g;e&&!n.current&&(n.current=!0,a()),n.current=e}if(!m&&c>=0){const e=c*g,i=Math.ceil(t+g)>=f-e;s.current=!!i}}},[e]),m=(0,y.useCallback)(()=>{s.current&&(s.current=!1,a(()=>{var i,n,s;const o=null===(n=null===(i=e.props.maintainVisibleContentPosition)||void 0===i?void 0:i.animateAutoScrollToBottom)||void 0===n||n;null===(s=t.current)||void 0===s||s.scrollToEnd({animated:o})}))},[a,t,e]);return(0,y.useMemo)(()=>{i.current=!1},[r]),(0,y.useEffect)(()=>{m()},[r,m,l,u]),(0,y.useEffect)(()=>{Date.now()-o.current>=100&&m()},[h,d,e.firstItemOffset,m]),{checkBounds:c}}(he,k),pe=v.A.isRTL&&n;(0,y.useLayoutEffect)(()=>{if(V.current&&H.current){const t={x:0,y:0,width:(e=V.current).clientWidth,height:e.clientHeight},i=function(e,t){const i=e.getBoundingClientRect(),n=t.getBoundingClientRect(),s=function(e,t){var i,n;let s=0,o=0,r=e;for(;r&&r!==t;){const e=r;s+=null!==(i=e.scrollLeft)&&void 0!==i?i:0,o+=null!==(n=e.scrollTop)&&void 0!==n?n:0,r=r.parentElement}return{scrollX:s,scrollY:o}}(e,t);return{x:i.left-n.left+s.scrollX,y:i.top-n.top+s.scrollY,width:i.width,height:i.height}}(H.current,V.current);W.current=t;const s=n?i.x-t.x:i.y-t.y;he.updateLayoutParams({width:n?t.width:i.width,height:n?i.height:t.height},pe&&he.hasLayout()?s-he.getChildContainerDimensions().width:s)}var e}),(0,y.useLayoutEffect)(()=>{var e,t;if(N.size>0)return;const i=Array.from(le,([e,t])=>({index:e,dimensions:function(e,t){const i={x:0,y:0,width:e.clientWidth,height:e.clientHeight};return t&&(R(i.width,t.width)&&(i.width=t.width),R(i.height,t.height)&&(i.height=t.height)),i}(t.current,he.tryGetLayout(e))})),s=O.hasExceededMaxRendersWithoutCommit();s&&console.warn(S),he.modifyChildrenLayout(i,null!==(e=null==o?void 0:o.length)&&void 0!==e?e:0)&&!s?ae(e=>e+1):(null===(t=fe.current)||void 0===t||t.commitLayout(),de()),n&&he.hasLayout()&&he.getWindowSize().height>0&&(null==we||we.unmarkChildLayoutAsPending(Ie))});const ve=(0,y.useCallback)(e=>{var t,i,s;if(he.ignoreScrollEvents)return;let o=n?e.nativeEvent.contentOffset.x:e.nativeEvent.contentOffset.y;pe&&(o=Z(o,e.nativeEvent.contentSize.width,e.nativeEvent.layoutMeasurement.width)),ue.computeVelocity(o,he.getAbsoluteLastScrollOffset(),Boolean(n),(e,t)=>{if(!he.ignoreScrollEvents){if(t){if(ce(),!he.isOffsetProjectionEnabled)return;he.resetVelocityCompute()}he.updateScrollOffset(o,e)&&ae(e=>e+1)}}),null===(t=K.current)||void 0===t||t.reportScrollEvent(e.nativeEvent),ye(),he.recordInteraction(),he.computeItemViewability(),null===(s=(i=he.props).onScroll)||void 0===s||s.call(i,e)},[ye,ce,n,pe,he,ue]),we=b(),Ie=(0,y.useId)(),Se=(0,y.useMemo)(()=>({layout:()=>{J(e=>e+1)},getRef:()=>he.isDisposed?null:ge,getParentRef:()=>{var e;return null!==(e=null==we?void 0:we.getRef())&&void 0!==e?e:null},getParentScrollViewRef:()=>{var e;return null!==(e=null==we?void 0:we.getScrollViewRef())&&void 0!==e?e:null},getScrollViewRef:()=>k.current,markChildLayoutAsPending:e=>{N.add(e)},unmarkChildLayoutAsPending:e=>{N.has(e)&&(N.delete(e),Se.layout())}}),[ge,we,N,he.isDisposed,J]),Ee=(0,y.useCallback)((e,t)=>{var i,n,s,o;const r=he.getLayout(e),a=Math.max(Math.min(r.width,null!==(i=r.maxWidth)&&void 0!==i?i:1/0),null!==(n=r.minWidth)&&void 0!==n?n:0),l=Math.max(Math.min(r.height,null!==(s=r.maxHeight)&&void 0!==s?s:1/0),null!==(o=r.minHeight)&&void 0!==o?o:0);(E(a,t.width)||E(l,t.height))&&Se.layout()},[Se,he]),{refreshControl:Re,renderHeader:Ce,renderFooter:xe,renderEmpty:be,CompatScrollView:Le}=function(e){const{ListHeaderComponent:t,ListHeaderComponentStyle:i,ListFooterComponent:n,ListFooterComponentStyle:s,ListEmptyComponent:o,renderScrollComponent:r,refreshing:a,progressViewOffset:l,onRefresh:h,data:u,refreshControl:d}=e;return{refreshControl:(0,y.useMemo)(()=>d||(h?y.createElement($.A,{refreshing:Boolean(a),progressViewOffset:l,onRefresh:h}):void 0),[h,a,l,d]),renderHeader:(0,y.useMemo)(()=>t?y.createElement(j.A,{style:i},ee(t)):null,[t,i]),renderFooter:(0,y.useMemo)(()=>n?y.createElement(j.A,{style:s},ee(n)):null,[n,s]),renderEmpty:(0,y.useMemo)(()=>!o||u&&u.length>0?null:ee(o),[o,u]),CompatScrollView:(0,y.useMemo)(()=>{let e=te;if("function"==typeof r){const t=y.forwardRef((e,t)=>r({...e,ref:t}));t.displayName="CustomScrollView",e=t}else r&&(e=r);return p.A.createAnimatedComponent(e)},[r])}}(e);!he.getIsFirstLayoutComplete()&&he.getDataLength()>0&&(null==we||we.markChildLayoutAsPending(Ie));const Me=(0,y.useMemo)(()=>{if(o&&o.length>0&&A&&A.length>0){if(n)throw new Error(f);return y.createElement(ie,{stickyHeaderIndices:A,data:o,renderItem:s,scrollY:F,stickyHeaderRef:K,recyclerViewManager:he,extraData:r})}return null},[o,A,s,F,n,he,r]),Te=(0,y.useMemo)(()=>Me?p.A.event([{nativeEvent:{contentOffset:{y:F}}}],{useNativeDriver:!0,listener:ve}):ve,[ve,F,Me]),Pe=he.shouldMaintainVisibleContentPosition(),Ae=(0,y.useMemo)(()=>{if(Pe)return{...D,minIndexForVisible:0}},[D,Pe]),De=he.getDataLength()>0&&null!==(i=null==D?void 0:D.startRenderingFromBottom)&&void 0!==i&&i,ze=(0,y.useMemo)(()=>y.createElement(j.A,{style:{height:n?void 0:0,width:n?0:void 0},ref:H}),[n]),_e=(0,y.useMemo)(()=>Pe?y.createElement(ne,{horizontal:Boolean(n),scrollAnchorRef:Y}):null,[n,Pe]);return y.createElement(x,{value:Se},y.createElement(j.A,{style:[{flex:n?void 0:1,overflow:"hidden"},P],ref:V,collapsable:!1,onLayout:e=>{var t,i,n,s;(E(e.nativeEvent.layout.width,null!==(i=null===(t=W.current)||void 0===t?void 0:t.width)&&void 0!==i?i:0)||E(e.nativeEvent.layout.height,null!==(s=null===(n=W.current)||void 0===n?void 0:n.height)&&void 0!==s?s:0))&&Se.layout()}},y.createElement(Le,{..._,horizontal:n,ref:k,onScroll:Te,maintainVisibleContentPosition:Ae,refreshControl:Re,...h},_e,pe&&ze,Ce,!pe&&ze,y.createElement(Q,{viewHolderCollectionRef:fe,data:o,horizontal:n,renderStack:he.getRenderStack(),getLayout:e=>he.getLayout(e),getAdjustmentMargin:()=>{if(!De||!he.hasLayout())return 0;const e=n?he.getWindowSize().width:he.getWindowSize().height,t=n?he.getChildContainerDimensions().width:he.getChildContainerDimensions().height;return Math.max(0,e-t-he.firstItemOffset)},refHolder:le,onSizeChanged:Ee,renderItem:s,extraData:r,onCommitLayoutEffect:()=>{me(),null==we||we.unmarkChildLayoutAsPending(Ie),null==z||z()},onCommitEffect:()=>{O.markRenderComplete(),he.updateAverageRenderTime(O.getAverageRenderTime()),me(),ye(),he.computeItemViewability(),he.animationOptimizationsEnabled=!1},CellRendererComponent:l,ItemSeparatorComponent:M,getChildContainerLayout:()=>he.hasLayout()?he.getChildContainerDimensions():void 0}),be,xe),Me))};re.displayName="FlashList";const ae=y.memo((0,y.forwardRef)(re));p.A.createAnimatedComponent(ae);if(y.memo(e=>{const{children:t,onCommitLayoutEffect:i}=e,n=b(),[s,o]=L(0),r=(0,y.useRef)(new Set).current;(0,y.useLayoutEffect)(()=>{r.size>0||null==i||i()});const a=(0,y.useMemo)(()=>({layout:()=>{o(e=>e+1)},getRef:()=>{var e;return null!==(e=null==n?void 0:n.getRef())&&void 0!==e?e:null},getParentRef:()=>{var e;return null!==(e=null==n?void 0:n.getParentRef())&&void 0!==e?e:null},getParentScrollViewRef:()=>{var e;return null!==(e=null==n?void 0:n.getParentScrollViewRef())&&void 0!==e?e:null},getScrollViewRef:()=>{var e;return null!==(e=null==n?void 0:n.getScrollViewRef())&&void 0!==e?e:null},markChildLayoutAsPending:e=>{null==n||n.markChildLayoutAsPending(e),r.add(e)},unmarkChildLayoutAsPending:e=>{null==n||n.unmarkChildLayoutAsPending(e),r.has(e)&&(r.delete(e),a.layout())}}),[n,r,o]);return y.createElement(x,{value:a},t)}).displayName="LayoutCommitObserver",!function(){if(void 0!==s)return s;try{const e=Boolean(null===i.g||void 0===i.g?void 0:i.g.nativeFabricUIManager),t=Boolean(null===i.g||void 0===i.g?void 0:i.g.__turboModuleProxy);s=e||t||"web"===n.A.OS}catch(e){s=!0}return s}())throw new Error(r)},90441:(e,t,i)=>{i.d(t,{A:()=>m});var n=i(82195),s=i(21098),o=i(39471),r=i(31721),a=i(8589),l=i(42805),h=["style"],u=l.A&&window.CSS&&window.CSS.supports&&window.CSS.supports("top: constant(safe-area-inset-top)")?"constant":"env",d=o.forwardRef((e,t)=>{var i=e.style,r=(0,s.A)(e,h);return o.createElement(a.A,(0,n.A)({},r,{ref:t,style:[c.root,i]}))});d.displayName="SafeAreaView";var c=r.A.create({root:{paddingTop:u+"(safe-area-inset-top)",paddingRight:u+"(safe-area-inset-right)",paddingBottom:u+"(safe-area-inset-bottom)",paddingLeft:u+"(safe-area-inset-left)"}});const m=d},94497:(e,t,i)=>{i.d(t,{A:()=>R});var n="DELAY",s="ERROR",o="LONG_PRESS_DETECTED",r="NOT_RESPONDER",a="RESPONDER_ACTIVE_LONG_PRESS_START",l="RESPONDER_ACTIVE_PRESS_START",h="RESPONDER_INACTIVE_PRESS_START",u="RESPONDER_RELEASE",d="RESPONDER_TERMINATED",c=Object.freeze({NOT_RESPONDER:{DELAY:s,RESPONDER_GRANT:h,RESPONDER_RELEASE:s,RESPONDER_TERMINATED:s,LONG_PRESS_DETECTED:s},RESPONDER_INACTIVE_PRESS_START:{DELAY:l,RESPONDER_GRANT:s,RESPONDER_RELEASE:r,RESPONDER_TERMINATED:r,LONG_PRESS_DETECTED:s},RESPONDER_ACTIVE_PRESS_START:{DELAY:s,RESPONDER_GRANT:s,RESPONDER_RELEASE:r,RESPONDER_TERMINATED:r,LONG_PRESS_DETECTED:a},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:s,RESPONDER_GRANT:s,RESPONDER_RELEASE:r,RESPONDER_TERMINATED:r,LONG_PRESS_DETECTED:a},ERROR:{DELAY:r,RESPONDER_GRANT:h,RESPONDER_RELEASE:r,RESPONDER_TERMINATED:r,LONG_PRESS_DETECTED:r}}),m=e=>e.getAttribute("role"),g=e=>e.tagName.toLowerCase(),f=e=>e===l||e===a,y=e=>"button"===m(e),p=e=>e===h||e===l||e===a,v=e=>{var t=e.key,i=e.target,n=" "===t||"Spacebar"===t,s="button"===g(i)||y(i);return"Enter"===t||n&&s};class w{constructor(e){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=r,this._responderElement=null,this.configure(e)}configure(e){this._config=e}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var e=(e,t)=>{e.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=r,this._isPointerTouch="touchstart"===e.nativeEvent.type,this._receiveSignal("RESPONDER_GRANT",e);var i=I(this._config.delayPressStart,0,50);!1!==t&&i>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(n,e)},i):this._receiveSignal(n,e);var s=I(this._config.delayLongPress,10,450);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(e)},s+i)},t=e=>{this._receiveSignal(u,e)},i=e=>{var n=this._config.onPress,s=e.target;if(this._touchState!==r&&v(e)){t(e),document.removeEventListener("keyup",i);var o=s.getAttribute("role"),a=g(s),l="link"===o||"a"===a||"button"===a||"input"===a||"select"===a||"textarea"===a,h=this._responderElement===s;null!=n&&!l&&h&&n(e),this._responderElement=null}};return{onStartShouldSetResponder:e=>{var t=this._config.disabled;return t&&y(e.currentTarget)&&e.stopPropagation(),null==t||!t},onKeyDown:t=>{var n=this._config.disabled,s=t.key,o=t.target;if(!n&&v(t)){this._touchState===r&&(e(t,!1),this._responderElement=o,document.addEventListener("keyup",i));var a=" "===s||"Spacebar"===s,l=m(o);a&&("button"===l||"menuitem"===l)&&"button"!==g(o)&&t.preventDefault(),t.stopPropagation()}},onResponderGrant:t=>e(t),onResponderMove:e=>{null!=this._config.onPressMove&&this._config.onPressMove(e);var t=S(e);if(null!=this._touchActivatePosition){var i=this._touchActivatePosition.pageX-t.pageX,n=this._touchActivatePosition.pageY-t.pageY;Math.hypot(i,n)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:e=>t(e),onResponderTerminate:e=>{"selectionchange"===e.nativeEvent.type&&(this._selectionTerminated=!0),this._receiveSignal(d,e)},onResponderTerminationRequest:e=>{var t=this._config,i=t.cancelable,n=t.disabled,s=t.onLongPress;return!(!n&&null!=s&&this._isPointerTouch&&"contextmenu"===e.nativeEvent.type)&&(null==i||i)},onClick:e=>{var t=this._config,i=t.disabled,n=t.onPress;i?y(e.currentTarget)&&e.stopPropagation():(e.stopPropagation(),this._longPressDispatched||this._selectionTerminated?e.preventDefault():null!=n&&!1===e.altKey&&n(e))},onContextMenu:e=>{var t=this._config,i=t.disabled,n=t.onLongPress;i?y(e.currentTarget)&&e.stopPropagation():null!=n&&this._isPointerTouch&&!e.defaultPrevented&&(e.preventDefault(),e.stopPropagation())}}}_receiveSignal(e,t){var i=this._touchState,n=null;null!=c[i]&&(n=c[i][e]),this._touchState===r&&e===u||(null==n||n===s?console.error("PressResponder: Invalid signal "+e+" for state "+i+" on responder"):i!==n&&(this._performTransitionSideEffects(i,n,e,t),this._touchState=n))}_performTransitionSideEffects(e,t,i,n){if((e=>e===d||e===u)(i)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),p(e)&&i===o){var s=this._config.onLongPress;null!=s&&null==n.nativeEvent.key&&(s(n),this._longPressDispatched=!0)}var r=f(e),l=f(t);if(!r&&l?this._activate(n):r&&!l&&this._deactivate(n),p(e)&&i===u){var h=this._config,c=h.onLongPress;if(null!=h.onPress)null!=c&&e===a||l||r||(this._activate(n),this._deactivate(n))}this._cancelPressDelayTimeout()}_activate(e){var t=this._config,i=t.onPressChange,n=t.onPressStart,s=S(e);this._touchActivatePosition={pageX:s.pageX,pageY:s.pageY},null!=n&&n(e),null!=i&&i(!0)}_deactivate(e){var t=this._config,i=t.onPressChange,n=t.onPressEnd;function s(){null!=n&&n(e),null!=i&&i(!1)}var o=I(this._config.delayPressEnd);o>0?this._pressOutDelayTimeout=setTimeout(()=>{s()},o):s()}_handleLongPress(e){this._touchState!==l&&this._touchState!==a||this._receiveSignal(o,e)}_cancelLongPressDelayTimeout(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}function I(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=0),Math.max(t,null!=e?e:i)}function S(e){var t=e.nativeEvent,i=t.changedTouches,n=t.touches;return null!=n&&n.length>0?n[0]:null!=i&&i.length>0?i[0]:e.nativeEvent}var E=i(39471);function R(e,t){var i=(0,E.useRef)(null);null==i.current&&(i.current=new w(t));var n=i.current;return(0,E.useEffect)(()=>{n.configure(t)},[t,n]),(0,E.useEffect)(()=>()=>{n.reset()},[n]),(0,E.useDebugValue)(t),n.getEventHandlers()}}}]);