"use strict";(self.webpackChunkdocs_reanimated=self.webpackChunkdocs_reanimated||[]).push([[9174],{33644:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(9176),s=n(62257),r=n(72188),i=n(55535),o=n(74848);const d=["#FFE780","#87CCE8","#FFA3A1","#B1DFD0","#B58DF1"],c={code:"function SetNativePropsTsx1(){const{setNativeProps,animatedRef,COLORS}=this.__closure;setNativeProps(animatedRef,{backgroundColor:COLORS[Math.floor(Math.random()*COLORS.length)]});}"};function l(){const e=(0,i.useAnimatedRef)();return(0,o.jsxs)(a.A,{style:h.container,children:[(0,o.jsx)(i.default.View,{ref:e,style:h.box}),(0,o.jsx)(s.A,{title:"change color",onPress:()=>{(0,i.runOnUI)(function(){const t=function(){(0,i.setNativeProps)(e,{backgroundColor:d[Math.floor(Math.random()*d.length)]})};return t.__closure={setNativeProps:i.setNativeProps,animatedRef:e,COLORS:d},t.__workletHash=0xddc960cb157,t.__initData=c,t}())()}})]})}const h=r.A.create({container:{flex:1,alignItems:"center",justifyContent:"center"},box:{height:120,width:120,backgroundColor:"#B58DF1",borderRadius:20,marginBottom:30}})},62257:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(96540),s=n(72188),r=n(46413),i=n(78506),o=a.forwardRef(((e,t)=>{var n=e.accessibilityLabel,s=e.color,o=e.disabled,c=e.onPress,l=e.testID,h=e.title;return a.createElement(r.A,{accessibilityLabel:n,accessibilityRole:"button",disabled:o,focusable:!o,onPress:c,ref:t,style:[d.button,s&&{backgroundColor:s},o&&d.buttonDisabled],testID:l},a.createElement(i.A,{style:[d.text,o&&d.textDisabled]},h))}));o.displayName="Button";var d=s.A.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}});const c=o},66181:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>m,frontMatter:()=>d,metadata:()=>a,toc:()=>h});const a=JSON.parse('{"id":"advanced/setNativeProps","title":"setNativeProps","description":"setNativeProps lets you imperatively update component properties.","source":"@site/docs/advanced/setNativeProps.mdx","sourceDirName":"advanced","slug":"/advanced/setNativeProps","permalink":"/react-native-reanimated/docs/next/advanced/setNativeProps","draft":false,"unlisted":false,"editUrl":"https://github.com/software-mansion/react-native-reanimated/edit/main/packages/docs-reanimated/docs/advanced/setNativeProps.mdx","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"dispatchCommand","permalink":"/react-native-reanimated/docs/next/advanced/dispatchCommand"},"next":{"title":"makeMutable","permalink":"/react-native-reanimated/docs/next/advanced/makeMutable"}}');var s=n(74848),r=n(28453),i=n(33644),o=n(77159);const d={sidebar_position:8},c="setNativeProps",l={},h=[{value:"Reference",id:"reference",level:2},{value:"Arguments",id:"arguments",level:3},{value:"<code>animatedRef</code>",id:"animatedref",level:4},{value:"<code>updates</code>",id:"updates",level:4},{value:"Returns",id:"returns",level:3},{value:"Example",id:"example",level:2},{value:"Remarks",id:"remarks",level:2},{value:"Platform compatibility",id:"platform-compatibility",level:2}];function p(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components},{Details:n,InteractiveExample:a,PlatformCompatibility:d}=t;return n||u("Details",!0),a||u("InteractiveExample",!0),d||u("PlatformCompatibility",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"setnativeprops",children:"setNativeProps"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"setNativeProps"})," lets you imperatively update component properties."]}),"\n",(0,s.jsxs)(t.admonition,{type:"caution",children:[(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"setNativeProps"})," is an escape hatch for specific edge-cases."]}),(0,s.jsxs)(t.p,{children:["You should always reach for ",(0,s.jsx)(t.a,{href:"/docs/next/core/useAnimatedStyle",children:(0,s.jsx)(t.code,{children:"useAnimatedStyle"})})," and ",(0,s.jsx)(t.a,{href:"/docs/next/core/useAnimatedProps",children:(0,s.jsx)(t.code,{children:"useAnimatedProps"})})," first when animating styles or properties."]})]}),"\n",(0,s.jsx)(t.h2,{id:"reference",children:"Reference"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",children:"import { setNativeProps } from 'react-native-reanimated';\n\nfunction App() {\n  const animatedRef = useAnimatedRef();\n\n  const tap = Gesture.Tap().onEnd(() => {\n    // highlight-start\n    setNativeProps(animatedRef, { text: '' });\n    // highlight-end\n  });\n\n  return <TextInput ref={animatedRef} />;\n}\n"})}),"\n",(0,s.jsxs)(n,{children:[(0,s.jsx)("summary",{children:"Type definitions"}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"function setNativeProps<T extends Component>(\n  animatedRef: AnimatedRef<T>,\n  updates: StyleProps\n) => void;\n"})})]}),"\n",(0,s.jsx)(t.h3,{id:"arguments",children:"Arguments"}),"\n",(0,s.jsx)(t.h4,{id:"animatedref",children:(0,s.jsx)(t.code,{children:"animatedRef"})}),"\n",(0,s.jsxs)(t.p,{children:["An ",(0,s.jsx)(t.a,{href:"/docs/next/core/useAnimatedRef#returns",children:"animated ref"})," connected to the component you'd want to update. The animated ref has to be passed either to an ",(0,s.jsx)(t.a,{href:"/docs/next/fundamentals/glossary#animated-component",children:"Animated component"})," or a React Native built-in component."]}),"\n",(0,s.jsx)(t.h4,{id:"updates",children:(0,s.jsx)(t.code,{children:"updates"})}),"\n",(0,s.jsxs)(t.p,{children:["An object with properties you want to update. These could be both style props (eg. ",(0,s.jsx)(t.code,{children:"width"}),", ",(0,s.jsx)(t.code,{children:"backgroundColor"}),") and regular props (eg. ",(0,s.jsx)(t.code,{children:"text"}),")."]}),"\n",(0,s.jsx)(t.h3,{id:"returns",children:"Returns"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"setNativeProps"})," returns ",(0,s.jsx)(t.code,{children:"undefined"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"example",children:"Example"}),"\n","\n",(0,s.jsx)(a,{src:o.A,component:i.A}),"\n",(0,s.jsx)(t.h2,{id:"remarks",children:"Remarks"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["You should always reach for ",(0,s.jsx)(t.a,{href:"/docs/next/core/useAnimatedStyle",children:(0,s.jsx)(t.code,{children:"useAnimatedStyle"})})," and ",(0,s.jsx)(t.a,{href:"/docs/next/core/useAnimatedProps",children:(0,s.jsx)(t.code,{children:"useAnimatedProps"})})," first when animating styles or properties."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"setNativeProps"})," is supposed to only be used on the ",(0,s.jsx)(t.a,{href:"/docs/next/fundamentals/glossary#ui-thread",children:"UI thread"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"setNativeProps"})," function was created to allow updating props imperatively from gesture handlers. Because in other cases, you need to wrap ",(0,s.jsx)(t.code,{children:"setNativeProps"})," with an additional ",(0,s.jsx)(t.code,{children:"runOnUI"})," call, React Native's ",(0,s.jsxs)(t.a,{href:"https://reactnative.dev/docs/animations#setnativeprops",children:["built-in ",(0,s.jsx)(t.code,{children:"setNativeProps"})]})," proves to work better with fewer jumps between runtimes."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"platform-compatibility",children:"Platform compatibility"}),"\n",(0,s.jsx)(d,{android:!0,ios:!0,web:!0})]})}function m(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}function u(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},77159:(e,t,n)=>{n.d(t,{A:()=>a});const a="import React from 'react';\nimport { Button, StyleSheet, View } from 'react-native';\nimport Animated, {\n  runOnUI,\n  setNativeProps,\n  useAnimatedRef,\n} from 'react-native-reanimated';\n\nconst COLORS = ['#FFE780', '#87CCE8', '#FFA3A1', '#B1DFD0', '#B58DF1'];\n\nexport default function Example() {\n  const animatedRef = useAnimatedRef<Animated.View>();\n\n  const handlePress = () => {\n    runOnUI(() => {\n      // highlight-next-line\n      setNativeProps(animatedRef, {\n        backgroundColor: COLORS[Math.floor(Math.random() * COLORS.length)],\n        // highlight-next-line\n      });\n    })();\n  };\n\n  return (\n    <View style={styles.container}>\n      <Animated.View ref={animatedRef} style={styles.box} />\n      <Button title=\"change color\" onPress={handlePress} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  box: {\n    height: 120,\n    width: 120,\n    backgroundColor: '#B58DF1',\n    borderRadius: 20,\n    marginBottom: 30,\n  },\n});\n"}}]);