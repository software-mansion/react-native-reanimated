"use strict";(self.webpackChunkdocs_reanimated=self.webpackChunkdocs_reanimated||[]).push([[3260],{1228:(e,n,t)=>{t.d(n,{A:()=>o});const o="import React from 'react';\nimport { StyleSheet, View, Button, SafeAreaView } from 'react-native';\nimport Animated, {\n  useAnimatedStyle,\n  useDerivedValue,\n  useSharedValue,\n  withTiming,\n} from 'react-native-reanimated';\n\nfunction AccordionItem({\n  isExpanded,\n  children,\n  viewKey,\n  style,\n  duration = 500,\n}) {\n  const height = useSharedValue(0);\n\n  const derivedHeight = useDerivedValue(() =>\n    withTiming(height.value * Number(isExpanded.value), {\n      duration,\n    })\n  );\n  const bodyStyle = useAnimatedStyle(() => ({\n    height: derivedHeight.value,\n  }));\n\n  return (\n    <Animated.View\n      key={`accordionItem_${viewKey}`}\n      style={[styles.animatedView, bodyStyle, style]}>\n      <View\n        onLayout={(e) => {\n          height.value = e.nativeEvent.layout.height;\n        }}\n        style={styles.wrapper}>\n        {children}\n      </View>\n    </Animated.View>\n  );\n}\n\nfunction Item() {\n  return <View style={styles.box} />;\n}\n\nfunction Parent({ open }) {\n  return (\n    <View style={styles.parent}>\n      <AccordionItem isExpanded={open} viewKey=\"Accordion\">\n        <Item />\n      </AccordionItem>\n    </View>\n  );\n}\n\nexport default function App() {\n  const open = useSharedValue(false);\n  const onPress = () => {\n    open.value = !open.value;\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.buttonContainer}>\n        <Button onPress={onPress} title=\"Click me\" />\n      </View>\n\n      <View style={styles.content}>\n        <Parent open={open} />\n      </View>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    paddingTop: 24,\n  },\n  buttonContainer: {\n    flex: 1,\n    paddingBottom: '1rem',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  content: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  parent: {\n    width: 200,\n  },\n  wrapper: {\n    width: '100%',\n    position: 'absolute',\n    display: 'flex',\n    alignItems: 'center',\n  },\n  animatedView: {\n    width: '100%',\n    overflow: 'hidden',\n  },\n  box: {\n    height: 120,\n    width: 120,\n    color: '#f8f9ff',\n    backgroundColor: '#b58df1',\n    borderRadius: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n"},25962:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>d,metadata:()=>o,toc:()=>u});var o=t(37259),i=t(74848),a=t(28453),r=t(80432),s=t(1228);const d={slug:"accordion",title:"Accordion"},c=void 0,l={authorsImageUrls:[]},u=[];function h(e){const n={a:"a",code:"code",p:"p",strong:"strong",...(0,a.R)(),...e.components},{CollapsibleCode:t,ExampleVideo:o,InteractiveExample:d}=n;return t||m("CollapsibleCode",!0),o||m("ExampleVideo",!0),d||m("InteractiveExample",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:'An accordion allows to show and hide a piece of content with a smooth animation. Commonly used in "FAQ" sections.'}),"\n","\n",(0,i.jsx)(d,{src:s.A,component:r.A}),"\n",(0,i.jsxs)(n.p,{children:["The following implementation of an accordion relies on ",(0,i.jsx)(n.a,{href:"/docs/fundamentals/glossary#shared-value",children:"shared values"}),". Leveraging shared values helps to prevent unnecessary re-renders. We define shared values using the useSharedValue hook."]}),"\n",(0,i.jsx)(t,{src:s.A,showLines:[16,16]}),"\n",(0,i.jsx)(o,{sources:{android:"/react-native-reanimated/recordings/examples/accordion_android.mov",ios:"/react-native-reanimated/recordings/examples/accordion_ios.mov"}}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:"AccordionItem"})," component encapsulates each item in the accordion. A ",(0,i.jsx)(n.code,{children:"height"})," shared value manages the height of the item. The height dynamically adjusts based on the ",(0,i.jsx)(n.code,{children:"isExpanded"})," prop, resulting in smooth expansion and collapse animations. The ",(0,i.jsx)(n.code,{children:"duration"})," prop controls the duration of the animation."]}),"\n",(0,i.jsxs)(n.p,{children:["Inside the ",(0,i.jsx)(n.strong,{children:"AccordionItem"}),", the children represent the content section. It can accommodate various types of content."]}),"\n",(0,i.jsx)("samp",{id:"Accordion",children:"Accordion"}),"\n",(0,i.jsx)(t,{src:s.A,showLines:[9,41]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}function m(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},37259:e=>{e.exports=JSON.parse('{"permalink":"/react-native-reanimated/examples/accordion","source":"@site/blog/accordion.md","title":"Accordion","description":"An accordion allows to show and hide a piece of content with a smooth animation. Commonly used in \\"FAQ\\" sections.","date":"2025-05-27T09:49:16.000Z","tags":[],"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"accordion","title":"Accordion"},"unlisted":false,"nextItem":{"title":"Bottom Sheet","permalink":"/react-native-reanimated/examples/bottomsheet"}}')},62257:(e,n,t)=>{t.d(n,{A:()=>c});var o=t(96540),i=t(72188),a=t(46413),r=t(78506),s=o.forwardRef(((e,n)=>{var t=e.accessibilityLabel,i=e.color,s=e.disabled,c=e.onPress,l=e.testID,u=e.title;return o.createElement(a.A,{accessibilityLabel:t,accessibilityRole:"button",disabled:s,focusable:!s,onPress:c,ref:n,style:[d.button,i&&{backgroundColor:i},s&&d.buttonDisabled],testID:l},o.createElement(r.A,{style:[d.text,s&&d.textDisabled]},u))}));s.displayName="Button";var d=i.A.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}});const c=s},68444:(e,n,t)=>{t.d(n,{A:()=>p});var o=t(58168),i=t(98587),a=t(96540),r=t(72188),s=t(9176),d=t(7162),c=["style"],l=d.A&&window.CSS&&window.CSS.supports&&window.CSS.supports("top: constant(safe-area-inset-top)")?"constant":"env",u=a.forwardRef(((e,n)=>{var t=e.style,d=(0,i.A)(e,c);return a.createElement(s.A,(0,o.A)({},d,{ref:n,style:r.A.compose(h.root,t)}))}));u.displayName="SafeAreaView";var h=r.A.create({root:{paddingTop:l+"(safe-area-inset-top)",paddingRight:l+"(safe-area-inset-right)",paddingBottom:l+"(safe-area-inset-bottom)",paddingLeft:l+"(safe-area-inset-left)"}});const p=u},80432:(e,n,t)=>{t.d(n,{A:()=>m});t(96540);var o=t(9176),i=t(68444),a=t(62257),r=t(72188),s=t(55535),d=t(74848);const c={code:"function AccordionJs1(){const{withTiming,height,isExpanded,duration}=this.__closure;return withTiming(height.value*Number(isExpanded.value),{duration:duration});}"},l={code:"function AccordionJs2(){const{derivedHeight}=this.__closure;return{height:derivedHeight.value};}"};function u(e){let{isExpanded:n,children:t,viewKey:i,style:a,duration:r=500}=e;const u=(0,s.useSharedValue)(0),h=(0,s.useDerivedValue)(function(){const e=()=>(0,s.withTiming)(u.value*Number(n.value),{duration:r});return e.__closure={withTiming:s.withTiming,height:u,isExpanded:n,duration:r},e.__workletHash=0x938906346dc,e.__initData=c,e}()),p=(0,s.useAnimatedStyle)(function(){const e=()=>({height:h.value});return e.__closure={derivedHeight:h},e.__workletHash=9515459959826,e.__initData=l,e}());return(0,d.jsx)(s.default.View,{style:[f.animatedView,p,a],children:(0,d.jsx)(o.A,{onLayout:e=>{u.value=e.nativeEvent.layout.height},style:f.wrapper,children:t})},`accordionItem_${i}`)}function h(){return(0,d.jsx)(o.A,{style:f.box})}function p(e){let{open:n}=e;return(0,d.jsx)(o.A,{style:f.parent,children:(0,d.jsx)(u,{isExpanded:n,viewKey:"Accordion",children:(0,d.jsx)(h,{})})})}function m(){const e=(0,s.useSharedValue)(!1);return(0,d.jsxs)(i.A,{style:f.container,children:[(0,d.jsx)(o.A,{style:f.buttonContainer,children:(0,d.jsx)(a.A,{onPress:()=>{e.value=!e.value},title:"Click me"})}),(0,d.jsx)(o.A,{style:f.content,children:(0,d.jsx)(p,{open:e})})]})}const f=r.A.create({container:{flex:1,justifyContent:"center",paddingTop:24},buttonContainer:{flex:1,paddingBottom:"1rem",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{flex:1,justifyContent:"center",alignItems:"center"},parent:{width:200},wrapper:{width:"100%",position:"absolute",display:"flex",alignItems:"center"},animatedView:{width:"100%",overflow:"hidden"},box:{height:120,width:120,color:"#f8f9ff",backgroundColor:"#b58df1",borderRadius:20,alignItems:"center",justifyContent:"center"}})}}]);