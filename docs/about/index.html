<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.55">
<title data-react-helmet="true">About React Native Reanimated | React Native Reanimated</title><meta data-react-helmet="true" name="docsearch:version" content="2.0.0-alpha"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="About React Native Reanimated | React Native Reanimated"><meta data-react-helmet="true" name="description" content="This is a documentation website of Reanimated 2 alpha release."><meta data-react-helmet="true" property="og:description" content="This is a documentation website of Reanimated 2 alpha release."><meta data-react-helmet="true" property="og:url" content="https://docs.swmansion.com/react-native-reanimated//react-native-reanimated/docs/about"><link data-react-helmet="true" rel="shortcut icon" href="/react-native-reanimated/img/SWM_Fav_192x192.png"><link data-react-helmet="true" rel="canonical" href="https://docs.swmansion.com/react-native-reanimated//react-native-reanimated/docs/about"><link rel="stylesheet" href="/react-native-reanimated/styles.47a24eb7.css">
<link rel="preload" href="/react-native-reanimated/styles.b1cfc298.js" as="script">
<link rel="preload" href="/react-native-reanimated/runtime~main.8ef847fc.js" as="script">
<link rel="preload" href="/react-native-reanimated/main.d235f2d2.js" as="script">
<link rel="preload" href="/react-native-reanimated/1.58846a3b.js" as="script">
<link rel="preload" href="/react-native-reanimated/2.9c95489a.js" as="script">
<link rel="preload" href="/react-native-reanimated/3.10e6d8c5.js" as="script">
<link rel="preload" href="/react-native-reanimated/1be78505.2a6dd3c4.js" as="script">
<link rel="preload" href="/react-native-reanimated/359ddaea.2043f853.js" as="script">
<link rel="preload" href="/react-native-reanimated/34a17d9f.36edf98d.js" as="script">
</head>
<body>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/react-native-reanimated/"><strong class="navbar__title">React Native Reanimated<span class="badge badge--info">V2 alpha</span></strong></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/react-native-reanimated/docs/about">Docs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/react-native-reanimated/docs/next/">Master</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/react-native-reanimated/docs/">2.0.0-alpha</a></li><li><a class="dropdown__link" href="/react-native-reanimated/docs/1.x.x/">1.x.x</a></li></ul></div><div class="githubStarLink"><span><a href="https://github.com/software-mansion/react-native-reanimated" data-icon="octicon-star" data-show-count="true" aria-label="Star software-mansion/react-native-reanimated on GitHub">Star</a></span></div><a target="_blank" rel="noopener noreferrer" href="https://github.com/software-mansion/react-native-reanimated" class="navbar__item navbar__link"></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/react-native-reanimated/"><strong class="navbar__title">React Native Reanimated</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link menu__link--sublist navbar__link--active" href="/react-native-reanimated/docs/about">Docs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link" href="/react-native-reanimated/docs/next/">Master</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link menu__link--active" href="/react-native-reanimated/docs/">2.0.0-alpha</a></li><li class="menu__list-item"><a class="menu__link navbar__link" href="/react-native-reanimated/docs/1.x.x/">1.x.x</a></li></ul></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/software-mansion/react-native-reanimated" class="menu__link navbar__link"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1jis"><div class="docSidebarContainer_1kjN"><div class="sidebar_25T_"><div class="menu menu--responsive menu_1e9D"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button shadow--tl" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1hKf" xmlns="http://www.w3.org/2000/svg" height="36" width="36" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Fundamentals</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/react-native-reanimated/docs/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-reanimated/docs/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-reanimated/docs/worklets">Worklets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-reanimated/docs/shared-values">Shared Values</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-reanimated/docs/animations">Animations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-reanimated/docs/events">Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-reanimated/docs/architecture">Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-reanimated/docs/migration">Migration from v1</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API Reference</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Hooks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-reanimated/docs/api/useSharedValue">useSharedValue</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-reanimated/docs/api/useAnimatedStyle">useAnimatedStyle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-reanimated/docs/api/useDerivedValue">useDerivedValue</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-reanimated/docs/api/useAnimatedScrollHandler">useAnimatedScrollHandler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-reanimated/docs/api/useAnimatedGestureHandler">useAnimatedGestureHandler</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Animations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-reanimated/docs/api/withTiming">withTiming</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-reanimated/docs/api/withSpring">withSpring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-reanimated/docs/api/cancelAnimation">cancelAnimation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-reanimated/docs/api/delay">delay</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-reanimated/docs/api/loop">loop</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3j_A"><div class="container padding-vert--lg docItemWrapper_1Hme"><div class="row row--docitem"><div class="col"><div class="docItemContainer_1tAC"><article><div><span class="badge badge--secondary">Version: 2.0.0-alpha</span></div><header><h1 class="docTitle_cWlf">About React Native Reanimated</h1></header><div class="markdown"><blockquote><p>This is a documentation website of Reanimated 2 alpha release.
If you are looking for Reanimated 1 docs <a href="https://docs.swmansion.com/react-native-reanimated/docs/1.x.x/">please follow this link</a>.</p></blockquote><p>Reanimated is a React Native library that allows for creating smooth animations and interactions that runs on the UI thread.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3mK7" id="motivation"></a>Motivation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#motivation" title="Direct link to heading">#</a></h3><p>In React Native apps, the application code is executed outside of the application main thread.
This is one of the key elements of React Native architecture and helps with preventing frame drops in cases where JavaScript has some heavy work to do.
Unfortunately this design does not play well when it comes to event driven interactions.
When interacting with a touch screen, the user expects effects on screen to be immediate.
If updates are happening in a separate thread it is often a case that changes done in the JavaScript thread cannot be reflected in the same frame.
In React Native by default all updates are delayed by at least one frame as the communication between UI and JavaScript thread is asynchronous and UI thread never waits for the JavaScript thread to finish processing events.
On top of the lag with JavaScript playing many roles like running react diffing and updates, executing app’s business logic, processing network requests, etc., it is often the case that events can’t be immediately processed thus causing even more significant delays.
Reanimated aims to provide ways of offloading animation and event handling logic off of the JavaScript thread and onto the UI thread.
This is achieved by defining Reanimated worklets – a tiny chunks of JavaScript code that can be moved to a separate JavaScript VM and executed synchronously on the UI thread.
This makes it possible to respond to touch events immediately and update the UI within the same frame when the even happens without worrying about the load that is put on the main JavaScript thread.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3mK7" id="library-overview"></a>Library overview<a aria-hidden="true" tabindex="-1" class="hash-link" href="#library-overview" title="Direct link to heading">#</a></h3><p>Version 1 of Reanimated has been designed to match React Native&#x27;s Animated API while providing a more complete set of primitives for defining interactions.
In version 2 we decided to change the approach in order to address some limitation of version 1 that comes from the declarative API design.
Below we present an overview of things that are new in Reanimated 2 and different from Reanimated 1.
This is a tl;dr of the remaining parts of the documentation.
We recommend that you check the full articles to learn the details about each of the listed aspects:</p><ol><li>interactions and animations are no longer written using unintuitive declarative API, instead they can be written in pure JS, in a form of so-called “worklets”.
Worklets are pieces of JS code that we extract from the main react-native code and run in a separate JS context on the main thread.
Because of that, worklets have some limitations as to what part of the JS context they can access (we don’t want to load the entire JS bundle into the context which runs on the UI thread).</li><li>It is still possible to define and pass around “Animated Values”, however thanks to the new API, we expect that you’ll create much fewer of those for a single animation.
Also, now, they are actually called “Shared Values” and can carry not only primitive types but also arrays, objects and functions.</li><li>Shared Values are no longer directly connected to view props.
Instead, we expose a <code>useAnimatedStyle</code> hook that returns a style object which can be passed as a View’s style param.
The <code>useAnimatedStyle</code> hook takes a worklet that, when executed, should return styles that will be applied to the connected View.
The style worklet will update whenever shared values used by that worklet change (we detect dependencies on shared values automatically).</li><li>Animations can be started in two ways: by triggering animated change on a shared value, or by returning animated value from <code>useAnimatedStyle</code> hook.</li><li>With reanimated, we can hook worklets to serve as event handlers.
Most common case for an event worklet is to modify some shared values.
As a result, changes made to those values will be reflected in the animated style worklet being triggered, which in turn will result in some view properties being updated.
For convenience, Reanimated provides event hook that is tailored to work together with Gesture Handler library and allow you to define a separate worklet for handling different handler states (e.g., onStart, onActive, etc.)</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3mK7" id="known-problems-and-limitations"></a>Known problems and limitations<a aria-hidden="true" tabindex="-1" class="hash-link" href="#known-problems-and-limitations" title="Direct link to heading">#</a></h3><p>Reanimated 2 is in an early version.
As we wanted to share it with the community as soon as we could, the library still has some rough edges and limitations that we plan to address soon.
Unfortunately some of the limitations come from maturity of React Native’s TurboModule architecture that Reanimated 2 relies on.
As a consequence we won’t be able to support older versions of React Native and some issues that we yet plan to resolve may require full support of TurboModules which is not yet available to the public.</p><p>Below we highlight some of the problems that we are aware of (in most of the cases we actively work on improving these):</p><ul><li>Installation of the library requires many steps and is complicated.
This comes from the fact that TurboModules are not yet rolled out in the React Native app template.
But even without that there are a few ways how we can simplify the installation.</li><li>We currently only support Hermes JS VM on Android.</li><li>As the library uses JSI for synchronous native methods access, remote debugging is no longer possible.
You can use Flipper for debugging your JS code, however connecting debugger to JS context which runs on the UI thread is not currently supported.</li><li>The library causes occasional crashes in development mode while reloading JS bundle or upon hot reload.
We are looking into this problem and hope to have it resolved really soon.</li><li>JavaScript exceptions thrown inside of worklets sometimes give non-descriptive errors and may also result in the app crashing.</li><li>Recursive worklets aren’t supported (however there are simple workarounds for this problem)</li><li>Objects passed to worklets from React Native don’t have the correct prototype set in JavaScript.
As a result, such objects aren’t enumerable, that is you can’t use “for in” constructs, spread operator (three dots), or functions like Object.assign with them.</li><li>Expo support is not ready yet, next SDK release will support React Native 0.62 – this will allow you to use Reanimated 2 in the ejected Expo app.</li><li>Web support is missing for now as well, we plan to work on adding react-native-web support in the near future.</li></ul></div></article></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="footer-container"><a class="navbar__brand footer-image-link" to="https://www.swmansion.com/" href="https://www.swmansion.com/"><img class="navbar__logo" src="/react-native-reanimated/img/swmLogo.svg" alt="Software Mansion logo"></a><div class="githubStarLink"><span><a href="https://github.com/software-mansion/react-native-reanimated" data-icon="octicon-star" data-show-count="true" aria-label="Star software-mansion/react-native-reanimated on GitHub">Star</a></span></div></div></footer></div>
<script src="/react-native-reanimated/styles.b1cfc298.js"></script>
<script src="/react-native-reanimated/runtime~main.8ef847fc.js"></script>
<script src="/react-native-reanimated/main.d235f2d2.js"></script>
<script src="/react-native-reanimated/1.58846a3b.js"></script>
<script src="/react-native-reanimated/2.9c95489a.js"></script>
<script src="/react-native-reanimated/3.10e6d8c5.js"></script>
<script src="/react-native-reanimated/1be78505.2a6dd3c4.js"></script>
<script src="/react-native-reanimated/359ddaea.2043f853.js"></script>
<script src="/react-native-reanimated/34a17d9f.36edf98d.js"></script>
</body>
</html>