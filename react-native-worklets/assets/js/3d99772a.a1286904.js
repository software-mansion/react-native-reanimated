"use strict";(globalThis.webpackChunkdocs_worklets=globalThis.webpackChunkdocs_worklets||[]).push([[9117],{30620:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var i=n(39471);const r={},s=i.createContext(r);function a(e){const t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:t},e.children)}},94547:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>l,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"fundamentals/runtimeKinds","title":"Runtime kinds","description":"Worklets library differentiate between two types of runtimes - React Native Runtime and Worklet Runtimes. Worklet Runtimes are further divided into UI Runtime and Worker Runtimes.","source":"@site/docs/fundamentals/runtimeKinds.mdx","sourceDirName":"fundamentals","slug":"/fundamentals/runtimeKinds","permalink":"/react-native-worklets/docs/fundamentals/runtimeKinds","draft":false,"unlisted":false,"editUrl":"https://github.com/software-mansion/react-native-reanimated/edit/main/docs/docs-worklets/docs/fundamentals/runtimeKinds.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Understanding closures","permalink":"/react-native-worklets/docs/fundamentals/closures"},"next":{"title":"Bundle Mode","permalink":"/react-native-worklets/docs/category/bundle-mode"}}');var r=n(47671),s=n(30620);const a={sidebar_position:3},o="Runtime kinds",d={},c=[{value:"RN Runtime",id:"rn-runtime",level:2},{value:"Worklet Runtime",id:"worklet-runtime",level:2},{value:"UI Runtime",id:"ui-runtime",level:3},{value:"Worker Runtime",id:"worker-runtime",level:3}];function u(e){const t={a:"a",br:"br",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"runtime-kinds",children:"Runtime kinds"})}),"\n",(0,r.jsxs)(t.p,{children:["Worklets library differentiate between two types of runtimes - ",(0,r.jsx)(t.strong,{children:"React Native Runtime"})," and ",(0,r.jsx)(t.strong,{children:"Worklet Runtimes"}),". ",(0,r.jsx)(t.strong,{children:"Worklet Runtimes"})," are further divided into ",(0,r.jsx)(t.strong,{children:"UI Runtime"})," and ",(0,r.jsx)(t.strong,{children:"Worker Runtimes"}),"."]}),"\n",(0,r.jsx)(t.h2,{id:"rn-runtime",children:"RN Runtime"}),"\n",(0,r.jsxs)(t.p,{children:["React Native Runtime - a JavaScript Runtime spawned by React Native. It's the Runtime where React lives and your app's JavaScript code is executed. This Runtime is executed by the React Native's ",(0,r.jsx)(t.a,{href:"https://reactnative.dev/architecture/threading-model",children:"JS Thread"}),". This is the only Runtime that has access to the React Native APIs and the app's state and components."]}),"\n",(0,r.jsxs)(t.p,{children:["You can learn more about it by reading the ",(0,r.jsx)(t.a,{href:"https://reactnative.dev/docs/javascript-environment",children:"JavaScript Runtime"})," article in the official React Native docs."]}),"\n",(0,r.jsx)(t.p,{children:"There's only one React Native Runtime in your app."}),"\n",(0,r.jsx)(t.h2,{id:"worklet-runtime",children:"Worklet Runtime"}),"\n",(0,r.jsx)(t.p,{children:"A JavaScript Runtime spawned by Worklets library. It's pre-configured to be able to execute worklets. It doesn't share any memory with the React Native Runtime or other Worklet Runtimes, but it can communicate with them using specific APIs. It isn't coupled to any thread, but there might be a thread dedicated to its execution."}),"\n",(0,r.jsxs)(t.p,{children:["We differentiate between two kinds of Worklet Runtimes, ",(0,r.jsx)(t.strong,{children:"UI Runtime"})," and ",(0,r.jsx)(t.strong,{children:"Worker Runtimes"}),"."]}),"\n",(0,r.jsx)(t.h3,{id:"ui-runtime",children:"UI Runtime"}),"\n",(0,r.jsx)(t.p,{children:"Special kind of a Worklet Runtime. Its primary function is to execute worklets which represent high-priority JavaScript tasks. The UI Runtime is mostly executed by the UI (main) thread. Examples of such tasks are:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Synchronous handling of native events"}),".",(0,r.jsx)(t.br,{}),"\n","Responding to native events like touches on the UI thread allows to react to them on the same frame of the user interaction, without any perceivable delays."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Animation calculations"}),".",(0,r.jsx)(t.br,{}),"\n","Running animations on a main thread, decoupled from heavy business logic on RN Runtime, ensures that they run without interruptions, maintaining stable frame rates."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"UI Runtime can be periodically acquired by other threads (other runtimes) to synchronize data."}),"\n",(0,r.jsx)(t.p,{children:"There's only one UI Runtime in your app."}),"\n",(0,r.jsx)(t.h3,{id:"worker-runtime",children:"Worker Runtime"}),"\n",(0,r.jsxs)(t.p,{children:["A Worklet Runtime spawned by ",(0,r.jsx)(t.a,{href:"/docs/threading/createWorkletRuntime",children:"createWorkletRuntime"})," API per user request. Worker Runtimes are designed to execute worklets in a separate thread. They allow for custom parallelization of JavaScript code execution, which can be useful for heavy computations or tasks that don't require immediate interaction with the user interface, like data processing or background tasks."]}),"\n",(0,r.jsx)(t.p,{children:"You can customize its behavior and the thread it runs on."}),"\n",(0,r.jsx)(t.p,{children:"There can be multiple Worker Runtimes in your app running at the same time."})]})}function l(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}}}]);